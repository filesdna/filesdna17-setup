"use strict";(self.webpackChunkfilesdna=self.webpackChunkfilesdna||[]).push([[4224],{41141:(e,t,s)=>{s.d(t,{A:()=>i});s(9950);const i=s.p+"static/media/empty.ece067f8710c4248970847e7a110c92a.svg"},4224:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Y});var i,n=s(9950),r=s(77028),o=s(87094),l=s(95436),a=s(92163),d=s(22748),c=s(41893),u=s(8750),p=s(87621),m=s(26142),x=s(6375),h=s(51598),g=s(94889),f=s(89072),j=s(9251),v=s(92019),A=s(28689),y=s(70795),w=s(98341),_=s(30135),b=s(19392),k=s(37734),C=s(41397),N=(s(48213),s(41404)),S=s(96860),T=s(50753),B=s(74972),D=s(57528),F=s(33753),M=s(85908),E=s(73053);const I=F.Ay.div(i||(i=(0,D.A)(["\n  display: flex;\n  flex-flow: row wrap;\n  max-width: 160px;\n\n  .ant-btn {\n    width: 20px;\n    height: 20px;\n    border: 0;\n    outline: 0;\n    padding: 0;\n    margin: ",";\n    ",";\n\n    &:last-child {\n      margin: 0;\n    }\n\n    &:nth-child(n + 6) {\n      margin-top: 15px;\n    }\n\n    &:nth-child(5n) {\n      margin-right: 0;\n      margin-left: 0;\n    }\n  }\n"])),(e=>"rtl"===e["data-rtl"]?"0 0 0 15px":"0 15px 0 0"),(0,M.Vq)("3px"));(0,E.A)(I);var L=s(44414);var G=s(55902);const{TextArea:V}=G.A;var W=s(73149);const z=e=>{let{title:t,onConfirm:s,onCancel:i,okText:n,cancelText:r,content:o}=e;return(0,L.jsx)(W.A,{title:t,onConfirm:s,onCancel:i,okText:n||"Yes",cancelText:r||"No",overlayClassName:"smart-task-popConfirm",children:o})};s(48738);var O=s(99386);const{Option:P}=O.A;var R=s(92049),U=s(24513),q=s(36620);s(4159),s(59051);R.A,U.A,q.A;var X=s(6819);const Y=(0,_.j4)((function(e){var t;const{onAdd:s,parentFolder:i=[],folderShortcutList:_,fetchDataNav:D=(()=>{}),fetchData:F=(()=>{}),displayFlt:M,setDisFlt:E=(()=>{}),hideNew:I=!1,setGridView:G=(()=>{}),gridView:V=!1,dData:W={},showFilter:O,getSecureShareData:P=(()=>{}),fltInit:R}=e,U=(0,w.useSelector)((e=>e.App.view)),q="MobileView"===U||"TabView"===U,Y=(0,w.useDispatch)(),H=(0,w.useSelector)((e=>e.Auth.userData)),{setUserGuide:J}=N.A,{width:K}=(0,S.A)(),Q=(0,w.useSelector)((e=>e.Auth.userGuide)),[Z,$]=(0,n.useState)(-1),[ee,te]=(0,n.useState)(!1),[se,ie]=(0,n.useState)(-1),[ne,re]=(0,n.useState)(!1),[oe,le]=(0,n.useState)(-1),[ae,de]=(0,n.useState)(!1),[ce,ue]=(0,n.useState)(-1),[pe,me]=(0,n.useState)(!1),[xe,he]=(0,n.useState)(-1),[ge,fe]=(0,n.useState)(!1),[je,ve]=(0,n.useState)(!1),[Ae,ye]=(0,n.useState)(null),we=(0,n.useRef)(null),_e=(0,n.useRef)(null);(0,n.useEffect)((()=>{const e=K>=992&&Q.user_guide_visible>=1&&"upload-doc-open-doc-list"===Q.user_guide_step&&1===H.user_guide_allowed?1:0;$(e),te(1===e);const t=K>=992&&Q.user_guide_visible>=1&&"create-a-new-folder"===Q.user_guide_step&&1===H.user_guide_allowed?1:0;ie(t),re(1===t);const s=K>=992&&Q.user_guide_visible>=1&&"smart-search-with-tag"===Q.user_guide_step&&1===H.user_guide_allowed?1:0;he(s),fe(1===s);const i=K>=992&&Q.user_guide_visible>=1&&"create-a-new-document"===Q.user_guide_step&&1===H.user_guide_allowed?1:0;ue(i),me(1===i);const n=K>=992&&Q.user_guide_visible>=1&&"create-a-new-link"===Q.user_guide_step&&1===H.user_guide_allowed?1:0;le(n),de(1===n);const r=()=>{if(we.current&&_e.current&&(0,C.isArray)(_)&&!(0,C.isEmpty)(_)&&_.length>0){const e=we.current.offsetWidth-100,t=_e.current.offsetWidth/_.length,s=Math.floor(e/t);ye(s)}};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}}),[Q,_]);const be=async e=>{try{const t=await(0,X.Ay)("folder-shortcut/delete",{id:e},"POST");t.success&&(await D(),setTimeout((()=>{(0,c.A)("success",t.message)}),300)),setTimeout((()=>{}),200)}catch(t){(0,c.A)("error")}};function ke(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,T.s)(H.privilege_type,H.permission,e,H.role)}const Ce=(0,L.jsxs)(r.A,{onClick:e=>{if(s(e),"create"===e.key&&ce||"folder"===e.key&&se||"link"===e.key&&oe){Y(J({user_guide_step:"welcome",user_guide_visible:0}))}},className:se?"customMenu step-create-a-new-folder":ce?"customMenu step-create-new-document":oe?"customMenu step-create-new-link":"customMenu",style:{minWidth:150},children:[ke(B.t2)&&(0,L.jsx)(r.A.Item,{disabled:!ke(B.t2),id:"create-doc",icon:(0,L.jsx)(u.A,{}),children:(0,L.jsx)(k.A,{id:"".concat("forms"===W.page?"document.newForm":"documents.newDoc")})},"create"),ke(B._T)&&(0,L.jsx)(r.A.Item,{disabled:!ke(B._T),id:"folder-menu",icon:(0,L.jsx)(p.A,{}),children:(0,L.jsx)(k.A,{id:"documents.folder"})},"folder"),(0,L.jsx)(r.A.Item,{id:"url-menu",icon:(0,L.jsx)(m.A,{}),children:(0,L.jsx)(k.A,{id:"documents.url"})},"link")]}),Ne=(0,C.isArray)(i)?i.length:0,Se="team"===H.role&&(null===H||void 0===H||null===(t=H.home_directory)||void 0===t?void 0:t.split(",").length)>1&&!(null!==R&&void 0!==R&&R.folder_id)&&!["templates","forms","attachments"].includes(null===W||void 0===W?void 0:W.page);return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(o.A,{justify:"space-between",type:"flex",className:1===Z?"filterMain row-upload-doc-open-doc-list":"filterMain",children:[(0,L.jsx)("div",{className:"filterWrapper",children:(0,L.jsxs)(l.A,{children:[(0,L.jsx)(l.A.Item,{onClick:e=>{var t;e.preventDefault(),F({folder_id:null!==(t=H.home_directory)&&void 0!==t?t:"0"})},children:(0,L.jsx)(x.A,{style:{cursor:"pointer",color:"#888"}})}),(0,C.isArray)(i)&&!(0,C.isEmpty)(i)&&i.map(((e,t)=>{const s=t===Ne-1;return(0,L.jsx)(l.A.Item,{onClick:t=>{t.preventDefault(),(["user","admin"].indexOf(H.role)>-1||"team"===H.role)&&(s||F({folder_id:e.id}))},children:(0,L.jsx)("span",{style:s?{cursor:"default",color:"#888"}:{cursor:"pointer"},children:e.name})},e.id)}))]})}),(0,L.jsxs)("div",{className:"btnsMain ".concat(q?"rowSpaceBetween":""),children:[I?null:(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)("div",{className:ee?"user-guide-tooltip-1 type-one":"is-hide",children:[(0,L.jsxs)("div",{className:"user-guide-tooltip-content",children:["Click on ",(0,L.jsx)("b",{children:"Upload button"})," to upload PDF."]}),(0,L.jsx)("div",{className:"user-guide-tooltip-caret"}),(0,L.jsx)("div",{className:"user-guide-tooltip-caret-border"})]}),"forms"!==(null===W||void 0===W?void 0:W.page)&&ke(B.t2)&&(0,L.jsxs)(b.A,{type:"primary",id:"upload-doc",className:"uploadBtn",onClick:()=>{s({key:"upload"}),te(!1);Y(J({user_guide_step:"done",user_guide_visible:0}))},disabled:Se,children:[(0,L.jsx)(k.A,{id:"documents.upload"}),(0,L.jsx)(h.A,{})]}),(ke(B._T)||ke(B.t2))&&(0,L.jsx)(a.A,{trigger:["click"],placement:"bottomLeft",overlay:Ce,className:se?"step-create-a-new-folder":ce?"step-create-new-document":oe?"step-create-new-link":"",disabled:Se,children:(0,L.jsxs)(b.A,{type:"primary",id:"new-doc",className:"createBtn",style:{fontSize:"16PX"},children:[(0,L.jsx)(k.A,{id:W.createBtnTxt||"common.create"})," ",(0,L.jsx)(g.A,{})]})}),!["templates","forms","attachments"].includes(null===W||void 0===W?void 0:W.page)&&ke(B.lz)&&(0,L.jsx)(b.A,{type:"primary",className:"uploadBtn",onClick:P,children:(0,L.jsx)(k.A,{id:"documents.secure_share"})}),(0,L.jsxs)("div",{className:ne||pe||ae?"user-guide-tooltip-1 type-one step-create-a-new-folder":"is-hide",children:[(0,L.jsx)("div",{className:"user-guide-tooltip-content",children:ne?"Click on Create button to add a new folder.":ae?"Click on Create button to add a link.":"Click on Create button to add a new document."}),(0,L.jsx)("div",{className:"user-guide-tooltip-caret"}),(0,L.jsx)("div",{className:"user-guide-tooltip-caret-border"})]})]}),O&&(0,L.jsx)(b.A,{className:xe?"fltBtn step-smart-search-with-tag":"fltBtn",type:M?"primary":void 0,onClick:()=>{const e=K>=992&&Q.user_guide_visible>=1&&"smart-search-with-tag"===Q.user_guide_step&&1===H.user_guide_allowed?1:0;he(e),fe(1===e&&M),E(!M)},icon:M?(0,L.jsx)(f.A,{}):(0,L.jsx)(j.A,{})}),(0,L.jsxs)("div",{className:ge?"user-guide-tooltip-1 type-one step-smart-search-with-tag":"is-hide",children:[(0,L.jsxs)("div",{className:"user-guide-tooltip-content",children:["Click on ",(0,L.jsx)("b",{children:"this icon"})," to search with tag."]}),(0,L.jsx)("div",{className:"user-guide-tooltip-caret"}),(0,L.jsx)("div",{className:"user-guide-tooltip-caret-border"})]}),O&&(0,L.jsx)(b.A,{className:"fltBtn",onClick:()=>G(!V),icon:V?(0,L.jsx)(A.A,{}):(0,L.jsx)(v.A,{})})]})]}),!["templates","shared-documents","forms","attachments"].includes(null===W||void 0===W?void 0:W.page)&&(0,C.isArray)(_)&&!(0,C.isEmpty)(_)&&(0,L.jsxs)("div",{style:{border:"1px solid #f1f3f6",padding:"10px",borderRadius:"5px",margin:"5px"},children:[(0,L.jsx)("div",{style:{color:"#ccc",marginBottom:"10px",fontWeight:"bold"},children:(0,L.jsx)(k.A,{id:"folder.shortcuts"})}),(0,L.jsx)(o.A,{ref:we,children:(0,L.jsxs)("div",{children:[(0,C.isArray)(_)&&!(0,C.isEmpty)(_)&&_.slice(0,je?_.length:Ae).map((e=>(0,L.jsxs)(b.A,{style:{marginLeft:"10px",position:"relative",marginBottom:"12px"},children:[(0,L.jsx)(d.A,{title:"".concat(e.name),children:(0,L.jsx)("text",{onClick:t=>{t.preventDefault(),F({folder_id:e.folder_id})},children:e.name.length>9?"".concat(e.name.substr(0,9),"..."):e.name})}),(0,L.jsx)(z,{title:"Are you sure you want to delete shortcut to ".concat(e.name," folder ?"),onConfirm:()=>be(e.id),content:(0,L.jsx)(y.A,{twoToneColor:"#0097A7",style:{cursor:"pointer",position:"absolute",top:"-8px",right:"-7px"}})})]}))),Ae&&!je&&_.length>Ae&&(0,L.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"10px"},children:[(0,L.jsx)("div",{style:{flexGrow:1,height:"1px",border:"none",borderBottom:"1px dotted #ccc",margin:"0 10px"}}),(0,L.jsx)(b.A,{type:"link",onClick:()=>ve(!0),icon:(0,L.jsx)(g.A,{style:{color:"#0097A7"}})}),(0,L.jsx)("div",{style:{flexGrow:1,height:"1px",border:"none",borderBottom:"1px dotted #ccc",margin:"0 10px"}})]}),(0,L.jsx)("div",{ref:_e,style:{visibility:"hidden",position:"absolute",top:"-9999px"},children:_.map((e=>(0,L.jsxs)(b.A,{style:{marginLeft:"10px",position:"relative",marginBottom:"12px"},children:[(0,L.jsx)(d.A,{title:e.parentFolder?"".concat(e.parentFolder," / ").concat(e.name):"".concat(e.name),children:(0,L.jsx)("text",{onClick:t=>{t.preventDefault(),F({folder_id:e.folder_id})},children:e.name.length>9?"".concat(e.name.substr(0,9),"..."):e.name})}),(0,L.jsx)(z,{title:"Are you sure you want to delete shortcut to ".concat(e.name," folder ?"),onConfirm:()=>be(e.id),content:(0,L.jsx)(y.A,{twoToneColor:"#0097A7",style:{cursor:"pointer",position:"absolute",top:"-8px",right:"-7px"}})})]})))})]})})]})]})}))}}]);