"use strict";(self.webpackChunkfilesdna=self.webpackChunkfilesdna||[]).push([[5890],{35124:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var n=a(9950),c=a(18469),o=a(32858),r=a(11335),s=a(52160),i=a(2260),l=a(8750),d=a(36256),m=a(87194),p=a(57871),u=a(44414);function g(e){const{type:t,setting:a,setSetting:g,element:h,changeProperties:f}=e,[y,v]=(0,n.useState)(!1),A=(0,u.jsxs)("div",{children:[y?(0,u.jsx)(i.A,{}):(0,u.jsx)(l.A,{}),(0,u.jsx)("div",{style:{marginTop:8},children:"Upload"})]}),w=a?a[t]:!!h&&h[t];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h3",{children:(0,m.Md)(t)}),(0,u.jsx)(r.A,{name:"image",listType:"picture-card",customRequest:e=>(async e=>{const{onSuccess:n,onError:o,file:r}=e,s=new FormData,i={headers:{"content-type":"multipart/form-data"}};s.append("image",r),s.append("old",a?a[t]:h[t]);try{const e=await c.A.post(p.D.host+p.D.uploadImg,s,i);n("Ok"),a&&g((a=>({...a,[t]:e.data.image}))),h&&f(h,t,e.data.image)}catch(l){new Error("Some error"),o({err:l})}v(!1)})(e),showUploadList:!1,beforeUpload:e=>{const t="image/jpeg"===e.type||"image/png"===e.type;t||o.Ay.error("You can only upload JPG/PNG file!");const a=e.size/1024/1024<2;return a||o.Ay.error("Image must smaller than 2MB!"),t&&a},onChange:e=>(e=>{if("uploading"===e.file.status)return v(t),!0})(e),maxCount:1,children:w?(0,u.jsx)("img",{src:a?a[t]:h[t],alt:"avatar",style:{width:"100%"}}):A}),w&&(0,u.jsx)(s.Ay,{danger:!0,type:"text",icon:(0,u.jsx)(d.A,{}),onClick:async()=>{try{const e=new FormData;e.append("image",a?a[t]:h[t]);const n=await c.A.post(p.D.host+p.D.removeImg,e);o.Ay.info(n.data.message),a&&g((e=>({...e,[t]:null}))),h&&f(h,t,null)}catch(e){console.log(e)}},children:"Remove image"})]})}},36256:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(58168),c=a(9950);const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z"}}]},name:"delete",theme:"filled"};var r=a(25085),s=function(e,t){return c.createElement(r.A,(0,n.A)({},e,{ref:t,icon:o}))};const i=c.forwardRef(s)},43858:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(58168),c=a(9950);const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"};var r=a(25085),s=function(e,t){return c.createElement(r.A,(0,n.A)({},e,{ref:t,icon:o}))};const i=c.forwardRef(s)},62862:(e,t,a)=>{a.d(t,{p9:()=>s});var n=a(20033),c=a(5610);const o=new n.Keyframes("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),r=new n.Keyframes("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{antCls:a}=e,n="".concat(a,"-fade"),s=t?"&":"";return[(0,c.b)(n,o,r,e.motionDurationMid,t),{["\n        ".concat(s).concat(n,"-enter,\n        ").concat(s).concat(n,"-appear\n      ")]:{opacity:0,animationTimingFunction:"linear"},["".concat(s).concat(n,"-leave")]:{animationTimingFunction:"linear"}}]}}}]);