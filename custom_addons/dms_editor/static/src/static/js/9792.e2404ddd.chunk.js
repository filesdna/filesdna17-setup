(self.webpackChunkfilesdna=self.webpackChunkfilesdna||[]).push([[9792],{19392:(n,t,e)=>{"use strict";e.d(t,{A:()=>x});var a,i,r=e(52160),s=e(73053),o=e(57528),d=e(33753),c=e(1868),l=e(85908);const p=(h=r.Ay,(0,d.Ay)(h)(a||(a=(0,o.A)(["\n  &.ant-btn {\n    display: inline-block;\n    margin-bottom: 0;\n    font-weight: 500;\n    text-align: center;\n    -ms-touch-action: manipulation;\n    touch-action: manipulation;\n    cursor: pointer;\n    background-image: none;\n    // border: 1px solid transparent;\n    white-space: nowrap;\n    line-height: 1.5;\n    padding: 0 25px;\n    font-size: 14px;\n    border-radius: 4px;\n    height: 36px;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    position: relative;\n    // color: ",";\n    // border-color: ",";\n    ",";\n\n    // &:hover {\n    //   border-color: ",";\n    //   color: ",";\n    // }\n    // &:focus {\n    //   color: ",";\n    //   border-color: ",";\n    // }\n\n    > .anticon + span,\n    > span + .anticon {\n      margin: ",";\n    }\n\n    .anticon-right {\n      transform: ",";\n    }\n\n    .anticon-left {\n      transform: ",";\n    }\n\n    &.ant-btn-primary {\n      // background-color: ",";\n      // border-color: ",";\n\n      // &:hover {\n      //   background-color: ",";\n      //   border-color: ",";\n      //   color: #fff;\n      // }\n    }\n\n    &.ant-btn-sm {\n      padding: 0 15px;\n      height: 28px;\n      font-size: 12px;\n\n      &.ant-btn-loading:not(.ant-btn-circle):not(.ant-btn-circle-outline) {\n        padding: ",";\n        .anticon {\n          margin: ",";\n        }\n      }\n    }\n\n    &.ant-btn-lg {\n      padding: 0 35px;\n      font-size: 14px;\n      height: 42px;\n    }\n\n    &.ant-btn-primary {\n      color: #ffffff;\n    }\n\n    // &.ant-btn-dashed {\n    //   border-style: dashed;\n    //   border-color: ",";\n\n    //   &:hover {\n    //     color: ",";\n    //     border-color: ",";\n    //   }\n    // }\n\n    &.ant-btn-danger {\n      background-color: ",";\n      border-color: ",";\n      color: #ffffff;\n\n      &:hover {\n        background-color: ",";\n        border-color: ",";\n      }\n\n      &.ant-btn-background-ghost {\n        color: ",";\n        background-color: transparent;\n        border-color: ",";\n\n        &:hover {\n          color: ",";\n          border-color: ",";\n        }\n      }\n    }\n\n    &.ant-btn-circle,\n    &.ant-btn-circle-outline {\n      width: 35px;\n      padding: 0;\n      font-size: 14px;\n      border-radius: 50%;\n      height: 35px;\n\n      &.ant-btn-sm {\n        padding: 0;\n        height: 28px;\n        width: 28px;\n        font-size: 12px;\n      }\n\n      &.ant-btn-lg {\n        padding: 0;\n        font-size: 14px;\n        height: 42px;\n        width: 42px;\n      }\n    }\n\n    &.ant-btn.disabled,\n    &.ant-btn[disabled],\n    &.ant-btn.disabled:hover,\n    &.ant-btn[disabled]:hover,\n    &.ant-btn.disabled:focus,\n    &.ant-btn[disabled]:focus,\n    &.ant-btn.disabled:active,\n    &.ant-btn[disabled]:active,\n    &.ant-btn.disabled.active,\n    &.ant-btn[disabled].active {\n      color: ",";\n      background-color: #f7f7f7;\n      border-color: ",";\n      cursor: not-allowed;\n    }\n\n    &.ant-btn-loading:not(.ant-btn-circle):not(.ant-btn-circle-outline)\n      .anticon {\n      margin: ",";\n    }\n\n    &.isoButton {\n      display: inline-block;\n      margin-bottom: 0;\n      font-weight: 500;\n      text-align: center;\n      -ms-touch-action: manipulation;\n      touch-action: manipulation;\n      cursor: pointer;\n      background-image: none;\n      border: 0;\n      white-space: nowrap;\n      line-height: 1.5;\n      padding: 0 25px;\n      font-size: 13px;\n      border-radius: 4px;\n      height: 35px;\n      -webkit-user-select: none;\n      -moz-user-select: none;\n      -ms-user-select: none;\n      user-select: none;\n      position: relative;\n      color: #ffffff;\n      background-color: ",";\n      ",";\n\n      &:hover {\n        background-color: ",";\n      }\n\n      &.isoBtnSm {\n        padding: 0 15px;\n        height: 28px;\n        font-size: 12px;\n      }\n\n      &.isoBtnLg {\n        padding: 0 35px;\n        font-size: 14px;\n        height: 42px;\n      }\n    }\n\n    &.regularTxt {\n      color: ",";\n      padding: 0px !important;\n    }\n  }\n\n  + .ant-btn-group {\n    margin-left: "," !important;\n    margin-right: "," !important;\n  }\n"])),(0,c.palette)("text",1),(0,c.palette)("border",0),(0,l.kY)(),(0,c.palette)("primary",0),(0,c.palette)("primary",0),(0,c.palette)("primary",0),(0,c.palette)("primary",0),(n=>"rtl"===n["data-rtl"]?"0 0.5em 0 0":"0 0 0 0.5em"),(n=>"rtl"===n["data-rtl"]?"rotate(180deg)":"rotate(0)"),(n=>"rtl"===n["data-rtl"]?"rotate(180deg)":"rotate(0)"),(0,c.palette)("primary",0),(0,c.palette)("primary",0),(0,c.palette)("primary",10),(0,c.palette)("primary",10),(n=>"rtl"===n["data-rtl"]?"0 24px 0 15px":"0 15px 0 24px"),(n=>"rtl"===n["data-rtl"]?"0 -17px 0 0":"0 0 0 -17px"),(0,c.palette)("border",1),(0,c.palette)("primary",0),(0,c.palette)("primary",0),(0,c.palette)("error",0),(0,c.palette)("error",0),(0,c.palette)("error",2),(0,c.palette)("error",2),(0,c.palette)("error",0),(0,c.palette)("error",0),(0,c.palette)("error",2),(0,c.palette)("error",2),(0,c.palette)("grayscale",2),(0,c.palette)("border",0),(n=>"rtl"===n["data-rtl"]?"0 -14px 0 0":"0 0 0 -14px"),(0,c.palette)("primary",0),(0,l.kY)(),(0,c.palette)("primary",2),(0,c.palette)("text",3),(n=>"rtl"===n["data-rtl"]?"0":"-1px"),(n=>"rtl"===n["data-rtl"]?"-1px":"0")));var h;const m=(0,s.A)(p),g=(n=>(0,d.Ay)(n)(i||(i=(0,o.A)(["\n  &.ant-btn-group {\n    .ant-btn {\n      margin: 0;\n      margin-right: 0;\n      display: inline-block;\n      margin-bottom: 0;\n      font-weight: 500;\n      text-align: center;\n      -ms-touch-action: manipulation;\n      touch-action: manipulation;\n      cursor: pointer;\n      background-image: none;\n      border: 1px solid transparent;\n      border-color: ",";\n      white-space: nowrap;\n      line-height: 1.5;\n      padding: 0 8px;\n      font-size: 14px;\n      border-radius: 0;\n      height: 36px;\n      -webkit-user-select: none;\n      -moz-user-select: none;\n      -ms-user-select: none;\n      user-select: none;\n      position: relative;\n      ",";\n\n      &:hover {\n        border-color: ",";\n      }\n\n      // &.ant-btn-dashed {\n      //   border-style: dashed;\n\n      //   &:hover {\n      //     border-color: ",";\n      //   }\n      // }\n\n      &.ant-btn-primary {\n        border-color: ",";\n\n        &:hover {\n          border-color: ",";\n        }\n      }\n    }\n\n    > .ant-btn:first-child:not(:last-child) {\n      border-radius: ",";\n    }\n\n    > .ant-btn:last-child:not(:first-child) {\n      border-radius: ",";\n    }\n\n    .ant-btn-primary:last-child:not(:first-child),\n    .ant-btn-primary + .ant-btn-primary {\n      border-left-color: ",";\n      border-right-color: ",";\n    }\n\n    .ant-btn-primary:first-child:not(:last-child) {\n      border-left-color: ",";\n      border-right-color: ",";\n    }\n\n    .ant-btn + .ant-btn,\n    + .ant-btn {\n      margin-left: "," !important;\n      margin-right: "," !important;\n    }\n\n    &.ant-btn-group-lg {\n      > .ant-btn {\n        padding: 0 35px;\n        font-size: 14px;\n        height: 42px;\n      }\n    }\n\n    &.ant-btn-group-sm {\n      > .ant-btn {\n        padding: 0 15px;\n        height: 28px;\n        font-size: 12px;\n      }\n    }\n  }\n\n  &.ant-btn-group + &.ant-btn-group {\n    margin-left: "," !important;\n    margin-right: "," !important;\n  }\n"])),(0,c.palette)("border",1),(0,l.kY)(),(0,c.palette)("primary",0),(0,c.palette)("primary",0),(0,c.palette)("primary",0),(0,c.palette)("primary",10),(n=>"rtl"===n["data-rtl"]?"0 4px 4px 0":"4px 0 0 4px"),(n=>"rtl"===n["data-rtl"]?"4px 0 0 4px":"0 4px 4px 0"),(n=>"rtl"===n["data-rtl"]?(0,c.palette)("primary",0):(0,c.palette)("primary",2)),(n=>"rtl"===n["data-rtl"]?(0,c.palette)("primary",2):(0,c.palette)("primary",0)),(n=>"rtl"===n["data-rtl"]?(0,c.palette)("primary",2):(0,c.palette)("primary",0)),(n=>"rtl"===n["data-rtl"]?(0,c.palette)("primary",0):(0,c.palette)("primary",2)),(n=>"rtl"===n["data-rtl"]?"0":"-1px"),(n=>"rtl"===n["data-rtl"]?"-1px":"0"),(n=>"rtl"===n["data-rtl"]?"0":"-1px"),(n=>"rtl"===n["data-rtl"]?"-1px":"0")))(p.Group),x=((0,s.A)(g),m)},21270:(n,t,e)=>{"use strict";e.d(t,{A:()=>r});var a=e(69466),i=e(44414);function r(n){let{id:t,style:e,children:r,className:s,autoHide:o=!0,autoHeight:d,autoHeightMin:c=0,autoHeightMax:l=200,sRef:p,...h}=n;return(0,i.jsx)(a.ur,{ref:p,id:t,className:s,style:e,autoHide:o,autoHideTimeout:1e3,autoHideDuration:200,thumbMinSize:30,universal:!0,autoHeight:d,autoHeightMin:c,autoHeightMax:l,...h,children:r})}},19929:(n,t,e)=>{"use strict";e.d(t,{$8:()=>x,MV:()=>u,jl:()=>g,jw:()=>f,pO:()=>m});var a,i,r,s,o,d,c=e(57528),l=e(33753),p=e(1868),h=e(73053);const m=l.Ay.div(a||(a=(0,c.A)(["\n  .signForm {\n    background-color: #f4f4f4;\n    width: 100%;\n    border: 1px dashed rgb(221, 221, 221);\n    padding: 10px;\n    border-radius: 5px;\n\n    & .ant-divider-horizontal {\n      margin: -3px 0 10px !important;\n    }\n  }\n  .signPad {\n    width: 100%;\n    min-height: 150px;\n  }\n  .absolute-cross {\n    position: absolute;\n    bottom: 25px;\n    left: 12px;\n    color: #999;\n    font-size: 12px;\n  }\n  .footerTxt {\n    text-align: center;\n    color: rgb(153, 153, 153);\n    font-size: 12px;\n  }\n  .clearTxt {\n    position: absolute;\n    right: 15px;\n    top: 10px;\n    color: ",";\n    padding: 0px 3px;\n    border: 1px solid ",";\n    border-radius: 2px;\n    font-weight: bold;\n    font-size: 13px;\n    cursor: pointer;\n  }\n  position: relative;\n  // margin-right: 5px;\n"])),(0,p.palette)("primary",0),(0,p.palette)("primary",0)),g=l.Ay.div(i||(i=(0,c.A)(["\n  height: 26px;\n  width: 26px;\n  border-radius: 50%;\n  border: 1px solid #ddd;\n  text-align: center;\n  margin-left: 26px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: ",";\n\n  @media only screen and (max-width: 768px) {\n    margin-left: 7px;\n  }\n  @media only screen and (max-width: 580px) {\n    height: 22px;\n    width: 22px;\n  }\n}\n"])),(0,p.palette)("primary",0)),x=l.Ay.div(r||(r=(0,c.A)(["\n  background-color: rgb(244, 244, 244);\n  // border: 1px dashed rgb(204, 204, 204);\n  justify-content: center;\n  align-items: center;\n  // display: flex;\n  height: 234px;\n  border-radius: 5px;\n  @media (max-width: 768px) {\n    margin-bottom: 10px;\n  }\n\n  & .dragWrapper {\n    background-color: #f4f4f4 !important;\n    padding: 10px;\n    min-width: 100px;\n    position: relative;\n    border: none;\n\n    & .ant-upload-drag-container {\n      text-align: center;\n      cursor: pointer;\n\n      & .ant-upload-drag-icon {\n        & .anticon {\n          color: #2dc4b5;\n          font-size: 48px;\n        }\n      }\n\n      & .ant-upload-text {\n        margin: 0 0 4px;\n        font-size: 16px;\n      }\n    }\n\n    &.verifyDrag {\n      min-width: 200px;\n      height: 234px;\n      padding: 40px 0 15px 0px;\n\n      & > span {\n        padding: 0px !important;\n      }\n\n      & .ant-upload-drag-container {\n        text-align: center;\n        cursor: pointer;\n      }\n\n      & .pdfContainer {\n        max-width: 50%;\n        border: 1px dashed #666;\n        padding: 10px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 130px;\n        height: 130px;\n        margin: 0 auto;\n        background: #eee;\n        flex-direction: column;\n\n        & .viewTxt {\n          font-weight: bold;\n          margin-top: 10px;\n        }\n\n        & .anticon {\n          font-size: 39px;\n          color: ",";\n        }\n\n        &:hover {\n          border-color: ",";\n          & .anticon {\n            color: ",";\n          }\n        }\n      }\n\n      & .verify-container {\n        img {\n          max-width: 100%;\n        }\n      }\n      & .changeTxt {\n        position: absolute;\n        right: 15px;\n        top: 10px;\n        color: ",";\n        padding: 0px 3px;\n        border: 1px solid ",";\n        border-radius: 2px;\n        font-weight: bold;\n        font-size: 13px;\n        cursor: pointer;\n      }\n    }\n  }\n"])),(0,p.palette)("secondary",2),(0,p.palette)("primary",0),(0,p.palette)("primary",0),(0,p.palette)("primary",0),(0,p.palette)("primary",0)),u=(0,h.A)(l.Ay.div(s||(s=(0,c.A)(["\n  & .controlMain {\n    display: flex;\n    justify-content: start;\n    & > div {\n      padding-right: 10px;\n      & > span {\n        display: inline-block;\n        margin-right: 3px;\n\n        &:after {\n          content: ':';\n          margin-left: 3px;\n        }\n      }\n    }\n  }\n"]))));const f=(0,h.A)(l.Ay.div(d||(d=(0,c.A)(["\n  ","\n"])),function(){let n="";for(let t=1;t<=10;t+=1){const a=e(1531)("./sign".concat(t,".woff"));n+="\n      @font-face {\n        font-family: 'Sign".concat(t,"';\n        font-style: normal;\n        font-weight: 300;\n        font-display: swap;\n        src: url('").concat(a,"');\n        src: url('").concat(a,"') format('woff');\n      }\n    ")}return(0,l.AH)(o||(o=(0,c.A)(["\n    ","\n  "])),n)}()))},69792:(n,t,e)=>{"use strict";e.r(t),e.d(t,{default:()=>_});var a,i=e(87094),r=e(41988),s=e(35621),o=e(37734),d=e(10597),c=e(35116),l=e(9950),p=e(18469),h=e(41893),m=e(12678),g=e(27379),x=e(44070),u=e(39401),f=e(41135),b=e(72612),w=e(73462),y=e(35398),A=e(82056),j=e(23072),v=e(28878),k=e(19392),S=e(21270),P=e(61551),N=e(98581),z=e(45182),I=e(19929),M=e(57528),T=e(33753);const C=(0,e(73053).A)(T.Ay.div(a||(a=(0,M.A)(["\n  & .mTitle {\n    font-size: 17px;\n  }\n\n  .deleteMain {\n    margin-top: 25px;\n    display: flex;\n    justify-content: space-between;\n  }\n  & .ant-row {\n    & .masterDrawCol {\n      padding: 12px;\n      width: 40%;\n      @media only screen and (min-width: 1770px) {\n        width: 35%;\n      }\n      @media only screen and (max-width: 1600px) {\n        width: 45%;\n      }\n      @media only screen and (max-width: 1440px) {\n        width: 52%;\n      }\n      @media only screen and (max-width: 1300px) {\n        width: 58%;\n      }\n      @media only screen and (max-width: 1080px) {\n        width: 100%;\n      }\n    }\n    & .masterListCol {\n      padding: 12px;\n      width: 43%;\n\n      & .ant-divider-horizontal {\n        margin: 15px 0;\n      }\n\n      @media only screen and (max-width: 1769px) {\n        width: 45%;\n      }\n      @media only screen and (max-width: 1440px) {\n        width: 45%;\n\n        & .ant-divider-horizontal {\n          margin: 10px 0;\n        }\n      }\n      @media only screen and (max-width: 1300px) {\n        width: 42%;\n      }\n      @media only screen and (max-width: 1080px) {\n        width: 70%;\n      }\n      @media only screen and (max-width: 768px) {\n        width: 100%;\n      }\n    }\n  }\n\n  & .signDetailMain {\n    & .signWrapper {\n      display: inline-block;\n      width: auto;\n    }\n    & .signForm {\n      max-height: 290px;\n\n      & .hintTitle {\n        margin-bottom: 5px;\n      }\n      & canvas {\n        background: #fff;\n      }\n    }\n    & .masterDraw {\n      & > h2 {\n        margin-bottom: 7px;\n      }\n\n      & .drawImgMain {\n        max-width: 420px;\n        width: 100%;\n        margin-bottom: 8px;\n        text-align: center;\n        border: 2px dashed #bccc;\n        height: 160px;\n        max-height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n\n        & img {\n          max-width: 100%;\n          max-height: 100%;\n        }\n      }\n    }\n\n    & .signAction {\n      display: flex;\n      align-items: center;\n      margin-top: 5px;\n\n      & > p {\n        flex: 1;\n      }\n\n      & > .ant-btn {\n        margin-left: 5px;\n      }\n    }\n\n    & .masterAction {\n      display: flex;\n      align-items: center;\n      justify-content: flex-end;\n      margin-top: 10px;\n\n      & > label {\n        margin-right: 5px;\n      }\n    }\n\n    & .deleteMain {\n      margin-top: 25px;\n    }\n  }\n\n  & .masterMain {\n    & > h2 {\n      margin-bottom: 7px;\n    }\n\n    & .ant-list-item {\n      & .ant-card {\n        & .ant-card-body {\n          padding: 0px;\n        }\n        & .ant-card-actions {\n          & > li {\n            margin: 0px;\n\n            & .ant-btn {\n              padding: 0px;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  & .scoreMain {\n    & .ant-progress {\n      & .ant-progress-inner {\n        width: 150px !important;\n        height: 150px !important;\n\n        & .ant-progress-text {\n          & small {\n            font-size: 13px;\n            margin-top: 5px;\n          }\n        }\n\n        @media (max-width: 1440px) {\n          width: 120px !important;\n          height: 120px !important;\n          font-size: 20px !important;\n        }\n\n        @media (max-width: 1366px) {\n          width: 100px !important;\n          height: 100px !important;\n          font-size: 18px !important;\n        }\n      }\n    }\n\n    & > div {\n      margin-bottom: 15px;\n\n      &.scroreCircle {\n        & > h2 {\n          margin-bottom: 5px;\n        }\n        & .ant-col {\n          text-align: center;\n        }\n      }\n    }\n  }\n\n  @media only screen and (max-width: 1440px) {\n    & .scoreMain {\n      & .ant-row {\n        & .ant-col {\n          padding-left: 2px !important;\n          padding-right: 2px !important;\n\n          & .ant-card-body {\n            padding: 14px;\n\n            & .ant-statistic {\n              & .ant-statistic-title {\n                font-size: 12px;\n              }\n              & .ant-statistic-content {\n                font-size: 19px;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]))));var D=e(44414);const{Text:H}=u.A,{confirm:L}=f.A;class R extends l.Component{constructor(n){super(n),this.initSignPad=()=>{if(window.SignaturePad){const n=document.getElementById("signature-pad").querySelector("canvas");this.signaturePad=new window.SignaturePad(n,{wrapper:"main",backgroundColor:"rgb(255, 255, 255)"}),this.getUserInfo(),this.getInitInfo(),window.widthEvent=this.widthEvent,window.angleEvent=this.angleEvent,window.catchPoint=this.catchPoint,window.timerPoint=this.timerPoint,window.interval=10,window.mouseClickCnt={main:0},this.points=[],this.timerPoints=[],this.initalPoints=[]}this.signaturePad.off()},this.catchPoint=n=>{n.data.time=Date.now(),"main"===n.wrapper?this.points.push(n.data):this.initalPoints.push(n.data)},this.timerPoint=n=>{n.data.time=Date.now(),this.timerPoints.push(n.data)},this.clearPad=()=>{window.mouseClickCnt.main=0,this.points=[],this.timerPoints=[],this.signaturePad.clear()},this.getInitInfo=async()=>{const{token:n}=this.props,{masterImages:t,masterPath:e}=this.state;let a=e;if(this.setState({processRequest:!0}),n){const e=await fetch("".concat(N.A.signAPIUrl,"users/api/commonInfo/"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(n)}}),{data:i}=await e.json(),r=(null===i||void 0===i?void 0:i.masterImageList)||[],s=r.length;this.state.masterImages=[];for(let n=0;n<s;n+=1)t.push(r[n]);s&&(a=t.at(-1).avarageMasterURL),this.setState({signatureId:(null===i||void 0===i?void 0:i.signatureMaxTrial)||0,masterImages:t,confident:null===i||void 0===i?void 0:i.confident,masterPath:a,processRequest:!1})}},this.getUserInfo=async()=>{const{token:n}=this.props,t=await fetch("".concat(N.A.signAPIUrl,"users/api/userData"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(n)}}),e=await t.json(),a="".concat(e.first_name," ").concat(e.last_name),{email:i}=e;this.setState((n=>{const t={...n};return t.fullName=a,t.email=i,t}))},this.dataURItoBlob=n=>{const t=atob(n.split(",")[1]),e=n.split(",")[0].split(":")[1].split(";")[0],a=new ArrayBuffer(t.length),i=new DataView(a);for(let r=0;r<t.length;r+=1)i.setUint8(r,t.charCodeAt(r));return new Blob([a],{type:e})},this.onSaveClick=async()=>{const{stepNo:n,isMasterDrawing:t,testType:e,signatureId:a,masterImages:i}=this.state,{token:r}=this.props,s=this.signaturePad.toDataURL(),o=this.dataURItoBlob(s);if(this.points.length<10)(0,h.A)("error","err.drawNotEnough");else if(n>0){const s=new FormData;s.append("DrawingData",o,"signature.png"),s.append("isMasterDrawing",t),s.append("testType",e),s.append("step",n),s.append("drawParameters",JSON.stringify(this.points)),s.append("timerPoints",JSON.stringify(this.timerPoints)),s.append("stopPoints",window.mouseClickCnt.main),s.append("trialID",a);const d={headers:{Accept:"application/json","Content-Type":"multipart/form-data",Authorization:"Token ".concat(r)}};this.setState({processRequest:!0}),p.A.post("".concat(N.A.signAPIUrl,"users/api/addTestData/"),s,d).then((t=>{const{data:s}=t;if(!0===s.master){const t={user:s.user,trial:a,step:n,url:s.masterPath};!0===s.isWrongMaster?(0,h.A)("error","err.masterNotCorrect"):!1===s.isWrongMaster&&(i.push(t),this.setState({masterPath:s.avarageMasterURL,masterImages:i}))}else i.length<3&&(0,h.A)("error","err.master3ErrMsg");if(this.setState({confident:s.confident,loss:s.loss}),1===a){s.isWrongMaster?this.setState({stepNo:n}):((0,h.A)("success","Master_".concat(n," Signature is accepted")),this.setState({stepNo:n+1})),s.confident>=40&&(s.isWrongMaster?this.setState({stepNo:n}):(this.setState({stepNo:0}),(0,h.A)("success","Master Signature is finished"),this.signaturePad.off()));const t=new FormData;t.append("testType",e),t.append("step",n),p.A.post("".concat(N.A.signAPIUrl,"api/getcontent/"),t,{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Token ".concat(r)}}).then((n=>{var t;this.setState({content:null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.data})})).catch((n=>{console.log(n),this.setState({processRequest:!1})}))}else{this.setState({stepNo:0});const{loss:n}=this.state;if(parseFloat(n)<40)parseFloat(n)<1?("No Error"===s.errorMessage&&this.setState({modalVisible:!0}),(0,h.A)("error","Signature is not valid, ".concat(s.errorMessage))):(this.setState({modalVisible:!0}),(0,h.A)("error","Signature is not valid, only ".concat(n,"% is matching")));else{const n=(0,z.A)("signature.testCompleteMsg",{signatureId:a});(0,h.A)("success",n)}this.signaturePad.off()}this.clearPad(),this.setState({processRequest:!1})})).catch((n=>{console.log(n),this.setState({processRequest:!1})}))}},this.onShowMasterDrawing=async n=>{const{masterPath:t}=this.state,e=t;this.setState({masterPath:n.url}),setTimeout((()=>{this.setState({masterPath:e})}),5e3)},this.handleClear=async(n,t)=>{const{signatureId:e}=this.state,{token:a}=this.props;this.setState({processRequest:!0});const i=new FormData;i.append("testType",t);const r={headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Token ".concat(a)}};p.A.post("".concat(N.A.signAPIUrl,"users/api/clearDataset/"),i,r).then((()=>{let n=e;3===t&&(n=0),this.setState({masterPath:"/images/nodata.png",masterImages:[],processRequest:!1,confident:0,loss:-1,signatureId:n})})).catch((n=>{console.log(n),this.setState({processRequest:!1})}))},this.onStart=async(n,t)=>{const{signatureId:e}=this.state,{token:a}=this.props;this.signaturePad.on(),this.setState({isMasterDrawing:!1});const i={headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Token ".concat(a)}},r=new FormData,{confident:s,masterImages:o}=this.state;s<40?this.setState({signatureId:1,stepNo:o.length+1}):this.setState({signatureId:e+1,stepNo:1}),this.setState({loss:-1}),r.append("testType",t),r.append("step",o.length+1);const{data:d}=await p.A.post("".concat(N.A.signAPIUrl,"api/getcontent/"),r,i);this.setState({content:d.data,testType:t})},this.resultString=n=>n<0?"":n>=80?"best":n>=60?"good":n>=40?"acceptable":"poor",this.state={redirect:"",fullName:"",email:"",stepNo:0,content:"Click on 'Start' button",testType:0,signatureId:0,width:0,angle:0,loss:-1,confident:0,isMasterDrawing:0,masterPath:"/images/nodata.png",processRequest:!1,masterImages:[],isSignpadLoaded:!1,modalVisible:!1,modalLoading:!1}}static getDerivedStateFromProps(n,t){const{isScriptLoaded:e,isScriptLoadSucceed:a}=n;return!t.isSignpadLoaded&&e&&a?{isSignpadLoaded:!0}:null}componentDidUpdate(n,t){const{isSignpadLoaded:e}=this.state;t.isSignpadLoaded!==e&&e&&this.initSignPad()}render(){const{loss:n,masterPath:t,processRequest:e,confident:a,signatureId:s,stepNo:c,masterImages:l,content:p}=this.state,h=this.resultString(Number(n));return(0,D.jsx)(d._H,{children:(0,D.jsx)(i.A,{children:(0,D.jsx)(r.A,{xs:24,children:(0,D.jsx)(C,{children:(0,D.jsx)(b.A,{spinning:e||!1,children:(0,D.jsxs)(i.A,{gutter:[24,24],children:[(0,D.jsx)("div",{className:"masterDrawCol",children:(0,D.jsxs)("div",{className:"signDetailMain",children:[(0,D.jsxs)("div",{className:"masterDraw",children:[(0,D.jsx)("h2",{className:"mTitle",children:(0,D.jsx)(o.A,{id:"signature.masterDraw"})}),(0,D.jsx)("div",{className:"drawImgMain",children:(0,D.jsx)("img",{alt:"Master Draw",src:t})})]}),(0,D.jsx)("div",{id:"signature-pad",children:(0,D.jsx)("div",{children:(0,D.jsxs)(I.pO,{className:"signWrapper",children:[(0,D.jsxs)("div",{className:"signForm",children:[0!==c?(0,D.jsx)("h4",{className:"hintTitle",children:(0,D.jsx)(o.A,{id:"signature.stepContent",values:{step:c,content:p}})}):(0,D.jsx)("h4",{className:"hintTitle",children:p}),(0,D.jsx)("div",{children:(0,D.jsx)("canvas",{height:"200",width:"400"})}),(0,D.jsxs)("div",{className:"signAction",children:[(0,D.jsx)("p",{children:(0,D.jsx)(o.A,{id:"signature.trialNum",values:{num:s}})}),(0,D.jsx)(k.A,{type:"primary",disabled:c>0,onClick:n=>this.onStart(n,3),children:(0,D.jsx)(o.A,{id:"common.start"})}),(0,D.jsx)(k.A,{onClick:this.clearPad,children:(0,D.jsx)(o.A,{id:"common.clear"})})]})]}),(0,D.jsx)("div",{className:"masterAction",children:(0,D.jsx)(k.A,{type:"primary",disabled:0===c,onClick:()=>this.onSaveClick(),children:(0,D.jsx)(o.A,{id:"common.save"})})})]})})})]})}),(0,D.jsxs)("div",{className:"masterListCol",children:[(0,D.jsxs)("div",{className:"masterMain",children:[(0,D.jsx)("h2",{className:"mTitle",children:(0,D.jsx)(o.A,{id:"signature.masterDrawings"})}),(0,D.jsx)(S.A,{autoHide:!1,autoHeight:!0,autoHeightMax:330,renderTrackHorizontal:()=>(0,D.jsx)("div",{}),children:(0,D.jsx)(w.A.PreviewGroup,{children:(0,D.jsx)(y.A,{grid:{gutter:16,xs:2,sm:3,md:3,lg:3,xl:2,xxl:3},dataSource:l,renderItem:n=>(0,D.jsx)(y.A.Item,{children:(0,D.jsx)(A.A,{actions:[(0,D.jsx)(k.A,{type:"link",icon:(0,D.jsx)(m.A,{}),"aria-label":"VisibilityIcon",onClick:()=>{this.onShowMasterDrawing(n)}})],children:(0,D.jsx)(w.A,{alt:"Sign",src:n.url,style:{width:"100%",height:"auto"}})})})})})})]}),(0,D.jsx)(j.A,{}),(0,D.jsx)("div",{className:"scoreMain",children:(0,D.jsx)("div",{className:"scroreCircle",children:(0,D.jsxs)(i.A,{gutter:[12],style:{alignItems:"center"},children:[(0,D.jsx)(r.A,{xs:10,children:(0,D.jsx)(v.A,{type:"circle",percent:Number(n),format:n=>(0,D.jsxs)(D.Fragment,{children:[n,"%",(0,D.jsx)("small",{className:"block",children:h?(0,D.jsx)(o.A,{id:"signature.score.".concat(h)}):(0,D.jsx)(o.A,{id:"common.score"})})]})})}),(0,D.jsx)(r.A,{xs:4,children:(0,D.jsx)(o.A,{id:"common.scoring"})}),(0,D.jsx)(r.A,{xs:10,children:(0,D.jsx)(v.A,{type:"circle",percent:a,format:n=>(0,D.jsxs)(D.Fragment,{children:[n,"%",(0,D.jsx)("small",{className:"block",children:(0,D.jsx)(o.A,{id:"common.confident"})})]})})})]})})})]}),(0,D.jsx)(r.A,{xs:24,children:(0,D.jsxs)("div",{className:"deleteMain",children:[(0,D.jsxs)(k.A,{onClick:n=>{L({title:(0,z.A)("signature.deleteConfirm"),icon:(0,D.jsx)(g.A,{}),maskClosable:!0,okText:(0,z.A)("common.delete"),okButtonProps:{type:"danger",id:"danger-btn"},onOk:()=>{this.handleClear(n,3),Promise.resolve()}})},disabled:c>0,danger:!0,children:[(0,D.jsx)(x.A,{})," ",(0,D.jsx)(o.A,{id:"signature.deleteData"})]}),(0,D.jsx)(H,{className:"version",children:"Version: 1.3"})]})})]})})})})})})}}const U=(0,P.Ay)("/js/signature_pad.umd.js")(R);const _=function(n){let{token:t,user:e}=n;const a=e.is_verify_signature&&0!==e.is_verify_signature;return(0,D.jsx)(d._H,{children:(0,D.jsxs)(i.A,{gutter:[16],children:[(0,D.jsx)(r.A,{xs:24,children:(0,D.jsxs)("h2",{className:"userSettingsTitle",children:[(0,D.jsx)(o.A,{id:"settings.userVerification"}),(0,D.jsx)("small",{className:"ml5",children:"(".concat(c.yk.is_verify_signature.weightage,"%)")})]})}),(0,D.jsxs)(r.A,{xs:24,children:[(0,D.jsx)("div",{className:"proofWrapper",children:(0,D.jsxs)("div",{children:[(0,D.jsx)("h3",{className:"uploadTitleWrap",children:(0,D.jsx)(o.A,{id:"signature.smart"})}),(0,D.jsx)(s.A,{color:a?"green":"red",style:{marginLeft:8},children:(0,D.jsx)(o.A,{id:"settings.".concat(a?"verified":"notVerified")})})]})}),(0,D.jsx)("div",{className:"mt10",children:(0,D.jsx)(U,{token:t,user:e})})]})]})})}},85908:(n,t,e)=>{"use strict";function a(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.3;return"\n      -webkit-transition: all ".concat(n,"s cubic-bezier(0.215, 0.61, 0.355, 1);\n      -moz-transition: all ").concat(n,"s cubic-bezier(0.215, 0.61, 0.355, 1);\n      -ms-transition: all ").concat(n,"s cubic-bezier(0.215, 0.61, 0.355, 1);\n      -o-transition: all ").concat(n,"s cubic-bezier(0.215, 0.61, 0.355, 1);\n      transition: all ").concat(n,"s cubic-bezier(0.215, 0.61, 0.355, 1);\n  ")}function i(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"\n      -webkit-border-radius: ".concat(n,";\n      -moz-border-radius: ").concat(n,";\n      -ms-transition: ").concat(n,";\n      -o-border-radius: ").concat(n,";\n      border-radius: ").concat(n,";\n  ")}function r(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none";return"\n      -webkit-box-shadow: ".concat(n,";\n      -moz-box-shadow: ").concat(n,";\n      box-shadow: ").concat(n,";\n  ")}e.d(t,{MS:()=>r,Vq:()=>i,kY:()=>a})},1531:(n,t,e)=>{var a={"./sign1.woff":57020,"./sign10.woff":98636,"./sign2.woff":15929,"./sign3.woff":42406,"./sign4.woff":42931,"./sign5.woff":86208,"./sign6.woff":33149,"./sign7.woff":18170,"./sign8.woff":28167,"./sign9.woff":9620};function i(n){var t=r(n);return e(t)}function r(n){if(!e.o(a,n)){var t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}return a[n]}i.keys=function(){return Object.keys(a)},i.resolve=r,n.exports=i,i.id=1531},57020:(n,t,e)=>{"use strict";n.exports=e.p+"static/media/sign1.1fb5b043585234b6f308.woff"},98636:(n,t,e)=>{"use strict";n.exports=e.p+"static/media/sign10.3cfe36699a2522821730.woff"},15929:(n,t,e)=>{"use strict";n.exports=e.p+"static/media/sign2.241e1d17d5b9a78971dc.woff"},42406:(n,t,e)=>{"use strict";n.exports=e.p+"static/media/sign3.126c0da4264b86892700.woff"},42931:(n,t,e)=>{"use strict";n.exports=e.p+"static/media/sign4.101d4eb06302f82225cb.woff"},86208:(n,t,e)=>{"use strict";n.exports=e.p+"static/media/sign5.3c8e9a69775ee24091d7.woff"},33149:(n,t,e)=>{"use strict";n.exports=e.p+"static/media/sign6.87527a98cf7ecf934e9b.woff"},18170:(n,t,e)=>{"use strict";n.exports=e.p+"static/media/sign7.27bc144ed3f45d0a7472.woff"},28167:(n,t,e)=>{"use strict";n.exports=e.p+"static/media/sign8.9d6ec2a91ef9f2f16b73.woff"},9620:(n,t,e)=>{"use strict";n.exports=e.p+"static/media/sign9.ae5c1b23209434eff00b.woff"}}]);