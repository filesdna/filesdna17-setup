"use strict";(self.webpackChunkfilesdna=self.webpackChunkfilesdna||[]).push([[1918],{21707:(n,e,t)=>{t.d(e,{A:()=>x});var r=t(44070);const o=t(73149).A;var i=t(41893),a=t(19392),s=t(37734),l=t(6819),c=t(41397),d=t(79796),p=t(44414);function x(n){const{apiUrl:e,apiData:t,title:x,fetchData:u=(()=>{}),setState:m=(()=>{}),onConfirm:h=(()=>{}),btnId:g,btnProps:b={},deleteCallback:f,disabled:v=!1}=n;return(0,p.jsx)(d.A,{children:(0,p.jsx)(o,{title:x,okText:(0,p.jsx)(s.A,{id:"common.deleteCap"}),okButtonProps:{id:"delete-item"},cancelText:(0,p.jsx)(s.A,{id:"common.no"}),onConfirm:async function(){if((0,c.isObject)(t)&&!(0,c.isEmpty)(t)){m((n=>({...n,loading:!0})));try{(new FormData).append("id",t.document_id),console.log(t);let n=await(0,l.Ay)(e,{params:t},"POST",{...l.$K,"Content-Type":"application/json"});n="form"===t.type?n.data:n.result;let r="error";n.success?(f&&f(),r="success",u()):m((n=>({...n,loading:!1}))),setTimeout((()=>{(0,i.A)(r,n.message)}),200)}catch(n){m((n=>({...n,loading:!1}))),(0,i.A)("error")}}else h()},className:"deleteBtn",onCancel:null,placement:"topRight",disabled:v,children:(0,p.jsx)("div",{children:(0,p.jsx)(a.A,{id:g,shape:"circle",danger:!0,icon:(0,p.jsx)(r.A,{}),className:"deleteCircle ".concat(v?" disabled":""),...b})})})})}},79796:(n,e,t)=>{t.d(e,{A:()=>c});var r,o=t(57528),i=t(33753),a=t(1868),s=t(73053);const l=i.Ay.div(r||(r=(0,o.A)(["\n  & .deleteCircle,\n  & .deleteCircle:hover {\n    color: ",";\n    border-width: 0px;\n  }\n"])),(0,a.palette)("error",0)),c=(0,s.A)(l)},17619:(n,e,t)=>{t.d(e,{A:()=>a});var r,o=t(57528),i=t(33753);const a=(0,t(73053).A)(i.Ay.div(r||(r=(0,o.A)(["\n  @keyframes voice_pulse {\n    0% {\n      box-shadow: 0px 0px 5px 0px rgba(214, 214, 214, 0.7);\n    }\n    65% {\n      box-shadow: 0px 0px 5px 13px rgba(214, 214, 214, 0.9);\n    }\n    90% {\n      box-shadow: 0px 0px 5px 13px rgba(214, 214, 214, 0);\n    }\n  }\n\n  & .ant-btn-circle.rec {\n    animation-name: voice_pulse;\n    animation-duration: 1.5s;\n    animation-iteration-count: infinite;\n    animation-timing-function: linear;\n\n    background-color: #ff4646;\n    color: #fff;\n    border-color: transparent !important;\n  }\n"]))))},19392:(n,e,t)=>{t.d(e,{A:()=>h});var r,o,i=t(52160),a=t(73053),s=t(57528),l=t(33753),c=t(1868),d=t(85908);const p=(x=i.Ay,(0,l.Ay)(x)(r||(r=(0,s.A)(["\n  &.ant-btn {\n    display: inline-block;\n    margin-bottom: 0;\n    font-weight: 500;\n    text-align: center;\n    -ms-touch-action: manipulation;\n    touch-action: manipulation;\n    cursor: pointer;\n    background-image: none;\n    // border: 1px solid transparent;\n    white-space: nowrap;\n    line-height: 1.5;\n    padding: 0 25px;\n    font-size: 14px;\n    border-radius: 4px;\n    height: 36px;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    position: relative;\n    // color: ",";\n    // border-color: ",";\n    ",";\n\n    // &:hover {\n    //   border-color: ",";\n    //   color: ",";\n    // }\n    // &:focus {\n    //   color: ",";\n    //   border-color: ",";\n    // }\n\n    > .anticon + span,\n    > span + .anticon {\n      margin: ",";\n    }\n\n    .anticon-right {\n      transform: ",";\n    }\n\n    .anticon-left {\n      transform: ",";\n    }\n\n    &.ant-btn-primary {\n      // background-color: ",";\n      // border-color: ",";\n\n      // &:hover {\n      //   background-color: ",";\n      //   border-color: ",";\n      //   color: #fff;\n      // }\n    }\n\n    &.ant-btn-sm {\n      padding: 0 15px;\n      height: 28px;\n      font-size: 12px;\n\n      &.ant-btn-loading:not(.ant-btn-circle):not(.ant-btn-circle-outline) {\n        padding: ",";\n        .anticon {\n          margin: ",";\n        }\n      }\n    }\n\n    &.ant-btn-lg {\n      padding: 0 35px;\n      font-size: 14px;\n      height: 42px;\n    }\n\n    &.ant-btn-primary {\n      color: #ffffff;\n    }\n\n    // &.ant-btn-dashed {\n    //   border-style: dashed;\n    //   border-color: ",";\n\n    //   &:hover {\n    //     color: ",";\n    //     border-color: ",";\n    //   }\n    // }\n\n    &.ant-btn-danger {\n      background-color: ",";\n      border-color: ",";\n      color: #ffffff;\n\n      &:hover {\n        background-color: ",";\n        border-color: ",";\n      }\n\n      &.ant-btn-background-ghost {\n        color: ",";\n        background-color: transparent;\n        border-color: ",";\n\n        &:hover {\n          color: ",";\n          border-color: ",";\n        }\n      }\n    }\n\n    &.ant-btn-circle,\n    &.ant-btn-circle-outline {\n      width: 35px;\n      padding: 0;\n      font-size: 14px;\n      border-radius: 50%;\n      height: 35px;\n\n      &.ant-btn-sm {\n        padding: 0;\n        height: 28px;\n        width: 28px;\n        font-size: 12px;\n      }\n\n      &.ant-btn-lg {\n        padding: 0;\n        font-size: 14px;\n        height: 42px;\n        width: 42px;\n      }\n    }\n\n    &.ant-btn.disabled,\n    &.ant-btn[disabled],\n    &.ant-btn.disabled:hover,\n    &.ant-btn[disabled]:hover,\n    &.ant-btn.disabled:focus,\n    &.ant-btn[disabled]:focus,\n    &.ant-btn.disabled:active,\n    &.ant-btn[disabled]:active,\n    &.ant-btn.disabled.active,\n    &.ant-btn[disabled].active {\n      color: ",";\n      background-color: #f7f7f7;\n      border-color: ",";\n      cursor: not-allowed;\n    }\n\n    &.ant-btn-loading:not(.ant-btn-circle):not(.ant-btn-circle-outline)\n      .anticon {\n      margin: ",";\n    }\n\n    &.isoButton {\n      display: inline-block;\n      margin-bottom: 0;\n      font-weight: 500;\n      text-align: center;\n      -ms-touch-action: manipulation;\n      touch-action: manipulation;\n      cursor: pointer;\n      background-image: none;\n      border: 0;\n      white-space: nowrap;\n      line-height: 1.5;\n      padding: 0 25px;\n      font-size: 13px;\n      border-radius: 4px;\n      height: 35px;\n      -webkit-user-select: none;\n      -moz-user-select: none;\n      -ms-user-select: none;\n      user-select: none;\n      position: relative;\n      color: #ffffff;\n      background-color: ",";\n      ",";\n\n      &:hover {\n        background-color: ",";\n      }\n\n      &.isoBtnSm {\n        padding: 0 15px;\n        height: 28px;\n        font-size: 12px;\n      }\n\n      &.isoBtnLg {\n        padding: 0 35px;\n        font-size: 14px;\n        height: 42px;\n      }\n    }\n\n    &.regularTxt {\n      color: ",";\n      padding: 0px !important;\n    }\n  }\n\n  + .ant-btn-group {\n    margin-left: "," !important;\n    margin-right: "," !important;\n  }\n"])),(0,c.palette)("text",1),(0,c.palette)("border",0),(0,d.kY)(),(0,c.palette)("primary",0),(0,c.palette)("primary",0),(0,c.palette)("primary",0),(0,c.palette)("primary",0),(n=>"rtl"===n["data-rtl"]?"0 0.5em 0 0":"0 0 0 0.5em"),(n=>"rtl"===n["data-rtl"]?"rotate(180deg)":"rotate(0)"),(n=>"rtl"===n["data-rtl"]?"rotate(180deg)":"rotate(0)"),(0,c.palette)("primary",0),(0,c.palette)("primary",0),(0,c.palette)("primary",10),(0,c.palette)("primary",10),(n=>"rtl"===n["data-rtl"]?"0 24px 0 15px":"0 15px 0 24px"),(n=>"rtl"===n["data-rtl"]?"0 -17px 0 0":"0 0 0 -17px"),(0,c.palette)("border",1),(0,c.palette)("primary",0),(0,c.palette)("primary",0),(0,c.palette)("error",0),(0,c.palette)("error",0),(0,c.palette)("error",2),(0,c.palette)("error",2),(0,c.palette)("error",0),(0,c.palette)("error",0),(0,c.palette)("error",2),(0,c.palette)("error",2),(0,c.palette)("grayscale",2),(0,c.palette)("border",0),(n=>"rtl"===n["data-rtl"]?"0 -14px 0 0":"0 0 0 -14px"),(0,c.palette)("primary",0),(0,d.kY)(),(0,c.palette)("primary",2),(0,c.palette)("text",3),(n=>"rtl"===n["data-rtl"]?"0":"-1px"),(n=>"rtl"===n["data-rtl"]?"-1px":"0")));var x;const u=(0,a.A)(p),m=(n=>(0,l.Ay)(n)(o||(o=(0,s.A)(["\n  &.ant-btn-group {\n    .ant-btn {\n      margin: 0;\n      margin-right: 0;\n      display: inline-block;\n      margin-bottom: 0;\n      font-weight: 500;\n      text-align: center;\n      -ms-touch-action: manipulation;\n      touch-action: manipulation;\n      cursor: pointer;\n      background-image: none;\n      border: 1px solid transparent;\n      border-color: ",";\n      white-space: nowrap;\n      line-height: 1.5;\n      padding: 0 8px;\n      font-size: 14px;\n      border-radius: 0;\n      height: 36px;\n      -webkit-user-select: none;\n      -moz-user-select: none;\n      -ms-user-select: none;\n      user-select: none;\n      position: relative;\n      ",";\n\n      &:hover {\n        border-color: ",";\n      }\n\n      // &.ant-btn-dashed {\n      //   border-style: dashed;\n\n      //   &:hover {\n      //     border-color: ",";\n      //   }\n      // }\n\n      &.ant-btn-primary {\n        border-color: ",";\n\n        &:hover {\n          border-color: ",";\n        }\n      }\n    }\n\n    > .ant-btn:first-child:not(:last-child) {\n      border-radius: ",";\n    }\n\n    > .ant-btn:last-child:not(:first-child) {\n      border-radius: ",";\n    }\n\n    .ant-btn-primary:last-child:not(:first-child),\n    .ant-btn-primary + .ant-btn-primary {\n      border-left-color: ",";\n      border-right-color: ",";\n    }\n\n    .ant-btn-primary:first-child:not(:last-child) {\n      border-left-color: ",";\n      border-right-color: ",";\n    }\n\n    .ant-btn + .ant-btn,\n    + .ant-btn {\n      margin-left: "," !important;\n      margin-right: "," !important;\n    }\n\n    &.ant-btn-group-lg {\n      > .ant-btn {\n        padding: 0 35px;\n        font-size: 14px;\n        height: 42px;\n      }\n    }\n\n    &.ant-btn-group-sm {\n      > .ant-btn {\n        padding: 0 15px;\n        height: 28px;\n        font-size: 12px;\n      }\n    }\n  }\n\n  &.ant-btn-group + &.ant-btn-group {\n    margin-left: "," !important;\n    margin-right: "," !important;\n  }\n"])),(0,c.palette)("border",1),(0,d.kY)(),(0,c.palette)("primary",0),(0,c.palette)("primary",0),(0,c.palette)("primary",0),(0,c.palette)("primary",10),(n=>"rtl"===n["data-rtl"]?"0 4px 4px 0":"4px 0 0 4px"),(n=>"rtl"===n["data-rtl"]?"4px 0 0 4px":"0 4px 4px 0"),(n=>"rtl"===n["data-rtl"]?(0,c.palette)("primary",0):(0,c.palette)("primary",2)),(n=>"rtl"===n["data-rtl"]?(0,c.palette)("primary",2):(0,c.palette)("primary",0)),(n=>"rtl"===n["data-rtl"]?(0,c.palette)("primary",2):(0,c.palette)("primary",0)),(n=>"rtl"===n["data-rtl"]?(0,c.palette)("primary",0):(0,c.palette)("primary",2)),(n=>"rtl"===n["data-rtl"]?"0":"-1px"),(n=>"rtl"===n["data-rtl"]?"-1px":"0"),(n=>"rtl"===n["data-rtl"]?"0":"-1px"),(n=>"rtl"===n["data-rtl"]?"-1px":"0")))(p.Group),h=((0,a.A)(m),u)},53047:(n,e,t)=>{t.d(e,{A:()=>r});const r=t(22748).A},55215:(n,e,t)=>{t.d(e,{A:()=>c,Y:()=>l});var r,o,i=t(57528),a=t(33753);const s=a.Ay.div(r||(r=(0,i.A)(["\n  & .titleContent {\n    margin-bottom: 15px;\n\n    p {\n      font-size: 13px;\n    }\n  }\n\n  & .enrollContent {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin-top: 15px;\n  }\n\n  & .mainBtn {\n    font-size: 15px !important;\n    margin-left: 5px;\n    margin-right: 5px;\n  }\n\n  & .resultContent {\n    & .ant-col {\n      text-align: center;\n\n      & h4 {\n        margin-bottom: 10px;\n      }\n\n      & .ant-alert {\n        width: 60%;\n        margin: 0 auto;\n      }\n    }\n  }\n\n  & .deleteVoice {\n    & p {\n      margin-bottom: 10px;\n    }\n  }\n"]))),l=a.Ay.div(o||(o=(0,i.A)(["\n  padding: 5px 10px 5px 15px;\n  background: #f2f2f2;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  margin: 0px 0px 10px 0px;\n\n  & .recordContent {\n    display: flex;\n    align-items: center;\n\n    & .form-check-label {\n      flex: 1;\n      display: flex;\n      align-items: center;\n      font-weight: 550;\n      padding-right: 10px;\n    }\n\n    & .recordAction {\n      display: flex;\n      align-items: center;\n\n      & > * {\n        margin-right: 5px;\n        &:last-child {\n          margin-right: 0px;\n        }\n      }\n    }\n  }\n"]))),c=s},82304:(n,e,t)=>{t.r(e),t.d(e,{default:()=>f});var r=t(9950),o=t(41893),i=t(19392),a=t(37734),s=t(6819),l=t(39389),c=t(22748),d=t(1635),p=t(55266),x=t(21707),u=t(17619),m=t(55215),h=t(44414);const g=n=>{let{text:e,index:t,selectedIndex:r,record:o,onClick:s,isRecording:l,deleteHandler:g}=n;const b=l&&r===t;return(0,h.jsxs)(m.Y,{children:[(0,h.jsxs)("div",{className:"recordContent",children:[(0,h.jsx)("p",{className:"form-check-label",children:e}),(0,h.jsxs)("div",{className:"recordAction",children:[(0,h.jsx)(c.A,{placement:"bottom",title:(0,h.jsx)(a.A,{id:"".concat(b?"common.stop":"record")}),children:(0,h.jsx)(u.A,{children:(0,h.jsx)(i.A,{className:b&&"rec",shape:"circle",onClick:()=>s(t),danger:b,icon:b?(0,h.jsx)(d.A,{}):(0,h.jsx)(p.A,{})})})}),o&&!!o.file&&(0,h.jsx)(c.A,{placement:"bottom",title:(0,h.jsx)(a.A,{id:"voice.deleteRec"}),children:(0,h.jsx)("div",{children:(0,h.jsx)(x.A,{onConfirm:()=>g(t)})})})]})]}),(0,h.jsx)("div",{className:"recordAudio",children:o&&!!o.file&&(0,h.jsx)("audio",{src:null===o||void 0===o?void 0:o.sourceUrl,controls:!0})})]})},b=["Difficult roads often lead to beautiful destinations.","To be the best, you must be able to handle the worst.","Tough times never last, but tough people do.","Hard work beats talent when talent doesn't work hard.","If anything is worth doing, do it with all your heart."];const f=function(n){let{token:e,guest:t=null,enrollSuccess:c,onHandleCancel:d}=n;const[p,x]=(0,r.useState)(!1),[u,m]=(0,r.useState)(null),[f,v]=(0,r.useState)((()=>b.map((()=>null)))),{start:y,stop:A,isRecording:j}=(0,l.A)((n=>{const e=new File([n],"audio_".concat(u,"_file.wav"),{type:n.type}),t=[...f];t[u]={file:e,sourceUrl:window.URL.createObjectURL(n)},v(t)}),(n=>{"NotAllowedError"===n.name&&(0,o.A)("error","record.permission")}));(0,r.useEffect)((()=>{null!==u&&(j?A():y())}),[u]);const w=n=>{if(j)(0,o.A)("error","voice.stopRecDelete");else{const e=[...f];e[n]=null,v(e)}},k=n=>{const e=u===n;j?e?A():(0,o.A)("error","voice.stopChangeTxt"):e?y():m(n)},N=(0,r.useMemo)((()=>[...f].filter((n=>!!n)).length),[f]),C=5===N;return(0,h.jsxs)("div",{className:"enrollContainer",children:[(0,h.jsxs)("div",{className:"titleContent",children:[c&&(0,h.jsx)("h1",{className:"voice-title",children:"Voice Recognition System"}),(0,h.jsx)("h2",{children:(0,h.jsx)(a.A,{id:"voice.masterVoiceRec"})}),(0,h.jsx)("p",{className:"voice-description",children:(0,h.jsx)(a.A,{id:"voice.masterVoiceSub"})})]}),(0,h.jsxs)("div",{children:[b.map(((n,e)=>(0,h.jsx)(g,{index:e,name:"enrol",text:(0,h.jsx)(a.A,{id:"voice.testLine".concat(e+1)}),onClick:k,start:y,stop:A,deleteHandler:w,selectedIndex:u,record:f[e],isRecording:j},n))),(0,h.jsxs)("div",{className:"enrollContent",children:[(0,h.jsxs)("div",{children:[(0,h.jsxs)("span",{children:[(0,h.jsx)(a.A,{id:"voice.recorded"})," "]}),(0,h.jsx)("strong",{children:N})]}),c&&(0,h.jsx)(i.A,{className:"mainBtn",type:"primary",onClick:()=>d(),children:(0,h.jsx)(a.A,{id:"common.cancel"})}),(0,h.jsx)(i.A,{className:"mainBtn",type:"primary",onClick:async()=>{console.log(">>> onEnrolUser()");try{x(!0);const n=new FormData;n.append("token",e),t&&t.isGuest&&t.guestEmail&&n.append("email",t.guestEmail),f.forEach((e=>{null!==e&&void 0!==e&&e.file&&n.append("audios[]",e.file)})),await async function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{const e=new FormData;n?(e.append("email",n),await(0,s.Ay)("voice-non-user/reset",e,"POST",{},!0)):await(0,s.Ay)("voice/reset",{},"POST")}catch(e){console.log(e.message),(0,o.A)("error",e.message)}}((null===t||void 0===t?void 0:t.guestEmail)||null);const r=t&&t.isGuest?"voice-non-user/enroll":"voice/enroll";(await(0,s.Ay)(r,n,"POST",{},!0)).success?((0,o.A)("success","voice.enrollSuccess"),c&&c(!0)):(0,o.A)("success","voice.enrollSuccess"),v(b.map((()=>null))),m(null)}catch(n){(0,o.A)("success","voice.enrollSuccess")}finally{x(!1)}},loading:p,disabled:!C,children:(0,h.jsx)(a.A,{id:"voice.enroll"})})]})]})]})}},48902:(n,e,t)=>{t.r(e),t.d(e,{default:()=>C});var r=t(27379),o=t(41893),i=t(19392),a=t(37734),s=t(45182),l=t(6819),c=t(8187),d=t(41404),p=t(41135),x=t(23072),u=t(87094),m=t(41988),h=t(15480),g=t(28878),b=t(9950),f=t(98341);const v={"There is no such user, aborting.":"voice.verifyEnrollErr","There is already such user, aborting.":"voice.alreadyEnroll","Successfully compaired voice footprint":"voice.failedErr"};var y=t(97736),A=t(44414);const{confirm:j}=p.A,{setUserObj:w,resetTempSecVerifyProcess:k}=d.A,N=["I consign and agree to sign this document, Code 23DX."],C=n=>{let{uData:e,token:t,callback:d,guest:p=null,enrollResult:C}=n;const S=(0,f.useDispatch)(),[R,E]=(0,b.useState)("NONE"),[z,T]=(0,b.useState)((()=>N.map((()=>null)))),[_,V]=(0,b.useState)({}),{confidence:L,loading:D,rLoading:O}=_,B=(0,b.useMemo)((()=>(0,c.Ew)()),[]),U=e.is_verify_voice&&0!==e.is_verify_voice,P=1===(0,b.useMemo)((()=>[...z].filter((n=>!!n)).length),[z]);return(0,A.jsxs)("div",{className:"verifyContainer",children:[(0,A.jsxs)("div",{className:"titleContent",children:[d&&(0,A.jsx)("h1",{className:"voice-title",children:"Voice Recognition System"}),(0,A.jsx)("h2",{children:(0,A.jsx)(a.A,{id:U?"voice.testVerifiedVoice":"voice.verifyVoice"})}),(0,A.jsx)("p",{children:(0,A.jsx)(a.A,{id:"".concat(U?"voice.verifyTestSub":"voice.verifySub"),values:{code:(0,A.jsx)("span",{className:"fw550",children:B})}})})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)(y.A,{index:0,text:(0,A.jsx)(a.A,{id:"voice.verifyLine1",values:{code:(0,A.jsx)("span",{className:"fw550",children:B})}}),onSave:n=>{T((e=>{const t=[...e];return t[0]=n,t}))},clear:R}),(0,A.jsxs)("div",{children:[(0,A.jsx)(i.A,{className:"mainBtn",onClick:()=>{C(!1),S(k())},children:(0,A.jsx)(a.A,{id:"common.cancel"})}),(0,A.jsx)(i.A,{className:"mainBtn",type:"primary",onClick:async()=>{try{V((n=>({...n,loading:!0})));const n=new FormData;n.append("token",t),n.append("code",B),n.append("freeUser","undefined"!==typeof d),n.append("email",(null===p||void 0===p?void 0:p.guestEmail)||null),z.forEach((e=>{e&&n.append("audio",e)}));const r=p&&p.isGuest?"voice-non-user/verify":"voice/verify",i=await(0,l.Ay)(r,n,"POST",{},!0);if(i.result&&i.confidence>.8)(0,o.A)("success","voice.succVerified"),V((n=>({...n,loading:!1,result:i.result,confidence:i.confidence}))),E("CLEAR"),d?d():U||S(w({...e,is_verify_voice:1}));else{const n=v[i.message]||"voice.failedErr";(0,o.A)("error",n),V((n=>({...n,loading:!1})))}}catch(n){console.log(n.message),(0,o.A)("error")}finally{V((n=>({...n,loading:!1}))),E("NONE")}},disabled:!P,loading:D,children:(0,A.jsx)(a.A,{id:"settings.verify"})})]})]}),L&&(0,A.jsxs)("div",{className:"resultContent",children:[(0,A.jsx)(x.A,{}),(0,A.jsxs)(u.A,{gutter:[24,24],children:[(0,A.jsxs)(m.A,{xs:12,children:[(0,A.jsx)("h4",{children:(0,A.jsx)(a.A,{id:"common.result"})}),(0,A.jsx)("div",{children:(0,A.jsx)(h.A,{message:(0,A.jsx)(a.A,{id:"voice.".concat(L>.8?"recognised":"notRecognised")}),type:L>.8?"success":"error"})})]}),(0,A.jsxs)(m.A,{xs:12,children:[(0,A.jsx)("h4",{children:(0,A.jsx)(a.A,{id:"common.confidence"})}),(0,A.jsx)("div",{children:(0,A.jsx)(g.A,{type:"circle",percent:parseFloat((100*L).toFixed(2))})})]})]})]}),U?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(x.A,{}),(0,A.jsxs)("div",{className:"deleteVoice",children:[(0,A.jsx)("p",{children:(0,A.jsx)(a.A,{id:"voice.deleteVoiceNote"})}),(0,A.jsx)(i.A,{loading:O,onClick:()=>{j({title:(0,s.A)("common.areuSure"),content:(0,s.A)("voice.deleteConfirm"),icon:(0,A.jsx)(r.A,{}),maskClosable:!0,okText:(0,s.A)("common.delete"),okButtonProps:{type:"danger",id:"danger-btn"},onOk(){(async()=>{V((n=>({...n,rLoading:!0})));try{(await(0,l.Ay)("voice/reset",{},"POST")).success,S(w({...e,is_verify_voice:0})),(0,o.A)("success","voice.succRemoved"),V((n=>({...n,rLoading:!1,result:null,confidence:null})))}catch(n){console.log(n.message),(0,o.A)("error"),V((n=>({...n,rLoading:!1})))}})()}})},size:"small",danger:!0,children:(0,A.jsx)(a.A,{id:"voice.deleteVoice"})})]})]}):null]})}},97736:(n,e,t)=>{t.d(e,{A:()=>h});var r=t(9950),o=t(1635),i=t(55266),a=t(19392),s=t(39389),l=t(37734),c=t(41893),d=t(53047),p=t(21707),x=t(17619),u=t(55215),m=t(44414);const h=n=>{let{text:e,index:t,onSave:h,clear:g}=n;const[b,f]=(0,r.useState)(null),{start:v,stop:y,isRecording:A}=(0,s.s)((n=>{const e=new File([n],"audio_".concat(t,"_file.wav"),{type:n.type});h(e),f(window.URL.createObjectURL(n))}),(n=>{"NotAllowedError"===n.name&&(0,c.A)("error","record.permission")})),j=()=>{h(null),f(null)};return(0,r.useEffect)((()=>{"CLEAR"===g&&j()}),[g]),(0,m.jsxs)(u.Y,{children:[(0,m.jsxs)("div",{className:"recordContent",children:[(0,m.jsx)("p",{className:"form-check-label",children:e}),(0,m.jsxs)("div",{className:"recordAction",children:[!b&&(0,m.jsx)(d.A,{placement:"bottom",title:(0,m.jsx)(l.A,{id:"".concat(A?"common.stop":"record")}),children:(0,m.jsx)(x.A,{children:(0,m.jsx)(a.A,{className:A&&"rec",shape:"circle",onClick:A?y:v,danger:A,icon:A?(0,m.jsx)(o.A,{}):(0,m.jsx)(i.A,{})})})}),!!b&&(0,m.jsx)(d.A,{placement:"bottom",title:(0,m.jsx)(l.A,{id:"voice.deleteRec"}),children:(0,m.jsx)("div",{children:(0,m.jsx)(p.A,{onConfirm:j})})})]})]}),(0,m.jsx)("div",{className:"recordAudio",children:!!b&&(0,m.jsx)("audio",{src:b,controls:!0})})]})}},91918:(n,e,t)=>{t.r(e),t.d(e,{default:()=>y});var r=t(10597),o=t(37734),i=t(35116),a=t(87094),s=t(41988),l=t(35621),c=t(15480),d=t(31407),p=t(16360),x=t(41397),u=t(9950),m=t(98341),h=t(82304),g=t(48902),b=t(55215),f=t(44414);const v="gloryvoicefootprint";const y=function(n){var e;let{callback:t,guest:y}=n;const A=(0,m.useSelector)((n=>n.Auth.userData)),j=(0,x.isObject)(A)?A:{},w=j.is_verify_voice&&0!==j.is_verify_voice;return(0,u.useEffect)((()=>{!async function(){window.encoderRegistered||(await(0,d.kz)(await(0,p.Ng)()),window.encoderRegistered=!0)}()}),[]),(0,f.jsx)(r._H,{children:(0,f.jsx)(b.A,{children:(0,f.jsxs)(a.A,{gutter:[16],children:[(0,f.jsx)(s.A,{xs:24,children:(0,f.jsxs)("h2",{className:"userSettingsTitle",children:[(0,f.jsx)(o.A,{id:"settings.userVerification"}),(0,f.jsx)("small",{className:"ml5",children:"(".concat((null===i.yk||void 0===i.yk||null===(e=i.yk.is_verify_voice)||void 0===e?void 0:e.weightage)||0,"%)")})]})}),(0,f.jsxs)(s.A,{xs:24,children:[(0,f.jsx)("div",{className:"proofWrapper",children:(0,f.jsxs)("div",{style:{paddingBottom:8},children:[(0,f.jsx)("h3",{className:"uploadTitleWrap",children:(0,f.jsx)(o.A,{id:"settings.verifyVoice"})}),(0,f.jsx)(l.A,{color:w?"green":"red",style:{marginLeft:8},children:(0,f.jsx)(o.A,{id:"settings.".concat(w?"verified":"notVerified")})})]})}),(0,f.jsx)("div",{className:"mt15",children:(0,f.jsxs)(a.A,{gutter:[24,24],children:[!w&&(0,f.jsxs)(s.A,{xs:24,lg:12,xl:12,xxl:10,children:[(0,f.jsx)(h.default,{token:v,guest:y}),(0,f.jsx)("div",{className:"mt25",children:(0,f.jsx)(c.A,{banner:!0,message:(0,f.jsx)(o.A,{id:"voice.recNote"}),type:"info",showIcon:!0})})]}),(0,f.jsx)(s.A,{xs:24,lg:12,xl:12,xxl:10,children:(0,f.jsx)(g.default,{uData:j,token:v,callback:t,guest:y})})]})})]})]})})})}},85908:(n,e,t)=>{function r(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.3;return"\n      -webkit-transition: all ".concat(n,"s cubic-bezier(0.215, 0.61, 0.355, 1);\n      -moz-transition: all ").concat(n,"s cubic-bezier(0.215, 0.61, 0.355, 1);\n      -ms-transition: all ").concat(n,"s cubic-bezier(0.215, 0.61, 0.355, 1);\n      -o-transition: all ").concat(n,"s cubic-bezier(0.215, 0.61, 0.355, 1);\n      transition: all ").concat(n,"s cubic-bezier(0.215, 0.61, 0.355, 1);\n  ")}function o(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"\n      -webkit-border-radius: ".concat(n,";\n      -moz-border-radius: ").concat(n,";\n      -ms-transition: ").concat(n,";\n      -o-border-radius: ").concat(n,";\n      border-radius: ").concat(n,";\n  ")}function i(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none";return"\n      -webkit-box-shadow: ".concat(n,";\n      -moz-box-shadow: ").concat(n,";\n      box-shadow: ").concat(n,";\n  ")}t.d(e,{MS:()=>i,Vq:()=>o,kY:()=>r})},39389:(n,e,t)=>{t.d(e,{A:()=>l,s:()=>s});var r=t(9950),o=t(31407);const i={isRecording:!1,recorder:null,data:null,error:null},a=(n,e)=>{switch(e.type){case"start":case"stop":return{...n,isRecording:!1};case"startRecording":return{...n,isRecording:!0,recorder:e.payload.recorder};case"hasError":return{...n,isRecording:!1,error:e.payload.error};default:return n}},s=(n,e)=>{const[t,s]=(0,r.useReducer)(a,i),[l,c]=(0,r.useState)(0),d=e=>{let{data:t}=e;n(t)};return(0,r.useEffect)((()=>()=>{t.recorder&&t.recorder.removeEventListener("dataavailable",(()=>{}))}),[t.recorder]),{start:async()=>{try{if(t.isRecording)return;s({type:"start"}),c(0);const n=await navigator.mediaDevices.getUserMedia({audio:!0}),e=new o.VW(n,{mimeType:"audio/wav"});s({type:"startRecording",payload:{recorder:e}}),e.start(),e.addEventListener("dataavailable",d),t.error&&s({type:"hasError",payload:{error:null}})}catch(n){console.log("\ud83d\ude80 ~ state.error",n),e(n),s({type:"hasError",payload:{error:n}})}},stop:()=>{try{const{recorder:n}=t;s({type:"stop"}),n&&("inactive"!==n.state&&n.stop(),n.removeEventListener("dataavailable",d))}catch(n){e(n),s({type:"hasError",payload:{error:n}})}},recorder:t.recorder,isRecording:t.isRecording,error:t.error,countdown:l}},l=s}}]);