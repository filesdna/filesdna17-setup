"use strict";(self.webpackChunkfilesdna=self.webpackChunkfilesdna||[]).push([[7751],{19392:(e,t,n)=>{n.d(t,{A:()=>f});var i,a,s=n(52160),r=n(73053),o=n(57528),l=n(33753),d=n(1868),c=n(85908);const p=(m=s.Ay,(0,l.Ay)(m)(i||(i=(0,o.A)(["\n  &.ant-btn {\n    display: inline-block;\n    margin-bottom: 0;\n    font-weight: 500;\n    text-align: center;\n    -ms-touch-action: manipulation;\n    touch-action: manipulation;\n    cursor: pointer;\n    background-image: none;\n    // border: 1px solid transparent;\n    white-space: nowrap;\n    line-height: 1.5;\n    padding: 0 25px;\n    font-size: 14px;\n    border-radius: 4px;\n    height: 36px;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    position: relative;\n    // color: ",";\n    // border-color: ",";\n    ",";\n\n    // &:hover {\n    //   border-color: ",";\n    //   color: ",";\n    // }\n    // &:focus {\n    //   color: ",";\n    //   border-color: ",";\n    // }\n\n    > .anticon + span,\n    > span + .anticon {\n      margin: ",";\n    }\n\n    .anticon-right {\n      transform: ",";\n    }\n\n    .anticon-left {\n      transform: ",";\n    }\n\n    &.ant-btn-primary {\n      // background-color: ",";\n      // border-color: ",";\n\n      // &:hover {\n      //   background-color: ",";\n      //   border-color: ",";\n      //   color: #fff;\n      // }\n    }\n\n    &.ant-btn-sm {\n      padding: 0 15px;\n      height: 28px;\n      font-size: 12px;\n\n      &.ant-btn-loading:not(.ant-btn-circle):not(.ant-btn-circle-outline) {\n        padding: ",";\n        .anticon {\n          margin: ",";\n        }\n      }\n    }\n\n    &.ant-btn-lg {\n      padding: 0 35px;\n      font-size: 14px;\n      height: 42px;\n    }\n\n    &.ant-btn-primary {\n      color: #ffffff;\n    }\n\n    // &.ant-btn-dashed {\n    //   border-style: dashed;\n    //   border-color: ",";\n\n    //   &:hover {\n    //     color: ",";\n    //     border-color: ",";\n    //   }\n    // }\n\n    &.ant-btn-danger {\n      background-color: ",";\n      border-color: ",";\n      color: #ffffff;\n\n      &:hover {\n        background-color: ",";\n        border-color: ",";\n      }\n\n      &.ant-btn-background-ghost {\n        color: ",";\n        background-color: transparent;\n        border-color: ",";\n\n        &:hover {\n          color: ",";\n          border-color: ",";\n        }\n      }\n    }\n\n    &.ant-btn-circle,\n    &.ant-btn-circle-outline {\n      width: 35px;\n      padding: 0;\n      font-size: 14px;\n      border-radius: 50%;\n      height: 35px;\n\n      &.ant-btn-sm {\n        padding: 0;\n        height: 28px;\n        width: 28px;\n        font-size: 12px;\n      }\n\n      &.ant-btn-lg {\n        padding: 0;\n        font-size: 14px;\n        height: 42px;\n        width: 42px;\n      }\n    }\n\n    &.ant-btn.disabled,\n    &.ant-btn[disabled],\n    &.ant-btn.disabled:hover,\n    &.ant-btn[disabled]:hover,\n    &.ant-btn.disabled:focus,\n    &.ant-btn[disabled]:focus,\n    &.ant-btn.disabled:active,\n    &.ant-btn[disabled]:active,\n    &.ant-btn.disabled.active,\n    &.ant-btn[disabled].active {\n      color: ",";\n      background-color: #f7f7f7;\n      border-color: ",";\n      cursor: not-allowed;\n    }\n\n    &.ant-btn-loading:not(.ant-btn-circle):not(.ant-btn-circle-outline)\n      .anticon {\n      margin: ",";\n    }\n\n    &.isoButton {\n      display: inline-block;\n      margin-bottom: 0;\n      font-weight: 500;\n      text-align: center;\n      -ms-touch-action: manipulation;\n      touch-action: manipulation;\n      cursor: pointer;\n      background-image: none;\n      border: 0;\n      white-space: nowrap;\n      line-height: 1.5;\n      padding: 0 25px;\n      font-size: 13px;\n      border-radius: 4px;\n      height: 35px;\n      -webkit-user-select: none;\n      -moz-user-select: none;\n      -ms-user-select: none;\n      user-select: none;\n      position: relative;\n      color: #ffffff;\n      background-color: ",";\n      ",";\n\n      &:hover {\n        background-color: ",";\n      }\n\n      &.isoBtnSm {\n        padding: 0 15px;\n        height: 28px;\n        font-size: 12px;\n      }\n\n      &.isoBtnLg {\n        padding: 0 35px;\n        font-size: 14px;\n        height: 42px;\n      }\n    }\n\n    &.regularTxt {\n      color: ",";\n      padding: 0px !important;\n    }\n  }\n\n  + .ant-btn-group {\n    margin-left: "," !important;\n    margin-right: "," !important;\n  }\n"])),(0,d.palette)("text",1),(0,d.palette)("border",0),(0,c.kY)(),(0,d.palette)("primary",0),(0,d.palette)("primary",0),(0,d.palette)("primary",0),(0,d.palette)("primary",0),(e=>"rtl"===e["data-rtl"]?"0 0.5em 0 0":"0 0 0 0.5em"),(e=>"rtl"===e["data-rtl"]?"rotate(180deg)":"rotate(0)"),(e=>"rtl"===e["data-rtl"]?"rotate(180deg)":"rotate(0)"),(0,d.palette)("primary",0),(0,d.palette)("primary",0),(0,d.palette)("primary",10),(0,d.palette)("primary",10),(e=>"rtl"===e["data-rtl"]?"0 24px 0 15px":"0 15px 0 24px"),(e=>"rtl"===e["data-rtl"]?"0 -17px 0 0":"0 0 0 -17px"),(0,d.palette)("border",1),(0,d.palette)("primary",0),(0,d.palette)("primary",0),(0,d.palette)("error",0),(0,d.palette)("error",0),(0,d.palette)("error",2),(0,d.palette)("error",2),(0,d.palette)("error",0),(0,d.palette)("error",0),(0,d.palette)("error",2),(0,d.palette)("error",2),(0,d.palette)("grayscale",2),(0,d.palette)("border",0),(e=>"rtl"===e["data-rtl"]?"0 -14px 0 0":"0 0 0 -14px"),(0,d.palette)("primary",0),(0,c.kY)(),(0,d.palette)("primary",2),(0,d.palette)("text",3),(e=>"rtl"===e["data-rtl"]?"0":"-1px"),(e=>"rtl"===e["data-rtl"]?"-1px":"0")));var m;const u=(0,r.A)(p),h=(e=>(0,l.Ay)(e)(a||(a=(0,o.A)(["\n  &.ant-btn-group {\n    .ant-btn {\n      margin: 0;\n      margin-right: 0;\n      display: inline-block;\n      margin-bottom: 0;\n      font-weight: 500;\n      text-align: center;\n      -ms-touch-action: manipulation;\n      touch-action: manipulation;\n      cursor: pointer;\n      background-image: none;\n      border: 1px solid transparent;\n      border-color: ",";\n      white-space: nowrap;\n      line-height: 1.5;\n      padding: 0 8px;\n      font-size: 14px;\n      border-radius: 0;\n      height: 36px;\n      -webkit-user-select: none;\n      -moz-user-select: none;\n      -ms-user-select: none;\n      user-select: none;\n      position: relative;\n      ",";\n\n      &:hover {\n        border-color: ",";\n      }\n\n      // &.ant-btn-dashed {\n      //   border-style: dashed;\n\n      //   &:hover {\n      //     border-color: ",";\n      //   }\n      // }\n\n      &.ant-btn-primary {\n        border-color: ",";\n\n        &:hover {\n          border-color: ",";\n        }\n      }\n    }\n\n    > .ant-btn:first-child:not(:last-child) {\n      border-radius: ",";\n    }\n\n    > .ant-btn:last-child:not(:first-child) {\n      border-radius: ",";\n    }\n\n    .ant-btn-primary:last-child:not(:first-child),\n    .ant-btn-primary + .ant-btn-primary {\n      border-left-color: ",";\n      border-right-color: ",";\n    }\n\n    .ant-btn-primary:first-child:not(:last-child) {\n      border-left-color: ",";\n      border-right-color: ",";\n    }\n\n    .ant-btn + .ant-btn,\n    + .ant-btn {\n      margin-left: "," !important;\n      margin-right: "," !important;\n    }\n\n    &.ant-btn-group-lg {\n      > .ant-btn {\n        padding: 0 35px;\n        font-size: 14px;\n        height: 42px;\n      }\n    }\n\n    &.ant-btn-group-sm {\n      > .ant-btn {\n        padding: 0 15px;\n        height: 28px;\n        font-size: 12px;\n      }\n    }\n  }\n\n  &.ant-btn-group + &.ant-btn-group {\n    margin-left: "," !important;\n    margin-right: "," !important;\n  }\n"])),(0,d.palette)("border",1),(0,c.kY)(),(0,d.palette)("primary",0),(0,d.palette)("primary",0),(0,d.palette)("primary",0),(0,d.palette)("primary",10),(e=>"rtl"===e["data-rtl"]?"0 4px 4px 0":"4px 0 0 4px"),(e=>"rtl"===e["data-rtl"]?"4px 0 0 4px":"0 4px 4px 0"),(e=>"rtl"===e["data-rtl"]?(0,d.palette)("primary",0):(0,d.palette)("primary",2)),(e=>"rtl"===e["data-rtl"]?(0,d.palette)("primary",2):(0,d.palette)("primary",0)),(e=>"rtl"===e["data-rtl"]?(0,d.palette)("primary",2):(0,d.palette)("primary",0)),(e=>"rtl"===e["data-rtl"]?(0,d.palette)("primary",0):(0,d.palette)("primary",2)),(e=>"rtl"===e["data-rtl"]?"0":"-1px"),(e=>"rtl"===e["data-rtl"]?"-1px":"0"),(e=>"rtl"===e["data-rtl"]?"0":"-1px"),(e=>"rtl"===e["data-rtl"]?"-1px":"0")))(p.Group),f=((0,r.A)(h),u)},97502:(e,t,n)=>{n.r(t),n.d(t,{default:()=>L});var i=n(79378),a=n(15306),s=n(44070),r=n(58769),o=n(41893),l=n(79796),d=n(19392),c=n(21270),p=n(37734),m=n(13771),u=n(6819),h=n(8187),f=n(99386),b=n(35398),g=n(29796),x=n(22748),y=n(55327),v=n(10495),j=n(41988),A=n(87094),_=n(72612),w=n(41397),S=n(9950),k=n(98341),D=n(78254),C=n(30135),N=n(4159),F=n.n(N),z=n(34845),O=n(12323),T=n(44414);const{Option:E}=f.A,I={assign:{apiUrl:"contact/get-contact",title:"document.assignSigner",cTitle:"document.chooseSigner",cDesc:"document.chooseSignerDesc",hideAccess:!0,signleSelection:!0}};const L=(0,C.j4)((function(e){var t;const n=window.innerHeight||800,{type:C="",handleSubmit:N=(()=>{}),visible:L=!1,onClose:V=(()=>{}),rowData:M={},fetchData:P=(()=>{}),intl:K,secureShare:B,disableDownload:Y}=e,U=I[C]||{},R=(0,S.useRef)(null),q=(0,k.useSelector)((e=>e.Auth.access)),H=0===(null===q||void 0===q||null===(t=q.monthly_features)||void 0===t?void 0:t.num_of_share_doc)&&"share"===C,G=(0,w.isObject)(q)?q:{},W=G.view_team&&G.view_department,[X,Z]=(0,S.useState)(!1),[J,Q]=(0,S.useState)([]),[$,ee]=(0,S.useState)({addContactVis:!1}),[te,ne]=(0,S.useState)({teamMembers:[],depts:[],loading:!1});function ie(e,t){const n=(null===t||void 0===t?void 0:t.obj)||{},i=(null===t||void 0===t?void 0:t.key)||"";if(!(0,w.isEmpty)(n)){const t=n.email?n.email.toLowerCase():"",i=n.name?n.name.toLowerCase():"",a=n.first_name?n.first_name.toLowerCase():"",s=n.last_name?n.last_name.toLowerCase():"";return t.indexOf(e.toLowerCase())>=0||i.indexOf(e.toLowerCase())>=0||a.indexOf(e.toLowerCase())>=0||s.indexOf(e.toLowerCase())>=0}return"new"===i}function ae(e,t){const n=[...J];n.splice(e,1),Q(n),(0,o.A)("success","documents.shareRemoveSuccess"),"update-doc-list"===t&&(0,w.isEmpty)(n)&&P("disable-reload")}function se(e,t){e.share_id?async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;ne((e=>({...e,sharedLoading:!0})));try{const n=await(0,u.Ay)("file/delete-share-document",{share_id:e},"POST");n.success?(ne((e=>({...e,sharedLoading:!1}))),ae(t,"update-doc-list")):(ne((e=>({...e,sharedLoading:!1}))),(0,o.A)("error",n.message))}catch(n){ne((e=>({...e,sharedLoading:!1}))),(0,o.A)("error")}}(e.share_id,t):ae(t)}function re(e){const t=(0,w.isObject)(e)&&e.name?e.name:"",n=(0,w.isObject)(e)&&e.email?e.email:"",s=(0,w.isString)(e)?e:n,r=(0,w.isObject)(e)&&!!e.department_id,o=(0,w.isObject)(e)&&!!e.user_id?e.name||(0,T.jsx)(p.A,{id:"team.member"}):(0,T.jsx)(p.A,{id:"common.new"});if("assign"===C){const t=(0,h.dS)(e.first_name,e.last_name);return(0,T.jsx)(b.A.Item.Meta,{avatar:(0,T.jsx)(g.A,{icon:(0,T.jsx)(i.A,{})}),title:t,description:e.email})}return(0,T.jsx)(b.A.Item.Meta,{avatar:(0,T.jsx)(g.A,{icon:r?(0,T.jsx)(a.A,{}):(0,T.jsx)(i.A,{})}),title:s||t,description:r?(0,T.jsx)(p.A,{id:"dept.dept"}):o})}function oe(e,t){return(0,T.jsx)(x.A,{title:(0,T.jsx)(p.A,{id:"document.expiryDate"}),children:(0,T.jsx)(y.A,{placeholder:K.formatMessage({id:"document.expiryDate"}),disabledDate:h.LK,onChange:e=>{const n=[...J],i=e?e.format("YYYY-MM-DD"):"";n[t].share_id&&n[t].expire_date!==i&&(n[t].is_update=!0),n[t].expire_date=i,Q(n)},format:"DD-MM-YYYY",value:e.expire_date?F()(e.expire_date,"YYYY-MM-DD"):null,size:"small",style:{width:110}})})}function le(e,t){const n=(0,w.isObject)(e)&&e.email?e.email:"",i=(0,w.isString)(e)?e:n;return(0,T.jsx)(b.A.Item,{extra:(0,T.jsxs)("div",{className:"listAction",children:[oe(e,t),(0,T.jsx)(l.A,{children:(0,T.jsx)(d.A,{shape:"circle",icon:(0,T.jsx)(s.A,{}),className:"deleteCircle",onClick:()=>se(e,t)})})]}),actions:[(0,T.jsx)(x.A,{placement:"bottomLeft",title:(0,T.jsx)(p.A,{id:"document.shareDownloadTip"}),children:(0,T.jsx)(v.A,{checked:e.is_download,onChange:e=>{const{checked:n}=e.target,i=[...J],a=i[t].is_download;i[t].share_id&&Number(n)!==Number(a)&&(i[t].is_update=!0),i[t].is_download=n,Q(i)},disabled:Y,children:(0,T.jsx)(p.A,{id:"document.shareDownload"})})}),U.hideAccess?null:(0,T.jsx)(x.A,{placement:"bottomLeft",title:(0,T.jsx)(p.A,{id:"document.docPermissionTip"}),children:(0,T.jsxs)(f.A,{style:{minWidth:100},bordered:!1,value:e.write?"write":"read",onChange:e=>{const n=[...J],i=n[t].write?"write":"read";n[t].share_id&&i!==e&&(n[t].is_update=!0),n[t].write="write"===e,Q(n)},children:[(0,T.jsx)(E,{value:"read",children:(0,T.jsx)(p.A,{id:"documents.readOnly"})}),(0,T.jsx)(E,{value:"write",children:(0,T.jsx)(p.A,{id:"documents.readWrite"})})]})}),(0,T.jsx)(x.A,{placement:"bottomLeft",title:(0,T.jsx)(p.A,{id:"document.docPermissionTip"}),children:(0,T.jsx)(O.A,{type:"security",user:e,index:t,recieipts:[...J],setReceipentsData:e=>{const n=null!==e&&void 0!==e&&e.recieiptsAry?[...e.recieiptsAry]:[...J],i=n[t].security_type;n[t].share_id&&i!==e.sec_type&&(n[t].is_update=!0),n[t].security_type=e.sec_type,Q(n)},disableAction:!1,usedFor:"shareDoc"})})],children:re(e)},i||e.department_id)}function de(e,t){if("assign"===C)return(0,T.jsxs)(E,{value:e.email,obj:e,children:[(0,T.jsx)("p",{style:{fontWeight:550},children:(0,h.dS)(e.first_name,e.last_name)}),(0,T.jsx)("p",{children:e.email})]},e.email);const n=!!e.department_id;return(0,T.jsxs)(E,{value:e.email||e.department_id,obj:e,children:[(0,T.jsx)("p",{children:n?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("strong",{children:e.name}),(0,T.jsx)("small",{className:"block",children:(0,T.jsx)(p.A,{id:"dept.dept"})})]}):e.name}),(0,T.jsx)("p",{children:(0,T.jsx)("strong",{children:e.email})})]},"".concat(e.email,"_").concat(t))}return(0,S.useEffect)((()=>{var e;const t=null===M||void 0===M||null===(e=M.properties)||void 0===e?void 0:e.signer;L&&"assign"===C&&t&&Q([t])}),[L]),(0,S.useEffect)((()=>{L?(H||async function(){ne((e=>({...e,loading:!te.teamMembers||(0,w.isEmpty)(te.teamMembers)})));try{const i=await(0,u.Ay)(U.apiUrl||"department/get-team-department");if(i.success&&i.data){var e,t,n;const a=(null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.team)||[],s=(null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.department)||[],r=(0,w.isArray)(i.data)&&"assign"===C?i.data:[],o=(null===i||void 0===i||null===(n=i.data)||void 0===n?void 0:n.contact)||r||[];ne((e=>({...e,depts:i.data.department||[],teamMembers:[...a,...s,...o],loading:!1})))}else ne((e=>({...e,loading:!1}))),(0,o.A)("error",i.message)}catch(i){ne((e=>({...e,loading:!1}))),(0,o.A)("error")}}(),"assign"!==C&&async function(){ne((e=>({...e,sharedLoading:!0})));try{const e=await(0,u.Ay)("file/get-document-share-users",{document_id:(0,w.isArray)(M)?M[0]:M.id||0},"POST");e.success&&e.data?(Q(e.data),ne((e=>({...e,sharedLoading:!1})))):ne((e=>({...e,sharedLoading:!1})))}catch(e){ne((e=>({...e,sharedLoading:!1}))),(0,o.A)("error")}}()):Q([])}),[L]),(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(r.A,{open:L,onClose:X?null:V,title:(0,T.jsx)(p.A,{id:U.title||"documents.shareDoc",values:{doc:(0,T.jsx)("strong",{children:M.name})}}),okText:(0,T.jsx)(p.A,{id:"common.ok"}),onOk:X?null:function(){let e=!0;J&&!(0,w.isEmpty)(J)||"assign"===C||(e=!1,V()),e&&("assign"===C?N(J):async function(e){Z(!0);try{const t=await(0,u.Ay)("file/share-document",e,"POST");t.success?(Z(!1),(0,o.A)("success",t.message),N(t.data||{})):(Z(!1),(0,o.A)("error",t.message))}catch(t){Z(!1),(0,o.A)("error")}}({share_to:J,document_id:M.id||0,secureShare:B,selectedDocs:M}))},onCancel:X?null:V,confirmLoading:X,okButtonProps:{id:"add-users"},width:550,footer:H&&(0,w.isEmpty)(J)?null:void 0,children:H&&(0,w.isEmpty)(J)&&!te.sharedLoading?(0,T.jsx)(D.default,{msg:"document.shareUpgradeLimit"}):(0,T.jsx)(_.A,{spinning:X||te.loading,children:(0,T.jsx)(z.h2,{children:(0,T.jsx)(A.A,{gutter:6,children:function(){const e=te.teamMembers.filter((e=>J.findIndex((t=>{const n=(0,w.isObject)(t)&&t.email?t.email.toLowerCase():"",i=(0,w.isString)(t)?t.toLowerCase():n,a=(0,w.isObject)(t)&&t.department_id?t.department_id:"";return(0,w.isEqual)(i,e.email)||(0,w.isEqual)(a,e.department_id)}))<0));return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(j.A,{span:24,children:[(0,T.jsxs)("div",{style:{marginBottom:10},children:[(0,T.jsx)("h3",{children:(0,T.jsx)(p.A,{id:U.cTitle||"documents.chooseRecipients"})}),(0,T.jsx)("p",{children:(0,T.jsx)(p.A,{id:W?U.cDesc||"documents.recipientsHint":U.cDesc||"documents.recFreeHint"})})]}),(0,T.jsx)(A.A,{gutter:6,children:(0,T.jsxs)(j.A,{span:24,children:[(0,T.jsxs)(f.A,{disabled:H,showSearch:!0,style:{width:"100%"},ref:R,placeholder:(0,T.jsx)(p.A,{id:W?"documents.recipientsHintPlaceHolder":"common.searchNew"}),notFoundContent:null,onChange:(e,t)=>{e&&"new"===e.toString()?ee((e=>({...e,addContactVis:!0}))):(t.obj.is_new=!0,function(e,t){const n=U.signleSelection?[]:[...J],i=(0,w.isObject)(t)&&(null===t||void 0===t?void 0:t.obj)||{},a=!!i.department_id,s=e?e.toString().toLowerCase():"";if((0,h.DT)(s)||a){let e={};(0,w.isEmpty)(i)?s&&(e={email:s}):e=i,n.findIndex((e=>(0,w.isEqual)(e.email,s)||a&&(0,w.isEqual)(e.department_id,i.department_id)))<0&&(n.push(e),Q(n))}else(0,o.A)("error","err.invalidEmail")}(e,t))},filterOption:ie,value:[],children:[(0,T.jsx)(E,{children:(0,T.jsx)("p",{style:{fontWeight:550},children:(0,T.jsx)(p.A,{id:"common.addNew"})})},"new"),e.map(de)]}),H&&(0,T.jsx)("p",{className:"mt10 fw550",children:(0,T.jsx)(p.A,{id:"document.shareUpgradeLimit"})})]})})]}),(0,w.isArray)(J)&&!(0,w.isEmpty)(J)||te.sharedLoading?(0,T.jsx)(j.A,{span:24,className:"mt10",children:(0,T.jsx)(z.h2,{children:(0,T.jsx)(c.A,{autoHeight:!0,autoHeightMax:Math.round(n-n/1.8),autoHide:!1,children:(0,T.jsx)(b.A,{className:"selectedUsersList wfUserList",itemLayout:"vertical",dataSource:J,loading:te.sharedLoading,renderItem:le})})})}):null]})}()})})})}),(0,T.jsx)(m.A,{visible:$.addContactVis,onClose:()=>{ee((e=>({...e,addContactVis:!1})))},handleSubmit:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;const n={...e,name:(0,h.dS)(e.first_name,e.last_name),is_new:!0},i=[...te.teamMembers];if(i.push(n),ne((e=>({...e,teamMembers:i}))),t){const e=[...J];e.push(n),Q(e)}ee((e=>({...e,addContactVis:!1})))},modalData:{title:"user.addUser",selText:"document.makeUser"}})]})}))},74702:(e,t,n)=>{n.r(t),n.d(t,{default:()=>te});var i=n(54209),a=n(10597),s=n(91767),r=n(37734),o=n(12036),l=n(6819),d=n(49998),c=n(8187),p=n(93347),m=n(6870),u=n(24120),h=n(96860),f=n(12547),b=n(41404),g=n(22748),x=n(35621),y=n(72612),v=n(1203),j=n(45784),A=n(41135),_=n(18469),w=n(41397),S=n(59051),k=n.n(S),D=n(74283),C=n(9950),N=n(98341),F=n(67414),z=n(17420),O=n(41893),T=n(44414);const E="fileRow";const I=function(e){var t,n;let{index:i,className:a,parentId:s,handleSubmit:r=(()=>{}),component:o,rcData:d,...c}=e;const p=C.useRef(),m=d||(null===c||void 0===c||null===(t=c.children[0])||void 0===t||null===(n=t.props)||void 0===n?void 0:n.record)||{},[{isOver:u,dropClassName:h},f]=(0,F.H)({accept:E,collect:e=>"file"!==m.type?{isOver:e.isOver(),dropClassName:"drop-over-upward"}:{},drop:e=>{if(e.folder_id!==m.id&&("folder"===m.type||"back"===m.type)){const t="folder"===m.type?m.id:s;!async function(e){let{docId:t,folderId:n}=e;try{const e=await(0,l.Ay)("file/move-document",{document_id:t,folder_id:n},"POST");e.success?((0,O.A)("success",e.message),r()):(0,O.A)("error",e.message)}catch(i){(0,O.A)("error")}}({docId:e.id,folderId:t})}}}),[,b]=(0,z.i)({item:{...m,type:"file"===m.type?E:"",index:i},collect:e=>({isDragging:e.isDragging(),opacity:e.isDragging()?.4:1})});return f(b(p)),"file"===m.type?(0,T.jsx)(o.cmp,{ref:p,className:a||"",...c}):(0,T.jsx)(o.cmp,{ref:p,className:"".concat(a||"").concat(u?" ".concat(h):""),...c})};var L=n(34845),V=n(57871),M=(n(48213),n(97502));const P=(0,C.lazy)((()=>n.e(254).then(n.bind(n,254)))),K=(0,C.lazy)((()=>Promise.all([n.e(101),n.e(14),n.e(4373)]).then(n.bind(n,34373)))),B=(0,C.lazy)((()=>Promise.all([n.e(1589),n.e(4224)]).then(n.bind(n,4224)))),Y=(0,C.lazy)((()=>Promise.all([n.e(2077),n.e(760)]).then(n.bind(n,760)))),U=(0,C.lazy)((()=>n.e(4925).then(n.bind(n,64925)))),R=(0,C.lazy)((()=>n.e(1813).then(n.bind(n,61813)))),q=(0,C.lazy)((()=>n.e(3064).then(n.bind(n,13064)))),H=(0,C.lazy)((()=>Promise.all([n.e(101),n.e(1844),n.e(1333)]).then(n.bind(n,11333)))),G=(0,C.lazy)((()=>Promise.all([n.e(2077),n.e(1680),n.e(2811)]).then(n.bind(n,42811)))),W=(0,C.lazy)((()=>Promise.all([n.e(1680),n.e(8684)]).then(n.bind(n,8684)))),X=(0,C.lazy)((()=>Promise.all([n.e(101),n.e(6443),n.e(3072)]).then(n.bind(n,96443)))),Z=(0,C.lazy)((()=>Promise.all([n.e(101),n.e(3134)]).then(n.bind(n,3134)))),J=(0,C.lazy)((()=>Promise.all([n.e(9153),n.e(4515)]).then(n.bind(n,54515))));k().locale("en");const Q={forms:{page:"forms",apiData:{doc_type:"Form"},title:"sidebar.forms",createTitle:"document.createForm",createBtnTxt:"document.newForm",filters:{searchPlaceholder:"filters.searchTmpName",hiddenFilters:["status"]}}},{setSendFileData:$,changeDocumentId:ee}=f.A;const te=function(){const e=(0,N.useDispatch)(),t=(0,N.useSelector)((e=>e.Auth.userData));console.log(t);const{setUserGuide:n}=b.A,{height:f,width:S}=(0,h.A)(),F=(0,N.useSelector)((e=>e.Auth.userGuide)),[z,O]=(0,C.useState)(!1),[E,te]=(0,C.useState)(!1),[ne,ie]=(0,C.useState)(!1),[ae,se]=(0,C.useState)(!1),[re,oe]=(0,C.useState)("isoInvoiceTable document-list-table "),[le,de]=(0,C.useState)(),[ce,pe]=(0,C.useState)(""),[me,ue]=(0,C.useState)(!1),he=window.location.pathname,fe=(0,N.useSelector)((e=>e.App)),{sendFile:be}=fe,[ge,xe]=(0,C.useState)(!1);(0,C.useEffect)((()=>{const e=S>=992&&F.user_guide_visible>=1&&"move-a-document-to-another-folder"===F.user_guide_step&&1===t.user_guide_allowed?1:0,n=S>=992&&F.user_guide_visible>=1&&"convert-to-a-pdf-file"===F.user_guide_step&&1===t.user_guide_allowed?1:0,i=S>=992&&F.user_guide_visible>=1&&"add-tag-to-my-documents"===F.user_guide_step&&1===t.user_guide_allowed?1:0;if(e||n||i){const e=Te.files?[...Te.files]:[];if(console.log(">>> FileManager/index.js -> useEffect(), fls",e),e.length<1)return void se(!0)}O(e),te(n),ie(i);let a="isoInvoiceTable document-list-table ",s="user-guide-tooltip-1 type-two ";e&&(a+=" step-move-a-document-to-another-folder",s+=" step-move-a-document-to-another-folder"),n&&(a+=" step-convert-to-a-pdf-file",s+=" step-convert-to-a-pdf-file"),i&&(a+=" step-add-tag-to-my-documents",s+=" step-add-tag-to-my-documents"),oe(a),"user-guide-tooltip-1 type-two "===s&&(s="is-hide"),pe(s)}),[F]);const ye=D.A.parse(he,{arrayFormat:"comma",encode:!1}),ve=["folder_id","view","per_page","page"],je=((0,d.A)(),"forms"),Ae=Q[je]||{},_e=!1,we=(0,N.useSelector)((e=>e.Auth.access));(0,w.isString)(ye.tags)&&ye.tags.trim()&&(ye.tags=[ye.tags]);const[Se,ke]=(0,C.useState)([]),[De,Ce]=(0,C.useState)(ye),[Ne,Fe]=(0,C.useState)({});(e=>{const t=(0,C.useRef)(e);(0,C.useEffect)((()=>{t.current=e}),[e]),t.current})(window.location),(0,C.useEffect)((()=>{Ce((e=>({page:1,per_page:5})))}),[]),null!==De&&void 0!==De&&De.id_token&&delete De.id_token;const[ze,Oe]=(0,C.useState)((0,c.rv)(ye,ve)),[Te,Ee]=(0,C.useState)({files:[],loading:!0,parentId:0,parentFolder:[]}),[Ie,Le]=(0,C.useState)({initObj:{},linkVisible:!1,folderVisible:!1,uploadVisible:!1,sendFileVisible:!1,locationFileData:null,shareVisible:!1}),Ve=ye.folder_id||(null===t||void 0===t?void 0:t.home_directory)||"0",{initObj:Me,folderVisible:Pe,uploadVisible:Ke,createVisible:Be,linkVisible:Ye}=Ie;async function Ue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;Ee((e=>({...e,loading:"disable-reload"!==n||(0,w.isEmpty)(Te.files)})));const a=Ae.apiData||{};try{var s,r;const n={headers:{Accept:"application/json","Content-Type":"application/json","Cache-Control":"no-cache"}};let c="Form"===a.doc_type?await _.A.get("".concat(V.D.host).concat(V.D.getForms,"?user_id=").concat(t.user_id,"&folder_id=".concat(null!==(s=ye.folder_id)&&void 0!==s?s:"0")).concat(void 0===e.name?"":"&name=".concat(e.name)).concat(void 0===e.date?"":"&date=".concat(e.date)),n):await(0,l.Ay)("file/".concat(Ae.apiUrl||"get-documents"),{...e,folder_id:["Template","Attachment"].includes(a.doc_type)&&"team"===t.role?null!==(r=ye.folder_id)&&void 0!==r?r:"0":Number(ye.folder_id||0)<Number(null===t||void 0===t?void 0:t.home_directory)?(null===t||void 0===t?void 0:t.home_directory)||"0":Ve||"0",doc_type:a.doc_type||"Document"},"POST");if(c="Form"===a.doc_type?c.data:c,c.success&&(0,w.isArray)(c.data)){var o,d;if("Attachment"===a.doc_type){const{linked_docs:e}=c;c.data.forEach((t=>{t.hash_url in e?t.linked_docs=e[t.hash_url]:t.linked_docs=[]})),c.data=c.data.filter((e=>"Completed"!==e.status))}i&&(c.data=c.data.filter((e=>"In Process"!==e.status)));const e=[...c.data];if(null!==ye&&void 0!==ye&&ye.folder_id&&0!==Number(null===ye||void 0===ye?void 0:ye.folder_id)){const t={key:"0",id:c.parent_id,name:"-",file_type:"",type:"back"};e.unshift(t)}"team"===t.role&&1===(null===t||void 0===t||null===(o=t.home_directory)||void 0===o?void 0:o.split(",").length)&&null!==t&&void 0!==t&&null!==(d=t.home_directory)&&void 0!==d&&d.split(",").includes(null===ye||void 0===ye?void 0:ye.folder_id)&&e.find((e=>"back"===e.type))&&e.splice(0,1),ke([]),Ee((t=>({...t,files:e,parentId:c.parent_id||0,parentFolder:c.parentFolder||[],loading:!1})));const n=Ne?{...Ne}:{};n.total=c.total_count||1,n.pageSize=c.per_page||5,n.current=c.page||1,Ce((e=>({...e,page:c.page||1,per_page:c.per_page||5}))),Fe(n)}else Ee((e=>({...e,files:[],loading:!1})))}catch(c){Ee((e=>({...e,files:[],loading:!1})))}}function Re(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Te.files?[...Te.files]:[],n=(0,w.isObject)(e)&&e.id?e.id:"",i=(0,w.findIndex)(t,(e=>e.id===n));n&&i>-1?(t[i].name=e.name,t[i].modify_by=e.modify_by,t[i].updatedAt=e.updatedAt,Ee((e=>({...e,files:t})))):Ue({...De}),Le((e=>({...e,initObj:{},linkVisible:!1,folderVisible:!1,uploadVisible:!1})))}function qe(e){const t=e&&0!==e?"string"!==typeof e&&e.toString():void 0;Ce((e=>({...e,folder_id:t,page:1,per_page:Ne.per_page||5})))}(0,C.useEffect)((()=>{Ue({...De})}),[Ve]),(0,u.A)({type:["update_documents"],action:()=>Ue({...De},"disable-reload")}),(0,m.A)({filters:De,restrictFlt:["pagination"]});let He=[{key:"name_sort",title:(0,T.jsx)(r.A,{id:"antTable.title"}),dataIndex:"name",rowKey:"name",className:"fullname-cell filedata-cell",defaultSortOrder:De.name_sort,sorter:(e,t)=>"back"!==e.type&&"back"!==t.type&&e.name.localeCompare(t.name),sortDirections:["descend","ascend"],render:function(n,i){return(0,T.jsx)(G,{data:i,access:we,dData:Ae,setState:Le,setFileState:Ee,fetchData:Ue,filters:De,setFilters:Ce,fltInit:ye,disableMenu:"read"===t.privilege_type||Ae.disableMenu,handleFileClick:()=>function(t){if("folder"!==t.type&&"back"!==t.type||qe(t.id),"form"===t.type&&(document.getElementById("root").setAttribute("data-path","/smartform/".concat(t.hash)),e(ee("/smartform/".concat(t.hash)))),"file"===t.type&&t.hash_url){const e=["application/pdf","text/html"].includes(t.file_type)?"":"/dashboard";window.location.href="".concat(e,"/document/").concat(t.hash_url)}}(i)})}},{key:"createdAt_sort",title:(0,T.jsx)(r.A,{id:"common.createdBy"}),dataIndex:"user_name",rowKey:"user_name",width:180,defaultSortOrder:De.createdAt_sort,sorter:(e,t)=>e.createdat-t.createdat,render:(e,t)=>"back"!==t.type&&e?(0,T.jsxs)("div",{children:[(0,T.jsx)("span",{className:"label",children:(0,T.jsx)(r.A,{id:"common.createdBy"})}),(0,T.jsx)("span",{className:"mobile-lbl-val",children:e}),(0,T.jsx)("span",{className:"mobile-lbl-val",children:k()(t.createdat).format("lll")})]}):null},{key:"modify_by_sort",title:(0,T.jsx)(r.A,{id:"common.modifiedBy"}),dataIndex:"modify_by",rowKey:"modify_by",width:180,defaultSortOrder:De.updatedAt_sort,sorter:(e,t)=>e.updatedAt-t.updatedAt,render:function(e,t){return"back"!==t.type&&e?(0,T.jsxs)("div",{children:[(0,T.jsx)("span",{className:"label",children:(0,T.jsx)(r.A,{id:"common.modifiedBy"})}),(0,T.jsx)("span",{className:"mobile-lbl-val",children:t.modify_by}),(0,T.jsx)("span",{className:"mobile-lbl-val",children:k()(t.updatedAt).format("lll")})]}):null}},{key:"status",title:"",dataIndex:"status",rowKey:"status",width:0,render:(e,t)=>{const n=p.ME.find((t=>t.name===e)),a=n?n.color:"";return"folder"!==t.type&&"back"!==t.type&&e?(0,T.jsxs)("div",{children:[(0,T.jsx)("span",{className:"label",children:(0,T.jsx)(r.A,{id:"common.status"})}),(0,T.jsx)("span",{className:"mobile-lbl-val",children:(0,T.jsx)(g.A,{placement:"topLeft",title:e&&(0,T.jsx)(r.A,{id:e.toLowerCase()}),children:(0,T.jsx)(x.A,{icon:"Preparing"===e&&(0,T.jsx)(i.A,{spin:!0}),color:a,children:e&&(0,T.jsx)(r.A,{id:e.toLowerCase()})},e)})})]}):null}},{key:"file_type_sort",title:"",dataIndex:"file_type",rowKey:"file_type",width:0,defaultSortOrder:De.file_type_sort,sorter:(e,t)=>"back"!==e.type&&"back"!==t.type&&e.file_type.localeCompare(t.file_type),sortDirections:["descend","ascend"],render:(e,t)=>"back"===t.type?null:(0,T.jsxs)("div",{children:[(0,T.jsx)("span",{className:"label",children:(0,T.jsx)(r.A,{id:"antTable.title.type"})}),(0,T.jsx)("span",{className:"mobile-lbl-val",children:e&&p.cc[e]?p.cc[e].toUpperCase():"-"})]})},{key:"size_sort",title:"",dataIndex:"size",rowKey:"size",width:0,defaultSortOrder:De.size_sort,sorter:(e,t)=>e.size-t.size,sortDirections:["descend","ascend"],render:(e,t)=>"back"===t.type?null:(0,T.jsxs)("div",{children:[(0,T.jsx)("span",{className:"label",children:(0,T.jsx)(r.A,{id:"antTable.title.size"})}),(0,T.jsx)("span",{className:"mobile-lbl-val",children:e?(0,c.v7)(e):"-"})]})},{key:"updatedAt_sort",title:(0,T.jsx)(r.A,{id:"antTable.title.modified"}),dataIndex:"updatedAt",rowKey:"updatedAt",width:170,defaultSortOrder:De.updatedAt_sort,sorter:(e,t)=>e.updatedAt-t.updatedAt,sortDirections:["descend","ascend"],render:(e,t)=>{const n=e?k()(e).fromNow():"-";return"back"===t.type?null:(0,T.jsxs)("div",{children:[(0,T.jsx)("span",{className:"label",children:(0,T.jsx)(r.A,{id:"antTable.title.modified"})}),(0,T.jsx)("span",{className:"mobile-lbl-val",children:n})]})}},{title:(0,T.jsx)(r.A,{id:"common.action"}),dataIndex:"edit",rowKey:"edit",width:140,fixed:"right",className:"action-cell",render:(e,t)=>"back"===t.type?null:(0,T.jsx)("div",{className:"isoInvoiceBtnView",children:(0,T.jsx)(s.default,{id:"action-btn",rowData:t,access:we,shareDocAccess:["view",t.is_download?"download":""],dData:Ae,onEdit:()=>Le((e=>({...e,initObj:t,folderVisible:!0}))),setState:Ee,fetchData:e=>Ue(De,e),className:"more-drop-down",onEditUrl:()=>Le((e=>({...e,initObj:t,linkVisible:!0})))})})}];function Ge(){var e;const n="team"===t.role?null!==(e=ye.folder_id)&&void 0!==e?e:void 0:null!==Ve&&void 0!==Ve?Ve:"0";Ce((()=>({folder_id:n}))),xe(!1),Ue()}function We(e,t,n){const i={...De,page:1};n&&n.columnKey&&((0,w.map)(i,((e,t)=>{t!==n.columnKey&&t.includes("_sort")&&(i[t]=void 0)})),i[n.columnKey]=n.order),(0,w.isObject)(e)&&!(0,w.isEmpty)(e)&&(i.page=e.current,i.per_page=e.pageSize,Fe((t=>({...t,...e})))),Ce(i),Ue({...i})}function Xe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"show";if(e.key){const n="show"===t;Le((t=>({...t,["".concat(e.key,"Visible")]:n,initObj:n?t.initObj:{}})))}}const{files:Ze,loading:Je}=Te,Qe=(0,c.rv)(De,ve,ze),$e=e=>({body:{row:t=>(0,T.jsx)(I,{handleSubmit:()=>Ue(De),component:{cmp:e},parentId:Te.parentId,...t})}}),et=()=>ke((0,w.filter)(Ze,(e=>e.id&&"folder"!==e.type&&"back"!==e.type)).map((e=>e.id))),tt={hideDefaultSelections:!0,selectedRowKeys:Se,onChange:e=>{ke(e)},getCheckboxProps:e=>({disabled:!me&&("folder"===e.type||"back"===e.type)}),onSelection:e=>ke(e)},nt=()=>{se(!1)},it=()=>Te.files.filter((e=>"folder"!==e.type)).length;return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(o.A,{children:[(0,T.jsxs)(L.Ay,{children:[(0,T.jsxs)(a.az,{children:[(0,T.jsxs)(C.Suspense,{fallback:(0,T.jsx)("div",{}),children:[(0,T.jsx)(Z,{visible:!(0,w.isEmpty)(Se),dData:Ae,folderId:Number(Ve),selected:Se,fetchData:()=>Ue(De),selectAllFiles:et,setSelected:ke,files:Ze}),(0,T.jsxs)("div",{style:{display:(0,w.isEmpty)(Se)?"block":"none"},children:[(0,T.jsx)(B,{dData:Ae,onAdd:Xe,parentFolder:Te.parentFolder,fetchData:e=>qe(e.folder_id),setDisFlt:Oe,displayFlt:Qe,folderShortcutList:le,fetchDataNav:()=>null,hideNew:Ae.hideNew,setGridView:()=>{const e="grid"===De.view?"":"grid";Ce((t=>({...t,view:e})))},gridView:"grid"===De.view,showFilter:!(0,w.isEmpty)(Ze),getSecureShareData:()=>{ue(!0),Ue(De,"","secure-share")},fltInit:ye}),(0,T.jsx)(Y,{dData:Ae,resetFlt:Ge,filters:De,onChange:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i={...De,page:1,per_page:5};t&&(i[t]=e||void 0),Ce(i),n&&Ue({...i})},displayFlt:Qe}),(0,T.jsx)(U,{dData:Ae,resetFlt:Ge,filters:De,onChange:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"elastic",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i={...De,page:1,per_page:5};t&&(i[t]=e||void 0),Ce(i),n&&Ue({...i})},displayFlt:Qe,advancedSearch:ge,setAdvancedSearch:xe})]})]}),(0,T.jsx)(C.Suspense,{fallback:(0,T.jsx)("div",{className:"loaderMain",children:(0,T.jsx)(y.A,{})}),children:(0,w.isEmpty)(Ze)&&!Je?(0,T.jsx)(v.A,{}):(0,T.jsxs)(P,{children:["grid"===De.view?(0,T.jsx)(W,{access:we,loading:Je,files:Ze,setState:Le,setFileState:Ee,fetchData:()=>Ue(De),filters:De,setFilters:Ce,fltInit:ye,disableMenu:Ae.disableMenu,components:(0,w.isEmpty)(Se)?null:{body:{row:e=>{let{children:t}=e;return(0,T.jsx)("div",{children:t})}}},chanegFolderId:qe,selected:Se,setSelected:ke,sharedDoc:_e}):(0,T.jsxs)("div",{className:re,children:[(0,T.jsxs)("div",{className:ce,children:[(0,T.jsxs)("div",{className:"user-guide-tooltip-content",children:["Click on ",(0,T.jsx)("b",{children:"Actions"})," Dropdown."]}),(0,T.jsx)("div",{className:"user-guide-tooltip-caret"})]}),!Je&&(0,w.isEmpty)(Ze.filter((e=>"back"!==e.type)))?(0,T.jsx)(v.A,{}):(0,T.jsx)(K,{scroll:{x:1400},loading:Je,rowKey:e=>e.id,rowSelection:tt,dataSource:Ze,columns:He,onChange:We,className:"invoiceListTable fileManagerTable".concat(""),pagination:!1,onRow:(e,t)=>({index:t}),components:!(0,w.isEmpty)(Se)&&void 0,showSorterTooltip:!1})]}),!Je&&!(0,w.isEmpty)(Ze.filter((e=>"back"!==e.type)))&&(0,T.jsx)(j.A,{total:Ne.total||1,current:Ne.current||1,pageSize:Ne.pageSize||5,onChange:(e,t)=>We({current:e,pageSize:t}),showSizeChanger:!0})]})})]}),(0,T.jsxs)(C.Suspense,{fallback:(0,T.jsx)("div",{}),children:[(0,T.jsx)(q,{dData:Ae,visible:Ye,cFolderId:Ve,initVal:Me,handleSubmit:Re,onClose:()=>Xe({key:"link"},"hide"),parentFolder:Te.parentFolder}),(0,T.jsx)(R,{dData:Ae,visible:Pe,cFolderId:"team"===t.role?null===ye||void 0===ye?void 0:ye.folder_id:Ve,initVal:Me,handleSubmit:Re,onClose:()=>Xe({key:"folder"},"hide"),parentFolder:Te.parentFolder}),(0,T.jsx)(H,{dData:Ae,visible:Ke,cFolderId:Ve,handleSubmit:Re,onClose:()=>Xe({key:"upload"},"hide"),filesLength:it()}),(0,T.jsx)(X,{cFolderId:Ve,dData:Ae,visible:Be,onClose:()=>Xe({key:"create"},"hide"),filesLength:it()})]})]}),"sendFile"===be.type&&be.fileData&&(0,T.jsx)(J,{visible:"sendFile"===be.type,type:"send",onClose:()=>e($()),rowData:be.fileData,handleSubmit:()=>{e($()),Ue()}})]}),(0,T.jsxs)(A.A,{title:"",open:ae,okText:"OK",onCancel:nt,onOk:nt,className:"stepZero",children:[(0,T.jsx)("span",{className:"topTitle",children:"FilesDNA PRODUCT TOUR"}),(0,T.jsx)("h2",{className:"mainTitle",children:"Empty document list"}),(0,T.jsx)("p",{className:"contentOne",children:"Sorry, There are no documents in the following table."})]}),(0,T.jsx)(A.A,{title:"",open:me,okText:"Next",onCancel:()=>{ue(!1),Ue(De)},onOk:()=>{(0,w.isEmpty)(Se)||Le((e=>({...e,shareVisible:!0})))},width:1e3,children:(0,T.jsxs)(C.Suspense,{fallback:(0,T.jsx)("div",{className:"loaderMain",children:(0,T.jsx)(y.A,{})}),children:[(0,T.jsx)(Z,{visible:!(0,w.isEmpty)(Se),dData:Ae,folderId:Number(Ve),selected:Se,fetchData:()=>Ue(De,"","secure-share"),selectAllFiles:et,setSelected:ke,files:Ze,secureShare:!0}),(0,w.isEmpty)(Ze)&&!Je?(0,T.jsx)(v.A,{}):(0,T.jsxs)(P,{children:["grid"===De.view?(0,T.jsx)(W,{access:we,loading:Je,files:Ze,setState:Le,setFileState:Ee,fetchData:()=>Ue(De,"","secure-share"),filters:De,setFilters:Ce,fltInit:ye,disableMenu:Ae.disableMenu,components:(0,w.isEmpty)(Se)?$e("div"):{body:{row:e=>{let{children:t}=e;return(0,T.jsx)("div",{children:t})}}},chanegFolderId:qe,selected:Se,setSelected:ke,sharedDoc:_e}):(0,T.jsxs)("div",{className:re,children:[(0,T.jsxs)("div",{className:ce,children:[(0,T.jsxs)("div",{className:"user-guide-tooltip-content",children:["Click on ",(0,T.jsx)("b",{children:"Actions"})," Dropdown."]}),(0,T.jsx)("div",{className:"user-guide-tooltip-caret"})]}),!Je&&(0,w.isEmpty)(Ze.filter((e=>"back"!==e.type)))?(0,T.jsx)(v.A,{}):(0,T.jsx)(K,{scroll:{x:1400},loading:Je,rowKey:e=>e.id,rowSelection:tt,dataSource:Ze,columns:He,onChange:We,className:"invoiceListTable fileManagerTable".concat(""),pagination:!1,onRow:(e,t)=>({index:t}),components:(0,w.isEmpty)(Se)?$e("tr"):void 0,showSorterTooltip:!1,style:{cursor:"pointer"}})]}),!Je&&!(0,w.isEmpty)(Ze.filter((e=>"back"!==e.type)))&&(0,T.jsx)(j.A,{total:Ne.total||1,current:Ne.current||1,pageSize:Ne.pageSize||5,onChange:(e,t)=>We({current:e,pageSize:t}),showSizeChanger:!0})]})]})}),Ie.shareVisible&&(0,T.jsx)(M.default,{type:"share",visible:Ie.shareVisible,onClose:()=>Le((e=>({...e,shareVisible:!1}))),rowData:Se,fetchData:e=>{"disable-reload"===e&&(Le((e=>({...e,shareVisible:!1}))),ke([])),Ue(De,"","secure-share")},handleSubmit:()=>{Le((e=>({...e,shareVisible:!1}))),Ue(De,"","secure-share"),ke([]),ue(!1)},secureShare:!0})]})}},35116:(e,t,n)=>{n.d(t,{XK:()=>c,q6:()=>p,yk:()=>d});var i=n(47738),a=n(1158),s=n(60974),r=n(22569),o=n(62298),l=n(44414);const d={is_verify_liveness:{weightage:50,type:"liveness",title:"verification.liveness"},is_verify_voice:{weightage:50,type:"idcard",title:"verification.voice"}},c={},p={is_verify_voice:{title:"verification.voice",msg:"settings.verifyToSign",link:"user-verification?active=voice",verifyData:{title:"settings.verifyVoice",subTxt:"voice.verifyVoiceMsg"}},is_verify_liveness:{title:"verification.liveness",msg:"settings.verifyToSign",link:"user-verification?active=liveness",verifyData:{title:"settings.verifyLiveness",subTxt:"liveness.verify"}}};i.A,a.A,s.A,r.A,o.A,i.A,a.A,s.A,o.A,r.A,i.A,o.A,r.A},13771:(e,t,n)=>{n.d(t,{A:()=>b});var i=n(41893),a=n(37734),s=n(6819),r=n(35676),o=n(68265),l=n(41135),d=n(87094),c=n(41988),p=n(55902),m=n(9950),u=n(94885),h=n(8187),f=n(44414);const b=function(e){const{visible:t,onClose:n,handleSubmit:b,modalData:g={}}=e,x=g||{},[y]=o.A.useForm(),[v,j]=(0,m.useState)(!1);(0,r.A)({form:y,visible:t,initVal:{is_selected:!1}});const A=(0,f.jsx)(o.A.Item,{name:"country",className:"countryFormItem",style:{marginBottom:0},children:(0,f.jsx)(u.A,{keyType:"code",valType:"dial_code",className:"countryPicker",filterOption:h.Tk,showSearch:!0,dropDownCustom:!1,allCountries:!0,userVerification:!0,optionFilterProp:!0})});return(0,f.jsx)(l.A,{title:(0,f.jsx)(a.A,{id:x.title||"documents.addRecipient"}),open:t,okText:(0,f.jsx)(a.A,{id:"common.submit"}),onCancel:v?null:n,onOk:v?null:function(){y.validateFields().then((e=>{!async function(e){j(!0);try{const t=new FormData;t.append("email",e.email),t.append("first_name",e.first_name),t.append("phone_number",e.phone_number);const n=await(0,s.Ay)("contact/create",t,"POST",void 0,!0);n.success?((0,i.A)("success",n.message),b(e)):(0,i.A)("error",n.message),j(!1)}catch(t){j(!1),(0,i.A)("error")}}(e)}))},okButtonProps:{id:"add-user"},confirmLoading:v,children:(0,f.jsx)(o.A,{form:y,layout:"vertical",children:(0,f.jsxs)(d.A,{gutter:6,children:[(0,f.jsx)(c.A,{span:24,children:(0,f.jsx)(o.A.Item,{label:(0,f.jsx)(a.A,{id:"common.fullName"}),name:"first_name",rules:[{required:!0,message:(0,f.jsx)(a.A,{id:"req.name"})},{max:50,message:(0,f.jsx)(a.A,{id:"err.max.50char"})},{whitespace:!0,message:(0,f.jsx)(a.A,{id:"err.blankSpace"})}],children:(0,f.jsx)(p.A,{})})}),(0,f.jsx)(c.A,{span:24,children:(0,f.jsx)(o.A.Item,{label:(0,f.jsx)(a.A,{id:"antTable.title.email"}),name:"email",rules:[{required:!0,message:(0,f.jsx)(a.A,{id:"req.email"})},{type:"email",message:(0,f.jsx)(a.A,{id:"err.email"})},{max:255,message:(0,f.jsx)(a.A,{id:"err.max.255char"})}],children:(0,f.jsx)(p.A,{})})}),(0,f.jsx)(c.A,{span:24,children:(0,f.jsx)(o.A.Item,{label:(0,f.jsx)(a.A,{id:"common.phoneNo"}),name:"phone_number",rules:[{max:15,message:(0,f.jsx)(a.A,{id:"err.max.15char"})},{whitespace:!0,message:(0,f.jsx)(a.A,{id:"err.blankSpace"})}],children:(0,f.jsx)(p.A,{type:"number",addonBefore:A})})})]})})})}},85908:(e,t,n)=>{function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.3;return"\n      -webkit-transition: all ".concat(e,"s cubic-bezier(0.215, 0.61, 0.355, 1);\n      -moz-transition: all ").concat(e,"s cubic-bezier(0.215, 0.61, 0.355, 1);\n      -ms-transition: all ").concat(e,"s cubic-bezier(0.215, 0.61, 0.355, 1);\n      -o-transition: all ").concat(e,"s cubic-bezier(0.215, 0.61, 0.355, 1);\n      transition: all ").concat(e,"s cubic-bezier(0.215, 0.61, 0.355, 1);\n  ")}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"\n      -webkit-border-radius: ".concat(e,";\n      -moz-border-radius: ").concat(e,";\n      -ms-transition: ").concat(e,";\n      -o-border-radius: ").concat(e,";\n      border-radius: ").concat(e,";\n  ")}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none";return"\n      -webkit-box-shadow: ".concat(e,";\n      -moz-box-shadow: ").concat(e,";\n      box-shadow: ").concat(e,";\n  ")}n.d(t,{MS:()=>s,Vq:()=>a,kY:()=>i})},6870:(e,t,n)=>{n.d(t,{A:()=>r});var i=n(9950),a=n(74283),s=n(41397);const r=e=>{let{filters:t,restrictFlt:n=[]}=e;const r=(0,s.isArray)(n)?n:[];(0,i.useEffect)((()=>{const e=(0,s.isObject)(t)?(0,s.omitBy)(t,((e,t)=>!e||!(0,s.isNumber)(e)&&(0,s.isEmpty)(e)||r.includes(t))):{};a.A.stringify(e,{arrayFormat:"comma",encode:!1}),(0,s.isEmpty)(e)}),[t])}},24120:(e,t,n)=>{n.d(t,{A:()=>s});var i=n(41397),a=n(9950);const s=function(e){let{action:t=(()=>{}),condition:n,type:s=[]}=e;(0,a.useEffect)((()=>{const e={},a=!(0,i.isFunction)(n)||n(e);!(0,i.isEmpty)(e)&&(0,i.isArray)(s)&&a&&t(e)}),[])}}}]);