"use strict";(self.webpackChunkfilesdna=self.webpackChunkfilesdna||[]).push([[9439],{58769:(n,t,e)=>{e.d(t,{A:()=>i});const i=e(41135).A},56884:(n,t,e)=>{e.d(t,{A:()=>i});const i=e(68265).A},7345:(n,t,e)=>{e.r(t),e.d(t,{default:()=>A});var i=e(2260),o=e(58769),a=e(41893),r=e(56884),l=e(37734),p=e(98581),s=e(5755),d=e(34845),c=e(51865),x=e(6819),m=e(35676),g=e(53079),f=e(72612),b=e(87094),u=e(41988),h=e(41397),y=e(9950),w=e(44414);const v={exporting:{title:"document.exporting",msg:"document.exportingMsg"},saving:{title:"document.saving",msg:"document.savingMsg"}};const A=function(n){var t;const{docId:e="",docData:A,savedData:k=[],visible:z=!1,onClose:C=(()=>{}),goBack:j=(()=>{}),type:T="",handleSaveDocResp:D=(()=>{}),user:O}=n,[L]=r.A.useForm(),[I,B]=(0,y.useState)({initLoading:!1,isQrAdded:!1}),[E,M]=(0,y.useState)({loading:!1}),S="Pending Owner"===(null===A||void 0===A||null===(t=A.file)||void 0===t?void 0:t.status);async function F(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";M((n=>({...n,loading:"saving"})));try{const t=new FormData;t.append("user",JSON.stringify(O)),t.append("document_id",e),t.append("json_data",JSON.stringify(k)),t.append("type","save");const i=await(0,x.Ay)("file/append",t,"post",void 0,!0);i.success?"save"===n?(D(i),M((n=>({...n,loading:!1}))),C()):async function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";M((n=>({...n,loading:"exporting"})));try{const t=await(0,x.Ay)("file/finish",{document_id:e,type:n,timezone:p.A.timezone,json_data:k},"post");if(t.success)j("",{message:"fileManage.exportSuccessfully"}),setTimeout((()=>{(0,a.A)("success",t.message)}),300);else{const n=t.is_limit_exceed?"document.signUpgradeLimit":t.message;(0,a.A)("error",n)}setTimeout((()=>{M((n=>({...n,loading:!1})))}),200)}catch(t){M((n=>({...n,loading:!1}))),(0,a.A)("error")}}(n):(M((n=>({...n,loading:!1}))),(0,a.A)("error",i.message))}catch(t){M((n=>({...n,loading:!1}))),(0,a.A)("error")}}async function U(){B((n=>({...n,initLoading:!0})));const n=await new Promise((n=>{if((0,h.isArray)(k)&&!(0,h.isEmpty)(k)){const e=k.length||0;for(let i=0;i<e;i+=1){var t;null!==(t=k[i])&&void 0!==t&&t.objects&&(0,c.pm)(k[i].objects,(n=>"qr"===n.fieldType))&&n(!0)}n(!1)}else n(!1)}));B((t=>({...t,initLoading:!1,isQrAdded:n})))}return(0,m.A)({form:L,visible:z,initVal:{type:S?"export":"save"}}),(0,y.useEffect)((()=>{z&&("exporting"===T&&F("export"),U())}),[z]),(0,w.jsx)(o.A,{open:E.loading,onClose:C,title:(0,w.jsx)(l.A,{id:"documents.finishDoc"}),okText:(0,w.jsx)(l.A,{id:"common.submit"}),onOk:E.loading?null:function(){L.validateFields().then((n=>{F({...n}.type)})).catch((n=>{console.log("Validate Failed:",n)}))},onCancel:E.loading?null:C,okButtonProps:{id:"export-doc"},destroyOnClose:!0,footer:E.loading||I.initLoading?null:void 0,children:(0,w.jsx)(f.A,{spinning:I.initLoading,children:(0,w.jsx)(d.Pp,{children:(0,w.jsx)(r.A,{autoComplete:"off",form:L,layout:"vertical",children:(0,w.jsx)(b.A,{gutter:6,children:(0,w.jsx)(u.A,{xs:24,children:E.loading&&(0,w.jsx)(g.Ay,{className:"errorResult",status:"warning",icon:(0,w.jsx)(i.A,{style:{color:s.A.colors.primaryColor}}),title:(0,w.jsx)(l.A,{id:v[E.loading].title}),subTitle:(0,w.jsx)(l.A,{id:v[E.loading].msg})})})})})})})})}},34845:(n,t,e)=>{e.d(t,{$8:()=>f,Ay:()=>v,Ky:()=>y,Pp:()=>b,bY:()=>h,h2:()=>u,hE:()=>w});var i,o,a,r,l,p,s,d=e(57528),c=e(33753),x=e(73053),m=e(1868);const g=(0,x.A)(c.Ay.div(i||(i=(0,d.A)(["\n  width: 100%;\n\n  .innerTable .ant-table-expanded-row-fixed .ant-table-content {\n    overflow: hidden !important;\n  }\n  .innerTable .ant-table-wrapper.fileManagerTable {\n    overflow: hidden;\n  }\n  .innerTable\n    .ant-table-expanded-row-fixed\n    .ant-table.ant-table-fixed-column.ant-table-scroll-horizontal {\n  }\n  .innerTable .ant-table-expanded-row-fixed {\n    position: relative !important;\n  }\n  .innerTable .ant-table-expanded-row-fixed {\n    width: 100% !important;\n  }\n  .innerTable .ant-table-expanded-row-fixed .ant-table-wrapper {\n    background-color: transparent !important;\n  }\n  .ant-select-dropdown .ant-badge-status {\n    line-height: 1;\n    vertical-align: middle;\n  }\n  .ant-select-selection-item\n    .ant-badge.ant-badge-status.ant-badge-not-a-wrapper {\n    vertical-align: middle;\n  }\n\n  & .ant-table {\n    & .ant-table-thead {\n      & .ant-table-selection {\n        & .ant-dropdown-trigger {\n          & .anticon {\n            font-size: 12px;\n            color: ",";\n          }\n        }\n      }\n    }\n    & .ant-table-tbody {\n      & .fileContentMain {\n        & .anticon-file-text {\n          cursor: move;\n        }\n      }\n      & tr {\n        &.drop-over-upward {\n          background-color: #f0f0f0;\n          & td {\n            border-top: 1px dashed ",";\n            border-bottom: 1px dashed ",";\n          }\n        }\n      }\n    }\n  }\n\n  & .sharedTable {\n    & .ant-table-tbody {\n      & .fileContentMain {\n        & .anticon-file-text {\n          cursor: unset;\n        }\n      }\n    }\n  }\n\n  & .filterBox {\n    height: auto;\n    margin-bottom: 15px !important;\n\n    & .filterWrapper {\n      margin-bottom: 0px;\n\n      & > div {\n        margin-bottom: 0px;\n      }\n    }\n\n    & .tagsMain {\n      margin-top: 15px;\n\n      & .tagLabel {\n        margin-right: 10px;\n      }\n    }\n  }\n\n  @-webkit-keyframes mover {\n    0% {\n      transform: translateY(0);\n    }\n    100% {\n      transform: translateY(-10px);\n    }\n  }\n  @keyframes mover {\n    0% {\n      transform: translateY(0);\n    }\n    100% {\n      transform: translateY(-10px);\n    }\n  }\n\n  & .dropContent {\n    border: 3px dashed ",";\n    background-color: rgba(255, 255, 255, 0.8);\n    position: absolute;\n    inset: 0px;\n    z-index: 99;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n\n    & .anticon {\n      font-size: 40px;\n      color: ",";\n    }\n\n    & .anticon-cloud-upload {\n      -webkit-animation: mover 0.5s infinite alternate;\n      animation: mover 0.5s infinite alternate;\n    }\n\n    & h1 {\n      font-size: 25px;\n      font-weight: 550;\n      margin-left: 20px;\n      color: ",";\n    }\n  }\n"])),(0,m.palette)("primary",0),(0,m.palette)("primary",0),(0,m.palette)("primary",0),(0,m.palette)("primary",0),(0,m.palette)("primary",0),(0,m.palette)("primary",0))),f=(0,x.A)(c.Ay.div(o||(o=(0,d.A)(["\n  // Uppy uploader style customization\n\n  & .uppy-Root {\n    .uppy-StatusBar-actionBtn--retry {\n      padding: 3px 6px 3px 18px;\n    }\n    & .uppy-DashboardTab svg {\n      width: 40px;\n      height: 40px;\n    }\n\n    & .uppy-DashboardTab-name {\n      font-size: 12px;\n    }\n\n    & .uppy-Dashboard-AddFiles-title {\n      font-size: 24px;\n    }\n\n    & .uppy-Dashboard-AddFiles-info {\n      display: block;\n\n      & .uppy-Dashboard-poweredBy {\n        display: none;\n      }\n    }\n  }\n\n  & .uploadCol {\n    & > span {\n      display: block;\n    }\n    & .uploadHint {\n      margin-top: 5px;\n    }\n\n    & .dropBox {\n      text-align: center;\n      margin: 0 auto;\n      padding: 15px 10px;\n\n      & h3 {\n        font-size: 18px;\n        font-weight: 550;\n      }\n\n      & .dropbox-button {\n        margin-top: 10px;\n      }\n    }\n\n    & .filesContainer {\n      & > div:first-child {\n        display: flex;\n        justify-content: center;\n        flex-wrap: wrap;\n        padding-top: 15px;\n      }\n\n      & .uploadContainer {\n        width: 200px;\n        margin-bottom: 10px;\n\n        & p.fileName {\n          min-height: 30px;\n        }\n      }\n    }\n  }\n\n  & .ant-divider.ant-divider-horizontal {\n    margin: 15px 0px;\n  }\n"])))),b=(0,x.A)(c.Ay.div(a||(a=(0,d.A)(["\n  & .ant-radio-group {\n    & .ant-radio-wrapper {\n      display: flex;\n      align-items: flex-start;\n      font-size: 16px;\n      margin-bottom: 20px;\n\n      .ant-radio {\n        align-self: flex-start;\n      }\n\n      &:last-child {\n        margin-bottom: 0px;\n      }\n\n      & .label,\n      & .subTxt {\n        display: block;\n        line-height: 20px;\n\n        @media (max-width: 580px) {\n          word-wrap: break-word;\n          white-space: pre-wrap;\n        }\n      }\n\n      & .ant-radio {\n        margin-right: 5px;\n        & .ant-radio-inner {\n          width: 21px;\n          height: 20px;\n          &:after {\n            // width: 12px;\n            // height: 12px;\n          }\n        }\n      }\n\n      @media only screen and (max-width: 580px) {\n        & .label {\n          font-size: 14px;\n          font-weight: 550;\n        }\n        & .subTxt {\n          font-size: 12px;\n        }\n      }\n    }\n\n    & .error {\n      display: block;\n      font-size: 12px;\n      color: ",";\n    }\n  }\n"])),(0,m.palette)("danger",0))),u=(0,x.A)(c.Ay.div(r||(r=(0,d.A)(["\n  & .selectedUsersList {\n    margin: 10px 0px;\n\n    & .ant-list-item-meta {\n      margin-bottom: 0px;\n    }\n    & .ant-list-item-meta-avatar {\n      margin-right: 10px;\n    }\n    & .ant-list-item-extra {\n      display: flex;\n      align-self: flex-start;\n      align-items: center;\n    }\n    & .ant-list-item-meta-title {\n      font-weight: 550;\n      font-size: 14px;\n      color: ",";\n      margin-bottom: 2px;\n      line-height: 14px;\n    }\n    & .ant-list-item-meta-description {\n      font-weight: 550;\n      font-size: 12px;\n      color: ",";\n    }\n\n    &.sendList {\n      & .ant-list-items {\n        & .drop-over-downward li {\n          border-bottom: 2px dashed ",";\n        }\n\n        & .drop-over-upward li {\n          border-top: 2px dashed ",";\n        }\n\n        & > div {\n          border-bottom: 1px solid #f0f0f0;\n\n          &:last-child {\n            border-bottom: none;\n          }\n        }\n\n        & .ant-list-item {\n          & .ant-avatar {\n            & .dragIcon {\n              display: none;\n            }\n          }\n\n          & .sendActions {\n            margin-left: 15px;\n            display: flex;\n            align-items: center;\n\n            &:last-child {\n              margin-left: 5px;\n            }\n          }\n\n          & .ant-list-item-extra {\n            margin-left: 10px;\n          }\n        }\n      }\n    }\n\n    // common list styles\n    & .ant-list-items {\n      & .ant-avatar {\n        & .dragIcon {\n          display: none;\n        }\n      }\n      & .anticon-partition {\n        font-size: 15px;\n        color: ",";\n        margin-left: 5px;\n      }\n      & .activeOrder {\n        cursor: move !important;\n\n        &:hover {\n          & .dragIcon {\n            display: inline-block !important;\n          }\n          & .userIcon {\n            display: none;\n          }\n        }\n      }\n    }\n  }\n\n  & .workflowUserList {\n    padding: 0px 15px;\n  }\n\n  & .wfUserList {\n    & .ant-list-items {\n      & .ant-list-item-action {\n        margin-left: 5px;\n\n        & > li {\n          padding: 0 1px 0 0;\n        }\n      }\n    }\n  }\n\n  & .ant-list-items {\n    & .ant-list-item {\n      & .listAction {\n        display: flex;\n        align-items: center;\n\n        & > div {\n          & > .ant-btn-circle {\n            margin-left: 5px;\n          }\n        }\n      }\n\n      & .ant-list-item-action {\n        margin-top: 8px;\n      }\n\n      & .ant-list-item-extra {\n        margin-left: 10px;\n      }\n    }\n  }\n"])),(0,m.palette)("secondary",0),(0,m.palette)("secondary",2),(0,m.palette)("primary",0),(0,m.palette)("primary",0),(0,m.palette)("primary",0))),h=(0,x.A)(c.Ay.div(l||(l=(0,d.A)(["\n  padding-top: 20px;\n  border-top: 1px solid #eee;\n\n  & .gridContainer {\n    background: #f2f3f7;\n    padding: 20px;\n\n    & .drop-over-upward {\n      & .fileGrid {\n        border: 2px dashed ",";\n      }\n    }\n\n    & .fileGrid {\n      padding: 20px 10px;\n      background-color: #fff;\n      box-shadow: 0px 3px 10px #0000000d;\n      border: 0.3px solid #b7b7b780;\n      border-radius: 5px;\n      text-align: center;\n      cursor: pointer;\n      position: relative;\n\n      &.checked {\n        border-color: ",";\n      }\n\n      &:hover {\n        & .iconBox {\n          & .anticon {\n            transform: scale(0.8);\n          }\n        }\n      }\n\n      & .checkIcon {\n        position: absolute;\n        top: 6px;\n        right: 8px;\n      }\n\n      & .checkIconLeft {\n        position: absolute;\n        top: 6px;\n      }\n\n      & .iconBox {\n        background: #26beb31a 0% 0% no-repeat padding-box;\n        box-shadow: 0px 3px 6px #0000000d;\n        border-radius: 5px;\n        display: inline-block;\n        font-size: 35px;\n        width: 55px;\n        height: 60px;\n        text-align: center;\n        line-height: 60px;\n        color: ",";\n\n        & .anticon {\n          transition: all 0.3s;\n        }\n      }\n\n      & .fileContent {\n        margin-top: 5px;\n        padding-top: 10px;\n        height: 55px;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n\n        & .name {\n          padding: 0 7px;\n          font-size: 16px;\n          font-weight: 550;\n          color: ",";\n          line-height: 16px;\n          margin-bottom: 4px;\n\n          // CSS for eclipse text with all browser\n          & span.fname {\n            white-space: nowrap;\n            text-overflow: ellipsis;\n            overflow: hidden;\n            display: inline-block;\n            width: 150px;\n\n            @supports (-webkit-line-clamp: 2) {\n              overflow: hidden;\n              text-overflow: ellipsis;\n              white-space: initial;\n              display: -webkit-box;\n              -webkit-line-clamp: 2;\n              -webkit-box-orient: vertical;\n              word-break: break-word;\n              width: auto;\n            }\n          }\n        }\n\n        & .sub {\n          color: ",";\n          font-size: 12px;\n\n          & span.dot {\n            margin: 0 4px;\n          }\n        }\n      }\n\n      & .more {\n        position: absolute;\n        right: 0;\n        top: 0;\n        font-size: 20px;\n        padding: 7px;\n        color: #404553;\n      }\n\n      & .lock {\n        position: absolute;\n        left: 12px;\n        top: 12px;\n        font-size: 16px;\n      }\n    }\n  }\n"])),(0,m.palette)("primary",0),(0,m.palette)("primary",0),(0,m.palette)("primary",0),(0,m.palette)("primary",0),(0,m.palette)("text",2))),y=(0,x.A)(c.Ay.div(p||(p=(0,d.A)(["\n  & .selectedList {\n    & .thumb {\n      display: inline-block;\n      position: relative;\n      width: 120px;\n      height: 150px;\n      padding: 9px 5px 12px 12px;\n      border: 0;\n      overflow: hidden;\n      background-color: #fff;\n      box-shadow: 0 2px 3px rgba(0, 0, 0, 0.2);\n      transition: 0.15s;\n      outline: none;\n      border: 1px solid #eee;\n      cursor: pointer;\n\n      & .center {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        text-align: center;\n\n        & .label {\n          margin-top: 5px;\n          display: block;\n          color: ",";\n        }\n\n        & .anticon {\n          font-size: 48px;\n          color: ",";\n        }\n      }\n\n      &:hover {\n        border-color: ",";\n      }\n\n      &.selected {\n        border-color: ",";\n      }\n\n      &:hover {\n        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n      }\n    }\n  }\n\n  & .asign-people {\n    display: flex;\n    justify-content: space-between;\n  }\n\n  & .roleAssignList {\n    & .ant-list-items {\n      & .ant-list-item-meta {\n        align-items: center;\n      }\n\n      & .ant-list-item-action {\n        & li {\n          & .ant-select {\n            text-align: left;\n          }\n        }\n      }\n      .ant-list-item {\n        border-bottom: none;\n      }\n    }\n  }\n\n  & .createform {\n    padding: 30px 0;\n    text-align: center;\n    margin: 30px 10px 30px;\n    border-radius: 5px;\n    background-color: aliceblue;\n    border: 2px solid transparent;\n    cursor: pointer;\n    transition: all 0.5s;\n    svg {\n      width: 50px;\n      height: 50px;\n      margin-bottom: 30px;\n    }\n    &:hover {\n      transform: scale(1.05);\n      border: 2px solid #0097a7;\n      h3 {\n        color: #0097a7;\n      }\n      svg {\n        color: #0097a7;\n      }\n    }\n  }\n"])),(0,m.palette)("secondary",0),(0,m.palette)("primary",0),(0,m.palette)("primary",0),(0,m.palette)("primary",0))),w=(0,x.A)(c.Ay.div(s||(s=(0,d.A)(["\n  & .securityOptions {\n    & .option {\n      padding: 10px;\n      border-radius: 5px;\n      background-color: #f8f8f8;\n      border: 1px solid #ccc;\n      color: #333;\n      cursor: pointer;\n      margin-bottom: 10px;\n      font-weight: 550;\n\n      &:hover {\n        border-color: ",";\n      }\n\n      &.active {\n        color: ",";\n        border-color: ",";\n      }\n    }\n  }\n  & .ant-result {\n    padding: 10px;\n    max-width: 80%;\n    margin: 0 auto;\n\n    & .nfcContent {\n      & ol {\n        margin: 10px 0px 20px;\n        background: #f0f0f0f0;\n        padding: 15px 10px 15px 35px;\n\n        & li {\n          text-align: left;\n          margin-left: 0px;\n          padding-left: 10px;\n          margin-bottom: 3px;\n          font-weight: 550;\n        }\n      }\n    }\n  }\n  & .backBtn {\n    margin-bottom: 5px;\n    padding: 0px;\n  }\n  & .verifyAlert {\n    margin-top: 25px;\n    border: none;\n  }\n"])),(0,m.palette)("primary",0),(0,m.palette)("primary",0),(0,m.palette)("primary",0))),v=g},51865:(n,t,e)=>{e.d(t,{dY:()=>o,pm:()=>r,wf:()=>l,z8:()=>a});var i=e(41397);function o(n,t,e){const i=new Image;i.crossOrigin="Anonymous",i.onload=function(){const n=document.createElement("canvas"),i=n.getContext("2d");let o;n.height=this.naturalHeight,n.width=this.naturalWidth,i.drawImage(this,0,0),o=n.toDataURL(e),t(o)},i.src=n,(i.complete||void 0===i.complete)&&(i.src="data:image/gif;base64, R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",i.src=n)}function a(n,t){const e=t?n.length:0;for(let o=0;o<e;o+=1){const e=n[o]&&n[o].getObjects()||[],a=t?(0,i.find)(e,t):{};if(a)return a}return{}}function r(n,t){const e=t?n.length:0;let i=null;for(let o=0;o<e;o+=1){const e=n[o];if(t(e)&&e){i=e;break}}return i}function l(n){return[5,10,25,50,75,100,...n?[]:[150]]}},35676:(n,t,e)=>{e.d(t,{A:()=>a});var i=e(9950),o=e(41397);const a=function(n){let{form:t,visible:e,initVal:a}=n;const r=(0,i.useRef)();(0,i.useEffect)((()=>{r.current=e,e&&(0,o.isObject)(a)&&!(0,o.isEmpty)(a)&&setTimeout((()=>{t.setFieldsValue(a)}),100)}),[e]);const l=r.current;(0,i.useEffect)((()=>{!e&&l&&t.resetFields()}),[e])}},25407:(n,t,e)=>{e.d(t,{A:()=>i});const i=n=>({[n.componentCls]:{["".concat(n.antCls,"-motion-collapse-legacy")]:{overflow:"hidden","&-active":{transition:"height ".concat(n.motionDurationMid," ").concat(n.motionEaseInOut,",\n        opacity ").concat(n.motionDurationMid," ").concat(n.motionEaseInOut," !important")}},["".concat(n.antCls,"-motion-collapse")]:{overflow:"hidden",transition:"height ".concat(n.motionDurationMid," ").concat(n.motionEaseInOut,",\n        opacity ").concat(n.motionDurationMid," ").concat(n.motionEaseInOut," !important")}}})}}]);