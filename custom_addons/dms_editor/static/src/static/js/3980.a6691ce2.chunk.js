"use strict";(self.webpackChunkfilesdna=self.webpackChunkfilesdna||[]).push([[3980],{73980:(e,s,i)=>{i.r(s),i.d(s,{default:()=>O});var n=i(9950),l=i(98341),r=i(99386),a=i(87094),o=i(41988),d=i(23072),t=i(82056),c=i(45259),x=i(52160),p=i(55902),h=i(32858),j=i(72612),A=i(68265),m=i(26142),y=i(40812),u=i(51400),f=i(42644),C=i(98114),g=i(28278),w=i(95189),b=i(41893),v=i(18469),L=i(98581),k=i(57871),D=i(44414);const{Option:I}=r.A;function O(e){const{qrCode:s}=e,[i,I]=(0,n.useState)(!0),[O,R]=(0,n.useState)(!1),T=(0,l.useSelector)((e=>e.App.documentId)),E=(0,l.useSelector)((e=>e.Auth.userData)),S=T.split("/").pop(),N="".concat(L.A.apiDomain,"/publicform/").concat(S),F=(r.A,{labelCol:{span:4},wrapperCol:{span:20}});return(0,D.jsx)(n.Suspense,{fallback:(0,D.jsx)(g.A,{}),children:(0,D.jsx)("div",{style:{marginTop:"50px"},children:(0,D.jsxs)(a.A,{children:[(0,D.jsx)(o.A,{md:6}),(0,D.jsxs)(o.A,{md:12,children:[(0,D.jsxs)("div",{style:{display:"flex"},children:[(0,D.jsx)(m.A,{style:{fontSize:"40px",marginRight:"10px",color:"green"}}),(0,D.jsxs)("span",{children:[(0,D.jsx)("h3",{children:"DIRECT LINK OF YOUR FORM"}),"Your form is securely published and ready to use at this address."]})]}),(0,D.jsx)(d.A,{}),(0,D.jsx)(t.A,{children:(0,D.jsx)(c.A,{direction:"vertical",style:{width:"90%"},children:i?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("h3",{children:["LINK SHARE \xa0",(0,D.jsx)(x.Ay,{type:"primary",shape:"round",icon:(0,D.jsx)(y.A,{}),size:"small",children:"Public Form"})]}),(0,D.jsx)(p.A,{addonBefore:(0,D.jsx)(m.A,{}),value:N,disabled:!0}),(0,D.jsxs)(c.A,{children:[(0,D.jsx)(w.CopyToClipboard,{text:N,onCopy:()=>h.Ay.info("Public URL copied"),children:(0,D.jsx)(x.Ay,{type:"primary",children:"COPY LINK"})}),(0,D.jsx)(x.Ay,{type:"default",onClick:()=>{window.open(N,"_blank")},children:"OPEN NEW TAB"})]}),(0,D.jsx)(d.A,{}),(0,D.jsx)("h3",{children:"LINK BY EMAIL"}),(0,D.jsx)(p.A,{addonBefore:(0,D.jsx)(u.A,{}),onClick:()=>I(!1)})]}):(0,D.jsxs)(j.A,{spinning:O,tip:"Sending an invitation...",children:[(0,D.jsx)("h3",{children:"LINK BY EMAIL"}),(0,D.jsxs)(A.A,{...F,name:"nest-messages",validateMessages:{required:"${label} is required!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"}},onFinish:async e=>{R(!0);const s=new FormData;s.append("to",e.to),s.append("from",E.email),s.append("form",S),s.append("message",e.message),s.append("link","".concat(N,"?from=").concat(e.to));try{const e=await v.A.post(k.D.host+k.D.createInvite,s);(0,b.A)(e.data.success?"success":"error",e.data.message)}catch(i){console.log(i)}R(!1)},style:{padding:"20px"},children:[(0,D.jsx)(A.A.Item,{name:"to",label:"Email",rules:[{type:"email",required:!0}],children:(0,D.jsx)(p.A,{addonBefore:(0,D.jsx)(u.A,{}),autoFocus:!0})}),(0,D.jsx)(A.A.Item,{name:"message",label:"Message",rules:[{required:!0}],children:(0,D.jsx)(p.A.TextArea,{rows:10})}),(0,D.jsx)(A.A.Item,{wrapperCol:{...F.wrapperCol,offset:4},children:(0,D.jsxs)(c.A,{children:[(0,D.jsx)(x.Ay,{type:"primary",htmlType:"submit",children:"Send Link"}),(0,D.jsxs)(x.Ay,{type:"default",onClick:()=>I(!0),children:[" ","Cancel"," "]})]})})]})]})})}),(0,D.jsx)(d.A,{}),(0,D.jsxs)("div",{style:{display:"flex"},children:[(0,D.jsx)(f.A,{style:{fontSize:"40px",marginRight:"10px"}}),(0,D.jsxs)("span",{children:[(0,D.jsx)("h3",{children:"DOWNLOAD QR CODE"}),"Download QR Code created for your link."]})]}),(0,D.jsx)(d.A,{}),(0,D.jsx)(t.A,{children:(0,D.jsxs)(c.A,{children:[(0,D.jsx)("div",{style:{textAlign:"center"},children:(0,D.jsxs)(c.A,{direction:"vertical",children:[(0,D.jsx)("img",{src:s,width:150,alt:"qr-code"}),(0,D.jsx)(x.Ay,{type:"primary",icon:(0,D.jsx)(C.A,{}),onClick:()=>{const e=document.createElement("a");e.href=s,e.download="QR Code of Filesdna form.png",e.click()},children:"DOWNLOAD"})]})}),(0,D.jsxs)("div",{style:{marginLeft:"50px"},children:[(0,D.jsx)("p",{children:"To embed the QR code on your website, copy the following HTML code."}),(0,D.jsx)(d.A,{}),(0,D.jsx)(p.A.TextArea,{rows:5,value:'<a href="'.concat(N,'" rel="no-follow"><img src="').concat(s,'" width="100%" style="max-width: 120px" alt="QR Code for filesdna form"/></a>')})]}),(0,D.jsx)("div",{style:{marginLeft:"50px"},children:(0,D.jsx)(w.CopyToClipboard,{text:'<a href="'.concat(N,'" rel="no-follow"><img src="').concat(s,'" width="100%" style="max-width: 120px" alt="QR Code for filesdna form"/></a>'),onCopy:()=>h.Ay.info("HTML code copied"),children:(0,D.jsx)(x.Ay,{type:"primary",children:"COPY CODE"})})})]})}),(0,D.jsx)(d.A,{})]}),(0,D.jsx)(o.A,{md:6})]})})})}}}]);