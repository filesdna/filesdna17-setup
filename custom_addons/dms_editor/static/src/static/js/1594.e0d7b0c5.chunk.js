"use strict";(self.webpackChunkfilesdna=self.webpackChunkfilesdna||[]).push([[1594],{79213:(e,i,s)=>{s.r(i),s.d(i,{default:()=>j});var r=s(41893),n=s(37734),t=s(6819),l=s(35676),d=s(68265),a=s(41135),o=s(87094),c=s(41988),m=s(10495),u=s(11569),x=s(41397),p=s(9950),A=s(30135),h=s(44414);const j=(0,A.j4)((function(e){const{docId:i="",visible:s,onClose:A,handleSubmit:j,intl:f}=e,[g]=d.A.useForm(),[v,y]=(0,p.useState)(!1);return(0,l.A)({form:g,visible:s,initVal:{is_expire:!1}}),(0,h.jsx)(a.A,{title:(0,h.jsx)(n.A,{id:"documents.addQr"}),open:s,okText:(0,h.jsx)(n.A,{id:"common.add"}),onCancel:v?null:A,onOk:v?null:function(){g.validateFields().then((e=>{!async function(e){y(!0);const s={...e,document_id:i||""};try{const e=await(0,t.Ay)("get-qrcode",s,"POST");e.success?(j(e.data),A()):(0,r.A)("error",e.message),y(!1)}catch(n){y(!1),(0,r.A)("error")}}(e)}))},confirmLoading:v,children:(0,h.jsx)(d.A,{form:g,layout:"vertical",children:(0,h.jsxs)(o.A,{gutter:[12,12],children:[(0,h.jsx)(c.A,{span:24,children:(0,h.jsx)(d.A.Item,{name:"is_expire",valuePropName:"checked",children:(0,h.jsx)(m.A,{children:(0,h.jsx)("span",{style:{fontSize:15},children:(0,h.jsx)(n.A,{id:"document.expireTimeTitle"})})})})}),(0,h.jsx)(d.A.Item,{noStyle:!0,shouldUpdate:(e,i)=>e.is_expire!==i.is_expire,children:e=>{let{getFieldValue:i}=e;return i("is_expire")?(0,h.jsx)(c.A,{span:24,children:(0,h.jsx)(d.A.Item,{label:(0,h.jsx)(n.A,{id:"document.expireTime"}),name:"expire_time",rules:[{required:!0,message:(0,h.jsx)(n.A,{id:"req.expireTime"})},()=>({validator:(e,i)=>i&&!(0,x.isInteger)(i)||(0,x.isNumber)(i)&&i<1?Promise.reject((0,h.jsx)(n.A,{id:"err.expireTime"})):Promise.resolve()})],children:(0,h.jsx)(u.A,{placeholder:f.formatMessage({id:"common.daysCap"}),min:1,max:1e3,style:{width:"100%"}})})}):null}})]})})})}))}}]);