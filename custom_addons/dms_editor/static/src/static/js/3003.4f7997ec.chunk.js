"use strict";(self.webpackChunkfilesdna=self.webpackChunkfilesdna||[]).push([[3003],{57871:(e,n,t)=>{t.d(n,{D:()=>a});const a={host:t(98581).A.apiDomain,uploadImg:"/upload/image",removeImg:"/remove/image",getForms:"/smartform/index",createForm:"/smartform/create",deleteForm:"/smartform/delete",updateForm:"/smartform/update",getFormData:"/smartform/get-form-data",updateFormData:"/smartform/update-form-data",getSubmissions:"/submission/index",createSubmission:"/submission/create",deleteSubmission:"/submission/delete",getSubmission:"/submission/find",updateSubmission:"/submission/update",getInvites:"/invite/index",createInvite:"/invite/create",exportPdf:"/submission/export/pdf",exportExcel:"/submission/export/excel",exportCsv:"/submission/export/csv"}},23962:(e,n,t)=>{t.r(n),t.d(n,{default:()=>oe});var a=t(9950),i=t(98341),c=t(16895),o=t(52160),s=t(718),l=t(68902),r=t(48738),d=t.n(r),h=t(77090),u=t(15207),m=t(82189),g=t(5741);const v=(0,t(43717).OF)("Affix",(e=>{const{componentCls:n}=e;return{[n]:{position:"fixed",zIndex:e.zIndexPopup}}}),(e=>({zIndexPopup:e.zIndexBase+10})));function f(e){return e!==window?e.getBoundingClientRect():{top:0,bottom:window.innerHeight}}function p(e,n,t){if(void 0!==t&&Math.round(n.top)>Math.round(e.top)-t)return t+n.top}function b(e,n,t){if(void 0!==t&&Math.round(n.bottom)<Math.round(e.bottom)+t){return t+(window.innerHeight-n.bottom)}}const x=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"];function w(){return"undefined"!==typeof window?window:null}var S;!function(e){e[e.None=0]="None",e[e.Prepare=1]="Prepare"}(S||(S={}));const k=a.forwardRef(((e,n)=>{var t;const{style:i,offsetTop:c,offsetBottom:o,prefixCls:s,className:l,rootClassName:r,children:k,target:j,onChange:y}=e,{getPrefixCls:C,getTargetContainer:I}=a.useContext(g.QO),A=C("affix",s),[N,E]=a.useState(!1),[M,P]=a.useState(),[z,O]=a.useState(),D=a.useRef(S.None),L=a.useRef(null),q=a.useRef(),F=a.useRef(null),T=a.useRef(null),H=a.useRef(null),R=null!==(t=null!==j&&void 0!==j?j:I)&&void 0!==t?t:w,B=void 0===o&&void 0===c?0:c,W=()=>{D.current=S.Prepare,(()=>{if(D.current!==S.Prepare||!T.current||!F.current||!R)return;const e=R();if(e){const n={status:S.None},t=f(F.current);if(0===t.top&&0===t.left&&0===t.width&&0===t.height)return;const a=f(e),i=p(t,a,B),c=b(t,a,o);void 0!==i?(n.affixStyle={position:"fixed",top:i,width:t.width,height:t.height},n.placeholderStyle={width:t.width,height:t.height}):void 0!==c&&(n.affixStyle={position:"fixed",bottom:c,width:t.width,height:t.height},n.placeholderStyle={width:t.width,height:t.height}),n.lastAffix=!!n.affixStyle,N!==n.lastAffix&&(null===y||void 0===y||y(n.lastAffix)),D.current=n.status,P(n.affixStyle),O(n.placeholderStyle),E(n.lastAffix)}})()},X=(0,m.A)((()=>{W()})),V=(0,m.A)((()=>{if(R&&M){const e=R();if(e&&F.current){const n=f(e),t=f(F.current),a=p(t,n,B),i=b(t,n,o);if(void 0!==a&&M.top===a||void 0!==i&&M.bottom===i)return}}W()})),G=()=>{const e=null===R||void 0===R?void 0:R();e&&(x.forEach((n=>{var t;q.current&&(null===(t=L.current)||void 0===t||t.removeEventListener(n,q.current)),null===e||void 0===e||e.addEventListener(n,V)})),L.current=e,q.current=V)};a.useImperativeHandle(n,(()=>({updatePosition:X}))),a.useEffect((()=>(H.current=setTimeout(G),()=>(()=>{H.current&&(clearTimeout(H.current),H.current=null);const e=null===R||void 0===R?void 0:R();x.forEach((n=>{var t;null===e||void 0===e||e.removeEventListener(n,V),q.current&&(null===(t=L.current)||void 0===t||t.removeEventListener(n,q.current))})),X.cancel(),V.cancel()})())),[]),a.useEffect((()=>{G()}),[j,M]),a.useEffect((()=>{X()}),[j,c,o]);const[_,K,Q]=v(A),U=d()(r,K,A,Q),$=d()({[U]:M});let J=(0,u.A)(e,["prefixCls","offsetTop","offsetBottom","target","onChange","rootClassName"]);return _(a.createElement(h.default,{onResize:X},a.createElement("div",Object.assign({style:i,className:l,ref:F},J),M&&a.createElement("div",{style:z,"aria-hidden":"true"}),a.createElement("div",{className:$,ref:T,style:M},a.createElement(h.default,{onResize:X},k)))))}));var j=t(41397),y=t(18469),C=t(28278),I=t(41893),A=t(44414),N=Object.defineProperty,E=Object.defineProperties,M=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertySymbols,z=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,D=(e,n,t)=>n in e?N(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,L=(e,n)=>{for(var t in n||(n={}))z.call(n,t)&&D(e,t,n[t]);if(P)for(var t of P(n))O.call(n,t)&&D(e,t,n[t]);return e},q=(e,n)=>E(e,M(n)),F=(e,n)=>{var t={};for(var a in e)z.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&P)for(var a of P(e))n.indexOf(a)<0&&O.call(e,a)&&(t[a]=e[a]);return t},T={"iPhone X":{device:"iphone-x",colors:[],hasLandscape:!0,width:375,height:812},"iPhone 8":{device:"iphone8",colors:["black","silver","gold"],hasLandscape:!0,width:375,height:667},"iPhone 8 Plus":{device:"iphone8plus",colors:["black","silver","gold"],hasLandscape:!0,width:414,height:736},"iPhone 5s":{device:"iphone5s",colors:["black","silver","gold"],hasLandscape:!0,width:320,height:568},"iPhone 5c":{device:"iphone5c",colors:["white","red","yellow","green","blue"],hasLandscape:!0,width:320,height:568},"iPhone 4s":{device:"iphone4s",colors:["black","silver"],hasLandscape:!0,width:320,height:480},"Galaxy Note 8":{device:"note8",colors:[],hasLandscape:!0,width:400,height:822},"Nexus 5":{device:"nexus5",colors:[],hasLandscape:!0,width:320,height:568},"Lumia 920":{device:"lumia920",colors:["black","white","yellow","red","blue"],hasLandscape:!0,width:320,height:533},"Samsung Galaxy S5":{device:"s5",colors:["white","black"],hasLandscape:!0,width:320,height:568},"HTC One":{device:"nexus5",colors:[],hasLandscape:!0,width:320,height:568},"iPad Mini":{device:"ipad",colors:["black","silver"],hasLandscape:!0,width:576,height:768},"MacBook Pro":{device:"macbook",colors:[],hasLandscape:!1,width:960,height:600}},H=Object.keys(T);var R=a.memo((function(e){const n=e,{children:t,device:i,width:c,height:o,zoom:s}=n,l=function(e,n){const t=L({},e);for(const a of n)delete t[a];return t}(F(n,["children","device","width","height","zoom"]),["landscape","color"]),r="color"in e?e.color:void 0,d="landscape"in e?e.landscape:void 0,h=(0,a.useMemo)((()=>d&&T[i].hasLandscape?{width:o,height:c,transform:void 0!==s?"scale(".concat(s,")"):void 0}:{width:c,height:o,transform:void 0!==s?"scale(".concat(s,")"):void 0}),[c,o,d,i,s]);return(0,A.jsxs)("div",q(L({className:"marvel-device ".concat(T[i].device," ").concat(r||""," ").concat(d?"landscape":"")},l),{style:h,children:[(0,A.jsx)("div",{className:"inner"}),"Galaxy Note 8"===i?(0,A.jsx)("div",{className:"overflow",children:(0,A.jsx)("div",{className:"shadow"})}):null,"iPhone X"===i?(0,A.jsxs)("div",{className:"notch",children:[(0,A.jsx)("div",{className:"camera"}),(0,A.jsx)("div",{className:"speaker"})]}):null,(0,A.jsx)("div",{className:"top-bar"}),(0,A.jsx)("div",{className:"sleep"}),(0,A.jsx)("div",{className:"bottom-bar"}),(0,A.jsx)("div",{className:"volume"}),(0,A.jsx)("div",{className:"camera"}),(0,A.jsx)("div",{className:"sensor"}),(0,A.jsx)("div",{className:"speaker"}),(0,A.jsx)("div",{className:"sensors"}),(0,A.jsx)("div",{className:"more-sensors"}),"iPhone X"===i?(0,A.jsxs)("div",{className:"overflow",children:[(0,A.jsx)("div",{className:"shadow shadow--tr"}),(0,A.jsx)("div",{className:"shadow shadow--tl"}),(0,A.jsx)("div",{className:"shadow shadow--br"}),(0,A.jsx)("div",{className:"shadow shadow--bl"})]}):null,(0,A.jsx)("div",{className:"inner-shadow"}),(0,A.jsx)("div",{className:"screen",children:t}),(0,A.jsx)("div",{className:"home"}),(0,A.jsx)("div",{className:"bottom-bar"})]}))})),B=a.memo((function(e){var n,t=e,{children:i,value:c,onChange:o,banDevices:s=[]}=t,l=F(t,["children","value","onChange","banDevices"]);const r=(0,a.useMemo)((()=>H.filter((e=>!s.includes(e)))),[s]),[d,h]=(0,a.useState)(null!=(n=r[0])?n:""),u=(0,a.useMemo)((()=>null!=c?c:d),[c,d]),m=(0,a.useCallback)((e=>{const n=e.currentTarget.dataset.deviceName;if(!r.includes(n))throw new Error("Invalid device name for ".concat(n));null==o||o(n),h(n)}),[r,o]),[g,v]=(0,a.useState)(!0),{colors:f,hasLandscape:p,width:b,height:x}=(0,a.useMemo)((()=>T[u]),[u]),w=(0,a.useMemo)((()=>f[0]),[f]),[S,k]=(0,a.useState)(w),j=(0,a.useCallback)((e=>{const n=e.currentTarget.dataset.deviceColor;k(n)}),[]);(0,a.useEffect)((()=>{k(w)}),[w]);const[y,C]=(0,a.useState)(void 0),I=(0,a.useMemo)((()=>p?y:void 0),[p,y]),N=(0,a.useCallback)((()=>{p&&C((e=>!e))}),[p]),E=(0,a.useMemo)((()=>({device:u,color:S,landscape:I,width:b,height:x})),[u,S,I,b,x]);return(0,A.jsxs)("div",q(L({className:"device-selector"},l),{children:[(0,A.jsxs)("dl",{children:[(0,A.jsxs)("dt",{children:[(0,A.jsxs)("p",{children:["The Chosen: ",u]}),(0,A.jsx)("span",{className:g?"active":"",onClick:()=>v((e=>!e)),children:"show all devices"})]}),g&&r.map((e=>(0,A.jsxs)("dd",{"data-device-name":e,onClick:m,className:e===u?"active":"",children:[(0,A.jsx)("input",{type:"radio",id:e}),(0,A.jsxs)("label",{htmlFor:e,children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("p",{children:e}),T[e].hasLandscape&&(0,A.jsx)("span",{className:e===d&&y?"active":"",onClick:N,children:"landscape"})]}),(0,A.jsx)("ul",{children:T[e].colors.map((n=>(0,A.jsx)("li",{title:n,"data-device-color":n,onClick:j,className:[e===d&&n===S?"active":"",n].join(" ")},n)))})]})]},e)))]}),(0,A.jsx)("div",{className:"device-selector-container",children:i(E)})]}))})),W=[.5,.75,1,1.25,1.5],X=(a.memo((function(e){var n,t=e,{children:i,value:c,onChange:o,banDevices:s=[]}=t,l=F(t,["children","value","onChange","banDevices"]);const r=(0,a.useMemo)((()=>H.filter((e=>!s.includes(e)))),[s]),[d,h]=(0,a.useState)(null!=(n=r[0])?n:""),u=(0,a.useMemo)((()=>{var e;return null!=(e=null==c?void 0:c.device)?e:d}),[c,d]),m=(0,a.useCallback)((e=>{const n=e.target.value;if(!r.includes(n))throw new Error("Invalid device name for ".concat(n));h(n)}),[r]),[g,v]=(0,a.useState)(W[2]),f=(0,a.useCallback)((e=>{const n=+e.target.value;if(!W.includes(n))throw new Error("Invalid device zoom for ".concat(n));v(n)}),[]),{colors:p,hasLandscape:b,width:x,height:w}=(0,a.useMemo)((()=>T[u]),[u]),S=(0,a.useMemo)((()=>p[0]),[p]),[k,j]=(0,a.useState)(void 0),y=(0,a.useMemo)((()=>b?k:void 0),[b,k]),C=(0,a.useCallback)((()=>{b&&j((e=>!e))}),[b]),I=(0,a.useMemo)((()=>null!=c?c:{device:u,color:S,landscape:y,width:x,height:w,zoom:g}),[c,u,S,y,x,w,g]);return(0,a.useEffect)((()=>{null==o||o(I)}),[o,I]),(0,A.jsxs)("div",q(L({className:"device-emulator"},l),{children:[(0,A.jsxs)("section",{children:[(0,A.jsx)("select",{value:u,onChange:m,children:r.map((e=>(0,A.jsx)("option",{value:e,children:e},e)))}),(0,A.jsx)("input",{disabled:!0,value:x}),(0,A.jsx)("span",{children:"x"}),(0,A.jsx)("input",{disabled:!0,value:w}),(0,A.jsx)("select",{value:g,onChange:f,children:W.map((e=>(0,A.jsxs)("option",{value:e,children:[100*e,"%"]},e)))}),(0,A.jsx)("label",{children:"Landscape:"}),(0,A.jsx)("input",{type:"checkbox",checked:!!y,disabled:!b,onChange:C})]}),(0,A.jsx)("div",{className:"device-emulator-container",children:i(I)})]}))})),[0,1/4,1/3,.5,2/3,3/4,.8,.9,1,1.1,5/4,1.5,7/4,2,2.5,3,4,5,1/0]),V=e=>e===X[0]?X[1]:e===X[X.length-1]?X[X.length-2]:e,G=e=>V(X[(e=>X.findIndex((n=>n>e))-1)(e)]),_=e=>V(X[(e=>X.findIndex((n=>n>e))-2)(e)]),K=e=>V(X[(e=>X.findIndex((n=>n>e)))(e)]),Q=(a.memo((function(e){var n=e,{children:t}=n,i=F(n,["children"]);const[[c,o],s]=(0,a.useState)([1,1]),[[l,r],d]=(0,a.useState)([c,o]),[h,u]=(0,a.useState)(null),[m,g]=(0,a.useState)(null),v=(0,a.useMemo)((()=>{const[e,n]=[c/l,o/r];return Math.min(e,n,1)}),[c,o,l,r]),[f,p]=(0,a.useState)(null),b=(0,a.useMemo)((()=>G(null!=f?f:v)),[f,v]),x=(0,a.useMemo)((()=>l/b<c||r/b<o),[r,l,b,c,o]),w=(0,a.useMemo)((()=>({transform:"scale(".concat(b,")")})),[b]);return(0,a.useEffect)((()=>{if(m){const e=e=>{const{clientWidth:n,clientHeight:t}=e;n&&t&&d([n,t])};e(m);const n={},t=new ResizeObserver((n=>{for(const t of n)e(t.target)}));return t.observe(m,n),()=>t.disconnect()}}),[m]),(0,a.useEffect)((()=>{if(h){const{clientWidth:e,clientHeight:n}=h;s([e,n])}}),[h]),(0,A.jsxs)("div",q(L({},i),{style:q(L({},i.style),{position:"relative"}),children:[(0,A.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",overflow:x?"auto":"hidden"},ref:u,children:(0,A.jsx)("div",{ref:g,style:L({transformOrigin:"center"},w),children:t})}),(0,A.jsxs)("div",{style:{position:"absolute",right:"16px",top:"16px"},children:[(0,A.jsx)("span",{onClick:()=>p(_(b)),children:"-"}),Math.round(100*b),"%",(0,A.jsx)("span",{onClick:()=>p(K(b)),children:"+"})]})]}))})),t(12547)),U=t(87194),$=t(57871);t(21436);const J=(0,a.lazy)((()=>Promise.all([t.e(9466),t.e(4180),t.e(8390)]).then(t.bind(t,78390)))),Z=(0,a.lazy)((()=>Promise.all([t.e(2748),t.e(1901),t.e(9386),t.e(9466),t.e(3420),t.e(1569),t.e(2563),t.e(2770),t.e(2829)]).then(t.bind(t,72829)))),Y=(0,a.lazy)((()=>Promise.all([t.e(2748),t.e(1901),t.e(7122),t.e(9386),t.e(1135),t.e(9466),t.e(8878),t.e(9642),t.e(1569),t.e(5327),t.e(1335),t.e(1293),t.e(8222),t.e(3770),t.e(3235),t.e(5716),t.e(4780),t.e(1404),t.e(4180),t.e(1521),t.e(4885),t.e(9127)]).then(t.bind(t,69603)))),ee=(0,a.lazy)((()=>Promise.all([t.e(1901),t.e(7122),t.e(3420),t.e(2563),t.e(5131),t.e(1679)]).then(t.bind(t,61679)))),ne=(0,a.lazy)((()=>Promise.all([t.e(2748),t.e(1901),t.e(7122),t.e(9386),t.e(8265),t.e(2858),t.e(3420),t.e(2563),t.e(1288),t.e(3980)]).then(t.bind(t,73980)))),te=(0,a.lazy)((()=>Promise.all([t.e(2748),t.e(1901),t.e(7122),t.e(9386),t.e(2992),t.e(9466),t.e(5398),t.e(1569),t.e(5327),t.e(8222),t.e(4780),t.e(5701),t.e(4885),t.e(148)]).then(t.bind(t,62690)))),ae=(0,a.lazy)((()=>Promise.all([t.e(2748),t.e(1901),t.e(7122),t.e(9386),t.e(2992),t.e(9466),t.e(2858),t.e(7203),t.e(2077),t.e(5398),t.e(4585),t.e(9401),t.e(7498),t.e(631),t.e(8513)]).then(t.bind(t,85739)))),ie=(0,a.lazy)((()=>Promise.all([t.e(2748),t.e(1901),t.e(7122),t.e(9386),t.e(101),t.e(2992),t.e(2858),t.e(7203),t.e(2077),t.e(14),t.e(4585),t.e(7498),t.e(9502)]).then(t.bind(t,95143)))),ce=(0,a.lazy)((()=>Promise.all([t.e(2748),t.e(1901),t.e(7122),t.e(1135),t.e(9466),t.e(3420),t.e(9401),t.e(2563),t.e(5615)]).then(t.bind(t,97292))));function oe(){const[e,n]=(0,a.useState)(null),[t,r]=(0,a.useState)(null),[d,h]=(0,a.useState)(!1),[u,m]=(0,a.useState)("1"),[g,v]=(0,a.useState)(!1),[f,p]=(0,a.useState)(null),[b,x]=(0,a.useState)(null),[w,S]=(0,a.useState)(0),[N,E]=(0,a.useState)("MacBook Pro"),[M,P]=(0,a.useState)(null),[z,O]=(0,a.useState)(null),D=(0,i.useDispatch)(),[L,q]=(0,a.useState)(null),[F,T]=(0,a.useState)(!1),H=(0,i.useSelector)((e=>e.App)),{documentId:W}=H,X=W.split("/").filter(Boolean),V=X[X.length-1];console.log("documentId:",W);const G="inbox"===V||"table"===V||"template"===V?X[X.length-2]:V;let _;_="inbox"===V||"table"===V?V:"template"===X[X.length-2]?"template":"",console.log("type:",_);const K=(0,i.useSelector)((e=>e.Auth.userData)),{changeDocumentId:oe}=Q.A;console.log("params:",G);const se="template"!==_&&!["inbox","table"].includes(_),le="inbox"===_,re="table"===_,de="template"===_;async function he(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!(0,j.isEqual)({setting:e,form:n||t,thanks:f},L)){const a=new FormData;a.append("hash",G),a.append("user",K.user_id),a.append("form_data",JSON.stringify({setting:e,form:n||t,thanks:f})),await y.A.post("".concat($.D.host).concat($.D.updateFormData),a)}}(0,a.useEffect)((()=>{null==L&&K.user_id&&se&&async function(){const e=await y.A.get("".concat($.D.host).concat($.D.getFormData,"?hash=").concat(G),{headers:{"Cache-Control":"no-cache"}});!0===e.data.success?(n(e.data.data.setting),r(e.data.data.form),p(e.data.data.thanks),q(e.data.data),x(e.data.qr)):(0,I.A)("error",e.data.message)}(),null==L&&K.user_id&&(le||re)&&async function(){const e=await y.A.get("".concat($.D.host).concat($.D.getSubmissions,"?form_id=").concat(G),{headers:{Accept:"application/json","Content-Type":"application/json","Cache-Control":"no-cache"}});!0===e.data.success?(P(e.data.data),q(e.data.data)):(0,I.A)("error",e.data.message)}()}),[t,z,g]);const ue=(e,n,a)=>{console.log("element, key, value",e,n,a);let i=(0,j.cloneDeep)(t);i=i.map((t=>{if(t.type===e.type&&t.order===e.order&&t.page===e.page){if("AddTofullname"===n){const e=Object.keys(t).reduce(((e,n)=>{if(n.startsWith("placeholder")){const t=parseInt(n.slice(11),10);return Math.max(e,t)}return e}),0),n="placeholder".concat(e+1);t[n]=n}else"RemoveFromfullname"===n?Object.keys(t).forEach((e=>{e===a&&delete t[e]})):"ClearConditions"===n?Object.keys(t).forEach((e=>{"conditionIf"!==e&&"conditionState"!==e&&"conditionValue"!==e&&"conditionVisible"!==e||delete t[e]})):(t[n]=a,"conditionIf"===n&&(t.conditionVisible=!1));v(t),O(t)}return t})),r(i),["image","img"].includes(n)&&setTimeout((()=>{he(i)}),50)},me=t?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(Y,{setting:e,setSetting:n,form:t,setForm:r,active:g,setActive:v,currentPage:w,activeField:z,setActiveField:O,setCurrentPage:S,changeProperties:ue}),(0,A.jsx)(J,{form:t,setForm:r,currentPage:w,setActive:v}),(0,A.jsx)(Z,{setting:e,setSetting:n}),(0,A.jsx)(te,{active:g,setActive:v,form:t,setForm:r,setting:e,activeField:z,setActiveField:O,changeProperties:ue})]}):(0,A.jsx)(A.Fragment,{}),ge=L?(0,A.jsx)(ee,{thanks:f,setThanks:p}):(0,A.jsx)(A.Fragment,{}),ve=L?(0,A.jsx)(ne,{qrCode:b}):(0,A.jsx)(A.Fragment,{}),fe=async e=>{e&&he(),h(e)};const pe=(0,A.jsxs)(A.Fragment,{children:["Preview"," ",(0,A.jsx)(c.A,{checked:d,onChange:fe,style:{marginRight:"15px"}}),(0,A.jsx)(o.Ay,{type:"primary",style:{marginRight:"10px"},loading:F,onClick:function(){T(!0),he(),T(!1),document.getElementById("root").setAttribute("data-path","/dashboard/forms"),D(oe("/dashboard/forms"))},disabled:F||(0,j.isEqual)({setting:e,form:t,thanks:f},L),children:"Save"})]}),be=(0,A.jsx)(o.Ay,{style:{marginLeft:"10px"},onClick:()=>{document.getElementById("root").setAttribute("data-path","/dashboard/forms"),D(oe("/dashboard/forms"))},children:"Back"});return(0,A.jsxs)(a.Suspense,{fallback:(0,A.jsx)(C.A,{}),children:[L&&se&&!d&&(0,A.jsx)(s.A,{id:"smartform",style:{backgroundColor:"1"===u?(0,U.z4)(e.pageColor):"#f5f5f5",backgroundImage:"1"===u?"url(".concat(e.pageImage,")"):"none",backgroundSize:"cover"},children:(0,A.jsxs)("div",{className:"smartform-container",children:[(0,A.jsx)(l.A,{tabBarExtraContent:{left:be,right:pe},defaultActiveKey:"1",items:[{key:"1",label:"BUILD"},{key:"2",label:"SETTINGS"},{key:"3",label:"PUBLISH"}],centered:!0,size:"large",onChange:e=>{m(e),he()}}),"1"===u&&me,"2"===u&&ge,"3"===u&&ve]})}),L&&se&&d&&(0,A.jsx)(s.A,{children:(0,A.jsxs)("div",{className:"smartform-container",children:[(0,A.jsx)(k,{offsetTop:0,children:(0,A.jsxs)("div",{style:{padding:"15px",textAlign:"right",borderBottom:"1px solid lightgray",background:"rgb(240, 240, 240)"},children:["Preview ",(0,A.jsx)(c.A,{checked:d,onChange:fe})]})}),(0,A.jsx)(B,{value:N,banDevices:["HTC One","iPhone 5s","iPhone 5c","iPhone 5s","iPhone 4s","iPhone 8","Galaxy Note 8","Samsung Galaxy S5","iPhone 8 Plus","Nexus 5","Lumia 920"],onChange:e=>E(e),children:e=>(0,A.jsx)(R,{...e,children:(0,A.jsx)("iframe",{src:"".concat(window.location.origin,"/publicform/").concat(G),width:"100%",height:"100%",scrolling:"no"})})})]})}),L&&le&&(0,A.jsx)(ae,{submissions:M}),L&&re&&(0,A.jsx)(ie,{submissions:M}),de&&(0,A.jsx)(ce,{folder:G}),!L&&!de&&(0,A.jsx)(C.A,{})]})}},87194:(e,n,t)=>{t.d(n,{MO:()=>r,Md:()=>h,aH:()=>u,xK:()=>d,z4:()=>l});var a=t(24893),i=t(18469),c=t(41397),o=t(57871),s=t(44414);const l=e=>"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(e.a,")"),r=function(e,n,t,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return(0,s.jsx)(a.Ay.Group,{value:e[n],onChange:t=>{if(o){const a=(0,c.cloneDeep)(o.fields);a.forEach((a=>{a.id===e.id&&(a[n]=t.target.value)})),e[n]=t.target.value,i(o,"fields",a)}else i(e,n,t.target.value)},children:t.map((e=>(0,s.jsx)(a.Ay.Button,{value:e.value,children:e.label})))})},d=e=>{let n;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e))return n=e.substring(1).split(""),3===n.length&&(n=[n[0],n[0],n[1],n[1],n[2],n[2]]),n="0x".concat(n.join("")),{r:n>>16&255,g:n>>8&255,b:255&n,a:1}},h=e=>(e.charAt(0).toUpperCase()+e.slice(1)).replace(/([A-Z])/g," $1").trim(),u=async e=>{try{const n=new FormData;n.append("image",e),await i.A.post(o.D.host+o.D.removeImg,n)}catch(n){console.log(n)}}},75989:(e,n,t)=>{t.d(n,{A:()=>l});var a=t(58168),i=t(9950);const c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"};var o=t(25085),s=function(e,n){return i.createElement(o.A,(0,a.A)({},e,{ref:n,icon:c}))};const l=i.forwardRef(s)},8750:(e,n,t)=>{t.d(n,{A:()=>l});var a=t(58168),i=t(9950);const c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};var o=t(25085),s=function(e,n){return i.createElement(o.A,(0,a.A)({},e,{ref:n,icon:c}))};const l=i.forwardRef(s)},79843:(e,n,t)=>{t.d(n,{A:()=>l});var a=t(58168),i=t(9950);const c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};var o=t(25085),s=function(e,n){return i.createElement(o.A,(0,a.A)({},e,{ref:n,icon:c}))};const l=i.forwardRef(s)},82189:(e,n,t)=>{t.d(n,{A:()=>c});var a=t(60436),i=t(7261);const c=function(e){let n;const t=function(){if(null==n){for(var t=arguments.length,c=new Array(t),o=0;o<t;o++)c[o]=arguments[o];n=(0,i.A)((t=>()=>{n=null,e.apply(void 0,(0,a.A)(t))})(c))}};return t.cancel=()=>{i.A.cancel(n),n=null},t}},16895:(e,n,t)=>{t.d(n,{A:()=>O});var a=t(9950),i=t(2260),c=t(48738),o=t.n(c),s=t(58168),l=t(64467),r=t(5544),d=t(80045),h=t(71207),u=t(91478),m=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],g=a.forwardRef((function(e,n){var t,i=e.prefixCls,c=void 0===i?"rc-switch":i,g=e.className,v=e.checked,f=e.defaultChecked,p=e.disabled,b=e.loadingIcon,x=e.checkedChildren,w=e.unCheckedChildren,S=e.onClick,k=e.onChange,j=e.onKeyDown,y=(0,d.A)(e,m),C=(0,h.A)(!1,{value:v,defaultValue:f}),I=(0,r.A)(C,2),A=I[0],N=I[1];function E(e,n){var t=A;return p||(N(t=e),null===k||void 0===k||k(t,n)),t}var M=o()(c,g,(t={},(0,l.A)(t,"".concat(c,"-checked"),A),(0,l.A)(t,"".concat(c,"-disabled"),p),t));return a.createElement("button",(0,s.A)({},y,{type:"button",role:"switch","aria-checked":A,disabled:p,className:M,ref:n,onKeyDown:function(e){e.which===u.A.LEFT?E(!1,e):e.which===u.A.RIGHT&&E(!0,e),null===j||void 0===j||j(e)},onClick:function(e){var n=E(!A,e);null===S||void 0===S||S(n,e)}}),b,a.createElement("span",{className:"".concat(c,"-inner")},a.createElement("span",{className:"".concat(c,"-inner-checked")},x),a.createElement("span",{className:"".concat(c,"-inner-unchecked")},w)))}));g.displayName="Switch";const v=g;var f=t(74813),p=t(5741),b=t(19389),x=t(9415),w=t(20033),S=t(23452),k=t(45343),j=t(43717),y=t(91874);const C=e=>{const{componentCls:n,trackHeightSM:t,trackPadding:a,trackMinWidthSM:i,innerMinMarginSM:c,innerMaxMarginSM:o,handleSizeSM:s,calc:l}=e,r="".concat(n,"-inner"),d=(0,w.unit)(l(s).add(l(a).mul(2)).equal()),h=(0,w.unit)(l(o).mul(2).equal());return{[n]:{["&".concat(n,"-small")]:{minWidth:i,height:t,lineHeight:(0,w.unit)(t),["".concat(n,"-inner")]:{paddingInlineStart:o,paddingInlineEnd:c,["".concat(r,"-checked")]:{marginInlineStart:"calc(-100% + ".concat(d," - ").concat(h,")"),marginInlineEnd:"calc(100% - ".concat(d," + ").concat(h,")")},["".concat(r,"-unchecked")]:{marginTop:l(t).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},["".concat(n,"-handle")]:{width:s,height:s},["".concat(n,"-loading-icon")]:{top:l(l(s).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},["&".concat(n,"-checked")]:{["".concat(n,"-inner")]:{paddingInlineStart:c,paddingInlineEnd:o,["".concat(r,"-checked")]:{marginInlineStart:0,marginInlineEnd:0},["".concat(r,"-unchecked")]:{marginInlineStart:"calc(100% - ".concat(d," + ").concat(h,")"),marginInlineEnd:"calc(-100% + ".concat(d," - ").concat(h,")")}},["".concat(n,"-handle")]:{insetInlineStart:"calc(100% - ".concat((0,w.unit)(l(s).add(a).equal()),")")}},["&:not(".concat(n,"-disabled):active")]:{["&:not(".concat(n,"-checked) ").concat(r)]:{["".concat(r,"-unchecked")]:{marginInlineStart:l(e.marginXXS).div(2).equal(),marginInlineEnd:l(e.marginXXS).mul(-1).div(2).equal()}},["&".concat(n,"-checked ").concat(r)]:{["".concat(r,"-checked")]:{marginInlineStart:l(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:l(e.marginXXS).div(2).equal()}}}}}}},I=e=>{const{componentCls:n,handleSize:t,calc:a}=e;return{[n]:{["".concat(n,"-loading-icon").concat(e.iconCls)]:{position:"relative",top:a(a(t).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},["&".concat(n,"-checked ").concat(n,"-loading-icon")]:{color:e.switchColor}}}},A=e=>{const{componentCls:n,trackPadding:t,handleBg:a,handleShadow:i,handleSize:c,calc:o}=e,s="".concat(n,"-handle");return{[n]:{[s]:{position:"absolute",top:t,insetInlineStart:t,width:c,height:c,transition:"all ".concat(e.switchDuration," ease-in-out"),"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:a,borderRadius:o(c).div(2).equal(),boxShadow:i,transition:"all ".concat(e.switchDuration," ease-in-out"),content:'""'}},["&".concat(n,"-checked ").concat(s)]:{insetInlineStart:"calc(100% - ".concat((0,w.unit)(o(c).add(t).equal()),")")},["&:not(".concat(n,"-disabled):active")]:{["".concat(s,"::before")]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},["&".concat(n,"-checked ").concat(s,"::before")]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},N=e=>{const{componentCls:n,trackHeight:t,trackPadding:a,innerMinMargin:i,innerMaxMargin:c,handleSize:o,calc:s}=e,l="".concat(n,"-inner"),r=(0,w.unit)(s(o).add(s(a).mul(2)).equal()),d=(0,w.unit)(s(c).mul(2).equal());return{[n]:{[l]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:c,paddingInlineEnd:i,transition:"padding-inline-start ".concat(e.switchDuration," ease-in-out, padding-inline-end ").concat(e.switchDuration," ease-in-out"),["".concat(l,"-checked, ").concat(l,"-unchecked")]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:"margin-inline-start ".concat(e.switchDuration," ease-in-out, margin-inline-end ").concat(e.switchDuration," ease-in-out"),pointerEvents:"none"},["".concat(l,"-checked")]:{marginInlineStart:"calc(-100% + ".concat(r," - ").concat(d,")"),marginInlineEnd:"calc(100% - ".concat(r," + ").concat(d,")")},["".concat(l,"-unchecked")]:{marginTop:s(t).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},["&".concat(n,"-checked ").concat(l)]:{paddingInlineStart:i,paddingInlineEnd:c,["".concat(l,"-checked")]:{marginInlineStart:0,marginInlineEnd:0},["".concat(l,"-unchecked")]:{marginInlineStart:"calc(100% - ".concat(r," + ").concat(d,")"),marginInlineEnd:"calc(-100% + ".concat(r," - ").concat(d,")")}},["&:not(".concat(n,"-disabled):active")]:{["&:not(".concat(n,"-checked) ").concat(l)]:{["".concat(l,"-unchecked")]:{marginInlineStart:s(a).mul(2).equal(),marginInlineEnd:s(a).mul(-1).mul(2).equal()}},["&".concat(n,"-checked ").concat(l)]:{["".concat(l,"-checked")]:{marginInlineStart:s(a).mul(-1).mul(2).equal(),marginInlineEnd:s(a).mul(2).equal()}}}}}},E=e=>{const{componentCls:n,trackHeight:t,trackMinWidth:a}=e;return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,k.dF)(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:a,height:t,lineHeight:"".concat((0,w.unit)(t)),verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:"all ".concat(e.motionDurationMid),userSelect:"none",["&:hover:not(".concat(n,"-disabled)")]:{background:e.colorTextTertiary}}),(0,k.K8)(e)),{["&".concat(n,"-checked")]:{background:e.switchColor,["&:hover:not(".concat(n,"-disabled)")]:{background:e.colorPrimaryHover}},["&".concat(n,"-loading, &").concat(n,"-disabled")]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},["&".concat(n,"-rtl")]:{direction:"rtl"}})}},M=(0,j.OF)("Switch",(e=>{const n=(0,y.h1)(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:"rgba(0, 0, 0, ".concat(e.opacityLoading,")"),switchHandleActiveInset:"-30%"});return[E(n),N(n),A(n),I(n),C(n)]}),(e=>{const{fontSize:n,lineHeight:t,controlHeight:a,colorWhite:i}=e,c=n*t,o=a/2,s=c-4,l=o-4;return{trackHeight:c,trackHeightSM:o,trackMinWidth:2*s+8,trackMinWidthSM:2*l+4,trackPadding:2,handleBg:i,handleSize:s,handleSizeSM:l,handleShadow:"0 2px 4px 0 ".concat(new S.q("#00230b").setAlpha(.2).toRgbString()),innerMinMargin:s/2,innerMaxMargin:s+2+4,innerMinMarginSM:l/2,innerMaxMarginSM:l+2+4}}));var P=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)n.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(t[a[i]]=e[a[i]])}return t};const z=a.forwardRef(((e,n)=>{const{prefixCls:t,size:c,disabled:s,loading:l,className:r,rootClassName:d,style:u,checked:m,value:g,defaultChecked:w,defaultValue:S,onChange:k}=e,j=P(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[y,C]=(0,h.A)(!1,{value:null!==m&&void 0!==m?m:g,defaultValue:null!==w&&void 0!==w?w:S}),{getPrefixCls:I,direction:A,switch:N}=a.useContext(p.QO),E=a.useContext(b.A),z=(null!==s&&void 0!==s?s:E)||l,O=I("switch",t),D=a.createElement("div",{className:"".concat(O,"-handle")},l&&a.createElement(i.A,{className:"".concat(O,"-loading-icon")})),[L,q,F]=M(O),T=(0,x.A)(c),H=o()(null===N||void 0===N?void 0:N.className,{["".concat(O,"-small")]:"small"===T,["".concat(O,"-loading")]:l,["".concat(O,"-rtl")]:"rtl"===A},r,d,q,F),R=Object.assign(Object.assign({},null===N||void 0===N?void 0:N.style),u);return L(a.createElement(f.A,{component:"Switch"},a.createElement(v,Object.assign({},j,{checked:y,onChange:function(){C(arguments.length<=0?void 0:arguments[0]),null===k||void 0===k||k.apply(void 0,arguments)},prefixCls:O,className:H,style:R,disabled:z,ref:n,loadingIcon:D}))))}));z.__ANT_SWITCH=!0;const O=z},21436:()=>{}}]);