(self.webpackChunkfilesdna=self.webpackChunkfilesdna||[]).push([[8648,3998],{91141:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(9950),a=i(67414),l=i(17420),s=i(44414);const r=function(e){const{id:t,index:i,moveList:r,children:o,style:c={},draggingStyle:d={},onClick:u={}}=e,m=(0,n.useRef)(null),[{isOver:p,dropClassName:h},g]=(0,a.H)({accept:"card",hover(e,t){var n;if(!m.current)return;const a=e.index,l=i;if(a===l)return;const s=null===(n=m.current)||void 0===n?void 0:n.getBoundingClientRect(),o=(s.bottom-s.top)/2,c=t.getClientOffset().y-s.top;a<l&&c<o||a>l&&c>o||(r(a,l),e.index=l)},collect:e=>{const{index:t}=e.getItem()||{};return t===i?{}:{isOver:e.isOver(),dropClassName:t<i?" drop-over-downward":" drop-over-upward"}}}),[{isDragging:f},v]=(0,l.i)({item:{type:"card",id:t,index:i},collect:e=>({isDragging:e.isDragging()})}),x=f?0:1;return v(g(m)),(0,s.jsx)("div",{ref:m,className:"".concat(p?h:""),style:{opacity:x,cursor:"move",...c,...f&&{...d}},onClick:u,id:t,children:o})}},88605:(e,t,i)=>{"use strict";i.d(t,{A:()=>j});var n=i(27379),a=i(41893),l=i(37734),s=i(45182),r=i(6819),o=i(35676),c=i(41135),d=i(68265),u=i(55902),m=i(11569),p=i(87094),h=i(41988),g=i(41397),f=i(9950),v=i(30135),x=i(48399),y=i(44414);const{confirm:b}=c.A;const j=(0,v.j4)((function(e){const{intl:t,visible:i,onClose:v,initVal:j={},handleSubmit:w=(()=>{}),apiData:A={},formdata:E={},modalProps:k={}}=e,[C]=d.A.useForm(),[S,_]=(0,f.useState)(!1);async function N(e){_(!0);const t=new FormData;Object.entries(e).forEach((e=>{let[i,n]=e;t.append(i,n)}));try{const i=await(0,r.Ay)(A.url,t,"POST",void 0,!0);i.success?(w(e,null===i||void 0===i?void 0:i.data),setTimeout((()=>{(0,a.A)("success",i.message||A.succMsg)}),100)):(0,a.A)("error",i.message),_(!1)}catch(i){_(!1),(0,a.A)("error")}}function D(){C.validateFields().then((e=>{if((0,g.isObject)(A)&&!(0,g.isEmpty)(A)){const t=A.data||{};E.confirm?b({title:(0,s.A)(E.confirmTitle),icon:(0,y.jsx)(n.A,{}),maskClosable:!0,okText:(0,s.A)(E.confirmBtnTxt),okButtonProps:{type:"danger",id:"danger-btn"},onOk(){N({...e,...t,id:j.id})}}):N({...e,...t,id:j.id})}else w(e)}))}function z(e){"Enter"===e.key&&D()}return(0,o.A)({form:C,visible:i,initVal:j}),(0,y.jsx)(c.A,{title:(0,y.jsx)(l.A,{id:E.title}),open:i,okText:(0,y.jsx)(l.A,{id:"common.submit"}),onCancel:S?null:v,onOk:S?null:D,confirmLoading:S,...k,children:(0,y.jsx)(d.A,{form:C,layout:"vertical",children:(0,y.jsx)(p.A,{gutter:6,children:(0,y.jsx)(h.A,{span:24,children:(0,y.jsx)(d.A.Item,{label:E.label&&(0,y.jsx)(l.A,{id:E.label}),name:E.name,rules:[...function(){const e=[];return E.reqMsg&&e.push({required:!!E.reqMsg,message:(0,y.jsx)(l.A,{id:E.reqMsg})}),E.maxchar&&e.push({max:E.maxchar,message:(0,y.jsx)(l.A,{id:"err.max.".concat(E.maxchar,"char")})}),"number"!==E.type&&e.push({whitespace:!0,message:(0,y.jsx)(l.A,{id:"err.blankSpace"})}),e}()],children:"password"===E.type?(0,y.jsx)(u.A.Password,{autoComplete:"new-password",onKeyDown:z}):"textarea"===E.type?(0,y.jsx)(u.A.TextArea,{}):"editor"===E.type?(0,y.jsx)(x.A,{}):"number"===E.type?(0,y.jsx)(m.A,{max:E.maxNum,min:1,style:{minWidth:"100%"}}):(0,y.jsx)(u.A,{placeholder:E.placeholder?t.formatMessage({id:E.placeholder}):"",autoComplete:"off",maxLength:E.maxchar,onKeyDown:z})})})})})})}))},21707:(e,t,i)=>{"use strict";i.d(t,{A:()=>m});var n=i(44070);const a=i(73149).A;var l=i(41893),s=i(19392),r=i(37734),o=i(6819),c=i(41397),d=i(79796),u=i(44414);function m(e){const{apiUrl:t,apiData:i,title:m,fetchData:p=(()=>{}),setState:h=(()=>{}),onConfirm:g=(()=>{}),btnId:f,btnProps:v={},deleteCallback:x,disabled:y=!1}=e;return(0,u.jsx)(d.A,{children:(0,u.jsx)(a,{title:m,okText:(0,u.jsx)(r.A,{id:"common.deleteCap"}),okButtonProps:{id:"delete-item"},cancelText:(0,u.jsx)(r.A,{id:"common.no"}),onConfirm:async function(){if((0,c.isObject)(i)&&!(0,c.isEmpty)(i)){h((e=>({...e,loading:!0})));try{(new FormData).append("id",i.document_id),console.log(i);let e=await(0,o.Ay)(t,{params:i},"POST",{...o.$K,"Content-Type":"application/json"});e="form"===i.type?e.data:e.result;let n="error";e.success?(x&&x(),n="success",p()):h((e=>({...e,loading:!1}))),setTimeout((()=>{(0,l.A)(n,e.message)}),200)}catch(e){h((e=>({...e,loading:!1}))),(0,l.A)("error")}}else g()},className:"deleteBtn",onCancel:null,placement:"topRight",disabled:y,children:(0,u.jsx)("div",{children:(0,u.jsx)(s.A,{id:f,shape:"circle",danger:!0,icon:(0,u.jsx)(n.A,{}),className:"deleteCircle ".concat(y?" disabled":""),...v})})})})}},17619:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n,a=i(57528),l=i(33753);const s=(0,i(73053).A)(l.Ay.div(n||(n=(0,a.A)(["\n  @keyframes voice_pulse {\n    0% {\n      box-shadow: 0px 0px 5px 0px rgba(214, 214, 214, 0.7);\n    }\n    65% {\n      box-shadow: 0px 0px 5px 13px rgba(214, 214, 214, 0.9);\n    }\n    90% {\n      box-shadow: 0px 0px 5px 13px rgba(214, 214, 214, 0);\n    }\n  }\n\n  & .ant-btn-circle.rec {\n    animation-name: voice_pulse;\n    animation-duration: 1.5s;\n    animation-iteration-count: infinite;\n    animation-timing-function: linear;\n\n    background-color: #ff4646;\n    color: #fff;\n    border-color: transparent !important;\n  }\n"]))))},37413:(e,t,i)=>{"use strict";i.d(t,{A:()=>h});var n=i(9950),a=i(52160),l=i(1635),s=i(55266),r=i(61273),o=i.n(r),c=i(8187),d=i(41893),u=i(17619),m=i(44414);const p=new(o())({bitRate:128});const h=function(e){const{onComplete:t=(()=>{}),btnSize:i,loading:r,disabled:o,style:h}=e,[g,f]=(0,n.useState)({isRecording:!1,isBlocked:!1});async function v(){const e=await(0,c.IW)();f((t=>({...t,isBlocked:!e})))}return(0,n.useEffect)((()=>{v()}),[]),(0,m.jsx)(u.A,{children:(0,m.jsx)(a.Ay,{loading:r,icon:g.isRecording?(0,m.jsx)(l.A,{}):(0,m.jsx)(s.A,{}),shape:"circle",className:g.isRecording?"rec":"",onClick:function(){g.isBlocked?(v(),(0,d.A)("info","record.permission")):g.isRecording?p.stop().getMp3().then((e=>{let[i,n]=e;const a=new File(i,"voice.mp3",{type:n.type,lastModified:Date.now()});f((e=>({...e,isRecording:!1}))),t(a)})).catch((e=>console.log(e))):p.start().then((()=>{(0,d.A)("info","record.startRecording"),f((e=>({...e,isRecording:!0})))})).catch((e=>console.error(e)))},disabled:g.isBlocked||o,size:i,style:h})})}},22580:()=>{const e=document.createElement("div");e.style.opacity=0,["'Open Sans', sans-serif","'Oswald', sans-serif","'Playfair Display', serif","'Cormorant Garamond', serif","Impact, Charcoal, sans-serif","'Lucida Console', Monaco, monospace","'Comic Sans MS', 'Comic Sans', cursive, sans-serif","'Dancing Script', cursive","'Indie Flower', cursive","'Amatic SC', cursive","'Permanent Marker', cursive"].forEach((t=>{e.innerHTML+='<span style="font-family: '.concat(t,'"></span>')})),document.body.appendChild(e)},48399:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var n=i(9950),a=i(98581),l=i(45131),s=i(44414);const r=["Arial=arial,helvetica,sans-serif","Book Antiqua=book antiqua,palatino","Comic Sans MS=comic sans ms,sans-serif","Courier New=courier new,courier","Georgia=georgia,palatino","Helvetica=helvetica","Times New Roman=times new roman,times","Open Sans='Open Sans', sans-serif","Oswald='Oswald', sans-serif","Amiri_ar='Amiri', serif _ ar","Reem Kufi_ar='Reem Kufi', sans-serif _ ar","Aref Ruqaa_ar='Aref Ruqaa', serif _ ar","Scheherazade_ar='Scheherazade', serif _ ar","Tajawal_ar='Tajawal', sans-serif _ ar","Vibes_ar='Vibes', cursive","Lucida Console='Lucida Console', Monaco, monospace","Comic Sans MS='Comic Sans MS', 'Comic Sans', cursive, sans-serif"];class o extends n.Component{constructor(e){var t;super(e),this.setupEditor=e=>{this.editorRef.current=e,e.ui.registry.addAutocompleter("custom-mention",{ch:"@",minChars:0,columns:1,fetch:e=>new Promise((t=>{t(this.state.mentionSuggestions.filter((t=>t.name.includes(e))).map((e=>({value:e.name,text:e.name}))))})),onAction:(t,i,n)=>{e.selection.setRng(i),e.insertContent('<span style="background-color: rgba(0, 151, 167, 0.2); padding: 5px" class="mention">@'.concat(n,'</span style="background-color: none; padding: 0">')),t.hide()}}),e.on("keydown",(t=>{"@"===t.key&&e.execCommand("mceAutocompleter")}))},this.onEditorChange=e=>{this.triggerChange(e)},this.triggerChange=e=>{const{onChange:t}=this.props;t&&t(e)},this.editorRef=n.createRef(),this.state={mentionSuggestions:(null===e||void 0===e||null===(t=e.userData)||void 0===t?void 0:t.map((e=>({name:"".concat(e.user.first_name," ").concat(e.user.last_name),picture:e.user.picture}))))||[]}}render(){const{value:e,disabled:t,height:i,onBlur:n,onFocus:o,auto_focus:c,onKeyDown:d,extraProps:u}=this.props;return(0,s.jsx)(l.K,{apiKey:a.A.tinyEditorKey,onEditorChange:this.onEditorChange,value:e,init:{height:i||340,plugins:["advlist autolink lists link image charmap print preview anchor searchreplace visualblocks code fullscreen table autoresize"],content_style:'@import url("https://fonts.googleapis.com/css2?family=Open+Sans&family=Oswald&display=swap&family=Reem+Kufi&display=swap&family=Aref+Ruqaa&family=Scheherazade&family=Tajawal:wght@500&family=Vibes&display=swap&family=Amiri");',font_formats:r.join(";"),toolbar:"undo redo | fontselect | fontsizeselect | formatselect | bold italic | customMention | link | forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | table tabledelete | tableprops tablerowprops tablecellprops | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",resize:!1,auto_focus:c,setup:this.setupEditor,...u},onInit:(e,t)=>this.setupEditor(t),onBlur:n,onFocus:o,disabled:t,onKeyDown:d})}}o.defaultProps={onChange:null,value:"",disabled:!1,height:340,onBlur:null,onFocus:null,auto_focus:!1,extraProps:{}};const c=o},56884:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=i(68265).A},93998:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>Y});var n=i(2260),a=i(35821),l=i(10597),s=i(58769),r=i(41893),o=i(19392),c=i(56884),d=i(37734),u=i(44414);const m=[{id:1,title:"settings.googleTwoFactor",type:"two_factor"},{id:2,title:"settings.msTwoFactor",type:"two_factor_microsoft"},{id:3,title:"common.password",type:"classified"},{id:4,title:"settings.fingerprint",type:"finger_print"},{id:5,title:"settings.nfc",type:"nfc"},{id:6,title:"settings.6DigAuth",type:"six_digit"}];d.A,d.A,d.A,d.A,d.A,d.A;var p=i(59958),h=i(84790),g=i(68633),f=i(97736),v=i(35116),x=i(6819),y=i(8187),b=i(35676),j=i(41404),w=i(41988),A=i(15480),E=i(22748),k=i(53079),C=i(55902),S=i(72612),_=i(87094),N=i(31407),D=i(16360),z=i(41397),O=i(9950),L=i(94135),P=i(98341),T=i(42074),R=i(34845);const M=(0,y.cI)(4),I=["nfc","finger_print","six_digit"],F=["two_factor","two_factor_microsoft"],{setTempSecVerifyEnabled:B,setUserObj:V}=j.A,H={title:"settings.authenticate"},q={remove:{title:"documents.removeClassified"},confirm:{title:"documents.confirmPssdTitle",apiUrl:"files/check-classified",fileApiKey:"document_id",fileApiVal:"hash_url"},deleteDoc:{apiUrl:"trash/move-to-trash",fileApiKey:"document_id",title:"documents.dltDoc"},two_factor:{title:"settings.googleTwoFactor",apiUrl:"file/verify2Factor",pssdKey:"token"},two_factor_microsoft:{title:"settings.msTwoFactor",apiUrl:"file/verify2Factor",pssdKey:"token"},finger_print:H,nfc:H,six_digit:H,is_verify_voice:H,is_verify_liveness:H,classified:{title:"documents.confirmPssdTitle",apiUrl:"files/check-classified",fileApiKey:"document_id",fileApiVal:"hash_url"},is_sms_enabled:{title:"SMS Configurations",apiUrl:"sms/update-sms-alert-value"}},W={two_factor:{title:"settings.googleTwoFactor",apiUrl:"user/verify-login",pssdKey:"token"},two_factor_microsoft:{title:"settings.msTwoFactor",apiUrl:"user/verify-login",pssdKey:"token"},finger_print:H,nfc:H,six_digit:H,is_verify_voice:H,is_verify_liveness:H,is_verify_uaepass:H,classified:{title:"documents.confirmPssdTitle",apiUrl:"files/check-classified",fileApiKey:"document_id",fileApiVal:"hash_url"},is_sms_enabled:{title:"SMS Configurations",apiUrl:"sms/update-sms-alert-value"}};let U=null,G=0;const Y=function(e){var t;const{type:i="",handleSubmit:y=(()=>{}),visible:j=!1,temporaryVerify:H=!1,onClose:Y=(()=>{}),rowData:X={},modalProps:K={},docData:J,securityFor:Z=""}=e,$=(0,P.useDispatch)(),Q=(0,O.useRef)(null),ee=(0,P.useSelector)((e=>e.Auth.userData))||{},te=ee.security_setting?JSON.parse(ee.security_setting):{},ie=ee.user_id===X.user_id,ne=q[i]||{},ae=W[i]||{},[le,se]=(0,O.useState)(!1),[re,oe]=(0,O.useState)({pssdLoading:!1,activeOption:!1,voiceFile:"",verifyPhoneModal:!1}),{activeOption:ce}=re,de=e=>I.indexOf(e)>-1,[ue]=c.A.useForm();async function me(e){se(!0);const t="set"===i?"set-security-type":"remove-security-type",n="verify-login"===Z?ae.apiUrl:ne.apiUrl||"file/".concat(t);try{const t=await(0,x.Ay)(n,e,"POST");if(t.success)return se(!1),(0,r.A)("success",t.message),y(t.data||{}),t;se(!1),(0,r.A)("error",t.message)}catch(a){se(!1),(0,r.A)("error")}}async function pe(){oe((e=>({...e,pssdLoading:!0})));try{const e=await(0,x.Ay)("file/change-document-password",{hash_url:X.hash_url||""},"POST");e.success?(oe((e=>({...e,pssdLoading:!1}))),(0,r.A)("success",e.message)):(oe((e=>({...e,pssdLoading:!1}))),(0,r.A)("error",e.message))}catch(e){oe((e=>({...e,pssdLoading:!1}))),(0,r.A)("error")}}function he(){G=0,clearTimeout(U)}async function ge(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";oe((e=>({...e,cancelLoading:!0})));try{const t=await(0,x.Ay)("verify-login"===Z?"user/cancel-verify-device-for-login":"file/cancel-verify-device",{type:X.security_type||ce,hash_url:X.hash_url,sign_url:X.sign_url,email:X.email},"POST");(0,r.A)("error","document.authCancelled"),t.success?(oe((e=>({...e,verifying:!1,cancelLoading:!1}))),"timeout"!==e&&setTimeout((()=>{fe()}),300)):oe((e=>({...e,verifying:!1,cancelLoading:!1})))}catch(t){oe((e=>({...e,verifying:!1,cancelLoading:!1}))),(0,r.A)("error")}}function fe(){"cancel"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")?(he(),ge()):"set"===i?oe((e=>({...e,activeOption:!1}))):K&&(0,z.isFunction)(K.onCancel)&&K.onCancel()}async function ve(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};oe((e=>({...e,verifying:!0})));try{const t=await(0,x.Ay)("verify-login"===Z?"user/check-unlock-status-for-login":"file/check-unlock-status",{action:X.action,security_type:X.security_type||ce,hash_url:X.hash_url,sign_url:X.sign_url,email:X.email,...e},"POST"),n=t.error?"err.settings.".concat(t.error):"err.authFailed";t.success?(he(),"remove"===i?me({security_type:X.security_type||"",document_id:X.id||0}):"deleteDoc"===i?me({document_id:X.id||0}):"set"===i?me({security_type:ce||"",document_id:X.id||0}):y(t),oe((e=>({...e,verifying:!1})))):G>5?(he(),oe((e=>({...e,verifying:!1}))),ge("timeout")):t.verifying?(G+=1,U=setTimeout((()=>{ve(e)}),2e3)):(he(),oe((e=>({...e,verifying:!1}))),(0,r.A)("error",n))}catch(t){he(),oe((e=>({...e,verifying:!1}))),(0,r.A)("error")}}async function xe(){oe((e=>({...e,verifying:!0})));try{const e=await(0,x.Ay)("verify-login"===Z?"user/verify-device-for-login":"file/verify-device",{action:X.action,security_type:X.security_type||ce,hash_url:X.hash_url,sign_url:X.sign_url,type:i,email:X.email},"POST");e.success?(he(),ve(e.data||{})):(oe((e=>({...e,verifying:!1}))),(0,r.A)("error"))}catch(e){oe((e=>({...e,verifying:!1}))),(0,r.A)("error")}}function ye(){ue.validateFields().then((async e=>{let t={...e},n=!0;"set"!==i||ce||(n=!1,(0,r.A)("error","req.type")),"is_sms_enabled"!==ce&&(t[ne.fileApiKey||"document_id"]=X[ne.fileApiVal||"id"]||0,t[ne.pssdKey||"password"]=t.doc_password||"0",t.security_type=ce);if((F.indexOf(X.security_type)>-1||F.indexOf(ce)>-1)&&(e.doc_password?6!==e.doc_password.length&&(n=!1,(0,r.A)("error","err.validConfirmCode")):(n=!1,(0,r.A)("error","req.confirmCode"))),"verify-login"===Z){t={security_type:t.security_type,[ne.pssdKey||"password"]:t.doc_password||"0",email:X.email}}if(n){const e=await me(t),i=(null===e||void 0===e?void 0:e.uData)||{};$(V({...ee,...i}))}})).catch((e=>{console.log("Validate Failed:",e)}))}function be(e){ee[e.type||""]||0||"classified"===e.type?oe((t=>({...t,activeOption:e.type,secError:!1}))):oe((t=>({...t,secError:e.type})))}function je(){"is_verify_voice"===X.security_type?async function(){let e=!0;if(re.voiceFile||(e=!1,(0,r.A)("error","req.voiceMessage")),e){oe((e=>({...e,verifying:!0})));try{const e=new FormData;e.append("token","gloryvoicefootprint"),e.append("code",X.voiceCode),e.append("audio",re.voiceFile);const t=await(0,x.Ay)("file/verify-voice",e,"POST",{},!0);t.success&&Number(t.confidence)>.8?y({voiceFile:re.voiceFile,voiceCode:X.voiceCode}):(0,r.A)("error","voice.failedErr"),oe((e=>({...e,verifying:!1,voiceFile:null})))}catch(t){oe((e=>({...e,verifying:!1,voiceFile:null}))),(0,r.A)("error")}}}():"is_verify_liveness"===X.security_type&&Q.current&&Q.current.handleButton("verify")}function we(){const e=re.verifying;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o.A,{loading:re.cancelLoading,onClick:()=>re.cancelLoading?null:fe(e?"cancel":""),children:K.cancelText||(0,u.jsx)(d.A,{id:"common.goBack"})},"goback"),(0,u.jsx)(o.A,{type:"primary",disabled:e,onClick:()=>je(),children:(0,u.jsx)(d.A,{id:"settings.verify"})},"verify")]})}function Ae(){const e=re.verifying;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o.A,{loading:re.cancelLoading,onClick:()=>re.cancelLoading?null:fe(e?"cancel":""),children:(0,u.jsx)(d.A,{id:"common.cancel"})},"goback"),(0,u.jsx)(o.A,{type:"primary",onClick:()=>{$(B(!0))},children:(0,u.jsx)(d.A,{id:"common.accept"})},"verify")]})}function Ee(){const e=re.verifying;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o.A,{loading:re.cancelLoading,onClick:()=>re.cancelLoading?null:fe(e?"cancel":""),children:K.cancelText||(0,u.jsx)(d.A,{id:"common.goBack"})},"goback"),(0,u.jsx)(o.A,{type:"primary",disabled:e,onClick:()=>xe(),children:(0,u.jsx)(d.A,{id:"settings.verify"})},"verify")]})}function ke(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"is_verify_voice"===e?(0,u.jsx)(f.A,{index:1,text:(0,u.jsx)(d.A,{id:"voice.verifyLine1",values:{code:(0,u.jsx)("span",{className:"fw550",children:X.voiceCode||""})}}),onSave:e=>{e&&oe((t=>({...t,voiceFile:e})))},clear:null===re.voiceFile?"CLEAR":""}):"is_verify_liveness"===e?(0,u.jsx)(p.A,{ref:Q,type:"verify",isLivenessVerified:ee.is_verify_liveness&&0!==ee.is_verify_liveness,updateUserData:()=>y({verified:!0}),email:ee.email||"",cancelLoading:(null===re||void 0===re?void 0:re.cancelLoading)||!1,goVerifyBack:fe,verifyingDevice:re.verifying||!1}):"is_verify_uaepass"===e?(0,u.jsx)(h.A,{redirectUrl:window.location.href}):null}function Ce(){const e=re.verifying;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o.A,{loading:re.cancelLoading,onClick:Y,children:(0,u.jsx)(d.A,{id:"common.cancel"})},"goback"),!(0,z.isEqual)(ee.sms_pack.sms_balance,0)&&(0,u.jsx)(o.A,{type:"primary",disabled:e,onClick:()=>ye(),style:{marginLeft:"5px"},children:(0,u.jsx)(d.A,{id:"Ok"})},"verify")]})}(0,b.A)({form:ue,visible:j,initVal:{lower_bound:(null===ee||void 0===ee||null===(t=ee.sms_pack)||void 0===t?void 0:t.lower_bound)||0}}),(0,O.useEffect)((()=>{!async function(){window.encoderRegistered||(await(0,N.kz)(await(0,D.Ng)()),window.encoderRegistered=!0)}()}),[]),(0,O.useEffect)((()=>{j?oe((e=>({...e,activeOption:X.security_type}))):(clearTimeout(U),oe((e=>({...e,activeOption:!1,voiceFile:null}))))}),[j]),(0,O.useEffect)((()=>{window.location.href.includes("code")&&(async()=>{const e=new URLSearchParams(window.location.search).get("code");if(console.log("code:",e),e)try{y({verified:!0}),console.log(window.location.href.split("&")[0]),await(0,x.Ay)("uae-pass/token",{code:e,redirect_url:window.location.href.split("&")[0]},"POST")}catch(t){console.error("Error fetching the token",t)}})()}),[]);const Se=(0,O.useCallback)((()=>{const e=(0,z.filter)(v.XK,((e,t)=>0===ee[t]));return(0,z.isArray)(e)&&!(0,z.isEmpty)(e)}),[ee])(),_e=i&&"set"===i&&de(ce)?null:K.footer;return(0,u.jsx)(l._H,{children:"sms_security"!==i?(0,u.jsx)(s.A,{visible:j,onClose:le?null:Y,title:H?(0,u.jsx)("div",{className:"bg-blue",children:(0,u.jsx)(d.A,{id:"Identity Verification"})}):(0,u.jsx)(d.A,{id:ne.title||"documents.classified"}),okText:(0,u.jsx)(d.A,{id:"common.submit"}),onOk:le?null:ye,onCancel:le?null:Y,confirmLoading:le,okButtonProps:{id:"create-password"},destroyOnClose:!0,footer:_e,...K,children:(0,u.jsx)(R.hE,{children:(0,u.jsx)(S.A,{spinning:le,children:(0,u.jsx)(c.A,{autoComplete:"off",form:ue,layout:"vertical",onKeyPress:e=>{"Enter"!==e.key&&13!==e.charCode&&13!==e.which&&13!==e.keyCode||ye()},children:(0,u.jsxs)(_.A,{gutter:6,children:["set"===i&&!ce&&Se&&(0,u.jsx)("div",{className:"mb20",children:(0,u.jsx)(w.A,{span:24,children:(0,u.jsx)(d.A,{id:"documents.classifiedHint",values:{link:(0,u.jsx)("a",{href:"/dashboard/security-settings","aria-label":"security setting",children:(0,u.jsx)(d.A,{id:"account.securitySetting"})})}})})}),(0,u.jsx)(w.A,{span:24,children:function(){const e="set"===i&&ce?ce:i,t=("remove"===i||"deleteDoc"===i)&&de(X.security_type),l=F.indexOf(X.security_type)>-1||F.indexOf(ce)>-1,s="nfc"===X.security_type&&"security_settings"===X.action&&"set"===X.ssType;if(de(e)||t){const e=re.verifying,t=e?"settings.verifying":"settings.verifyDevice",i=e?"settings.verifyingDevice":"settings.sentVerifyNoti";return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(k.Ay,{icon:e?(0,u.jsx)(n.A,{}):void 0,title:(0,u.jsx)(d.A,{id:t}),subTitle:s?(0,u.jsxs)("div",{className:"nfcContent",children:[(0,u.jsx)("p",{children:(0,u.jsx)(d.A,{id:"settings.nfcHint"})}),(0,u.jsx)("ol",{children:M.map(((e,t)=>(0,u.jsx)("li",{children:(0,u.jsx)(d.A,{id:"settings.nfcS".concat(t+1)})},t)))}),(0,u.jsx)("p",{children:(0,u.jsx)(d.A,{id:"settings.nfcReady"})})]}):(0,u.jsx)("p",{children:(0,u.jsx)(d.A,{id:i})}),extra:Ee()}),(0,u.jsx)(A.A,{className:"verifyAlert",message:(0,u.jsx)(d.A,{id:"settings.mobWarning"}),type:"info",closable:!1,showIcon:!0})]})}if(["classified","two_factor","two_factor_microsoft"].indexOf(ce)>-1)return(0,u.jsxs)(u.Fragment,{children:["set"===i&&(0,u.jsx)(o.A,{className:"backBtn",type:"link",onClick:()=>{oe((e=>({...e,activeOption:!1})))},icon:(0,u.jsx)(a.A,{}),children:(0,u.jsx)(d.A,{id:"common.goBack"})}),l?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h3",{children:(0,u.jsx)(d.A,{id:"tfa.confirmCodeTitle"})}),(0,u.jsx)("p",{children:(0,u.jsx)(d.A,{id:"tfa.confirmCodeDesc",values:{app:"two_factor_microsoft"===ce||"two_factor_microsoft"===X.security_type?"Microsoft":"Google"}})}),(0,u.jsx)("div",{className:"otpInputContainer",children:(0,u.jsx)(c.A.Item,{name:"doc_password",children:(0,u.jsx)(L.A,{numInputs:6,shouldAutoFocus:!0,isInputNum:!0,separator:"-",hasErrored:!1,errorStyle:"error",containerStyle:{justifyContent:"center"},inputStyle:"otpInputStyle"})})})]}):(0,u.jsx)(c.A.Item,{label:(0,u.jsx)(d.A,{id:"common.password"}),name:"doc_password",rules:[{required:!0,message:(0,u.jsx)(d.A,{id:"req.password"})},{max:50,message:(0,u.jsx)(d.A,{id:"err.max.50char"})},{whitespace:!0,message:(0,u.jsx)(d.A,{id:"err.blankSpace"})}],children:(0,u.jsx)(C.A.Password,{autoComplete:"new-password",onPressEnter:ye})})]});if("set"===i)return(0,u.jsx)("div",{className:"securityOptions",children:m.map((e=>{const t=e.type===ce,i=1===ee[e.type||""],n=(0,z.isArray)(te.opening_doc)?te.opening_doc:[];return i&&n.indexOf(e.type)>-1||"classified"===e.type?(0,u.jsx)("div",{id:"security_".concat(e.id),className:"option ".concat(t?"active":""),tabIndex:-1,role:"button",onClick:()=>be(e),onKeyPress:()=>be(e),children:e.title&&(0,u.jsx)(d.A,{id:e.title})},e.id):null}))});if(v.q6[null===X||void 0===X?void 0:X.security_type]){const e=v.q6[null===X||void 0===X?void 0:X.security_type],t=(null===e||void 0===e?void 0:e.verifyData)||{};return H?(0,u.jsx)(k.Ay,{icon:null,title:t.title&&(0,u.jsx)(d.A,{id:t.title}),extra:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"mb30",children:"is_verify_liveness"===X.security_type?(0,u.jsxs)("div",{children:[(0,u.jsx)("img",{src:"/dms_editor/static/src/images/facial-recognition.png",width:150,alt:"facial recognition"}),(0,u.jsx)("p",{className:"liveness-description",children:(0,u.jsx)(d.A,{id:"liveness.identityVerification"})})]}):"is_verify_voice"===X.security_type?(0,u.jsxs)("div",{children:[(0,u.jsx)("img",{src:"/dms_editor/static/src/images/voice-recognition.png",width:150,alt:"voice recognition"}),(0,u.jsx)("p",{children:(0,u.jsx)(d.A,{id:"voice.identityVerification"})})]}):null}),Ae()]})}):(0,u.jsx)(k.Ay,{icon:re.verifying?(0,u.jsx)(n.A,{}):void 0,title:t.title&&(0,u.jsx)(d.A,{id:t.title}),subTitle:(0,u.jsx)("p",{children:t.subTxt&&(0,u.jsx)(d.A,{id:t.subTxt})}),extra:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"mb30",children:ke(X.security_type)}),"is_verify_voice"===X.security_type&&we()]})})}var r;return"is_sms_enabled"===i?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"mb30",children:ee.sms_pack.sms_balance?(0,u.jsxs)("div",{children:[(0,u.jsx)(c.A.Item,{label:(0,u.jsx)(d.A,{id:"Set low SMS alert"}),name:"lower_bound",children:(0,u.jsx)(C.A,{type:"number",placeholder:"Alert on"})}),(0,u.jsxs)("p",{children:["Available SMS - ",(0,u.jsx)("b",{children:null===ee||void 0===ee||null===(r=ee.sms_pack)||void 0===r?void 0:r.sms_balance})]})]}):(0,u.jsxs)("div",{children:["You haven't sufficient SMS balance, Please buy a \xa0",(0,u.jsx)(T.N_,{to:"/dashboard/billing?bactive=products",children:(0,u.jsx)(d.A,{id:"SMS Pack"})}),"."]})}),(0,u.jsx)("div",{style:{float:"right"},children:Ce()})]}):null}()}),re.secError?(0,u.jsx)(w.A,{xs:24,className:"mt10",children:(0,u.jsx)(A.A,{showIcon:!0,type:"error",closeText:(0,u.jsx)(d.A,{id:"common.enableNow"}),afterClose:()=>null,message:(0,u.jsx)(d.A,{id:"common.enableSetting"})})}):null,i&&"set"!==i&&ie&&"classified"===ce?(0,u.jsx)(w.A,{span:24,children:(0,u.jsxs)("div",{className:"mt5",children:[(0,u.jsx)(d.A,{id:"documents.forgotPssd"})," ",(0,u.jsx)(E.A,{title:(0,u.jsx)(d.A,{id:"documents.newPssdHint"}),placement:"bottom",children:(0,u.jsxs)("span",{tabIndex:-1,className:"primaryColor pointer",onClick:re.pssdLoading?void 0:pe,onKeyPress:re.pssdLoading?void 0:pe,role:"button",children:[(0,u.jsx)(d.A,{id:"common.clickHere"}),re.pssdLoading&&(0,u.jsx)(n.A,{style:{marginLeft:5}})]})})]})}):null]})})})})}):(0,u.jsx)(g.A,{visible:ce,onClose:e=>{e&&oe((e=>({...e,activeOption:!1})))},verifySuccess:()=>{y({verified:!0})},phoneCode:J.sms_country,phoneNumber:J.sms_phone_no,classified:!0,rowData:X,number_fill_by:J.number_fill_by,fileData:{document_id:J.file.id,is_share:J.isShare,user_email:ee.email}})})}},54515:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>$});var n=i(57528),a=i(94889),l=i(79843),s=i(1877),r=i(9583),o=i(39786),c=i(79378),d=i(59193),u=i(98485),m=i(10597),p=i(91141),h=i(58769),g=i(41893),f=i(21707),v=i(19392),x=i(78254),y=i(21270),b=i(37734),j=i(51865),w=i(6819),A=i(8187),E=i(93347),k=i(68265),C=i(22748),S=i(35621),_=i(35398),N=i(29796),D=i(87094),z=i(41988),O=i(16895),L=i(10495),P=i(55902),T=i(1203),R=i(72612),M=i(41397),I=i(9950),F=i(98341),B=i(33753),V=i(34845),H=i(65059),q=i(78157),W=i(38900),U=i(5755),G=i(35116),Y=i(44414);const X=function(e){const{user:t={}}=e,i=(null===t||void 0===t?void 0:t.delegate_user)||null;return(0,Y.jsxs)(Y.Fragment,{children:[function(){const e=(0,M.pickBy)((null===t||void 0===t?void 0:t.security_setting)||{},(e=>1===e));return(0,M.isObject)(e)&&!(0,M.isEmpty)(e)?(0,Y.jsx)(C.A,{placement:"bottom",title:(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)("span",{className:"mb10 block",children:(0,Y.jsx)(b.A,{id:"settings.enabledSec"})}),(0,M.map)(e,((e,t)=>{const i=G.XK[t];return(0,Y.jsxs)("span",{className:"block",children:["- ",(0,Y.jsx)(b.A,{id:i.title})]})}))]}),children:(0,Y.jsx)(q.A,{className:"ml5",twoToneColor:U.A.colors.primaryColor})}):null}(),i?(0,Y.jsx)(H.A,{trigger:"click",overlayStyle:{maxWidth:400},content:(0,Y.jsx)("p",{children:(0,Y.jsx)(b.A,{id:"delegation.hint",values:{sDate:(0,Y.jsx)("span",{className:"fw550",children:i.start_date}),eDate:(0,Y.jsx)("span",{className:"fw550",children:i.end_date}),name:(0,Y.jsx)("span",{className:"fw550",children:(0,A.dS)(i.delegate_first_name,i.delegate_last_name)}),email:(0,Y.jsxs)("small",{className:"fw550",children:["(",i.delegate_email,")"]})}})}),children:(0,Y.jsx)(C.A,{placement:"bottom",title:(0,Y.jsx)(b.A,{id:"delegation.active"}),children:(0,Y.jsx)(W.A,{})})}):null]})};var K,J=i(12323);const Z={"show-status":{title:"documents.statusDoc",subtitle:"common.signers",listCls:"showStatusList",showInfo:!0,listDisable:!0,hideFooter:!0}};const $=function(e){const t=window.innerHeight||800,{handleSubmit:i=(()=>{}),visible:n=!1,onClose:h=(()=>{}),rowData:B={},type:H=""}=e,q=Z[H]||{},[W]=k.A.useForm(),[U,G]=(0,I.useState)(!1),[K,$]=(0,I.useState)(!1),ee=0===(0,F.useSelector)((e=>{var t,i;return!(0,M.isNumber)(null===(t=e.Auth.access)||void 0===t||null===(i=t.monthly_features)||void 0===i?void 0:i.num_of_sign_doc)||e.Auth.access.monthly_features.num_of_sign_doc}))&&"send"===H,te=(0,F.useSelector)((e=>{var t,i,n;return null===(t=e.App)||void 0===t||null===(i=t.sendFile)||void 0===i||null===(n=i.fileData)||void 0===n?void 0:n.recipients})),ie=(0,F.useSelector)((e=>{var t,i,n;return null===(t=e.App)||void 0===t||null===(i=t.sendFile)||void 0===i||null===(n=i.fileData)||void 0===n?void 0:n.appendData})),[ne,ae]=(0,I.useState)({userLoading:!1,openReason:!1,isLastCompleted:!0}),[le,se]=(0,I.useState)({recieipts:[],loading:!1}),{recieipts:re,loading:oe}=le,ce=(0,M.isArray)(re)?re:[],de=(0,I.useMemo)((()=>(0,j.pm)(ce,(e=>"Declined"!==e.status&&"Signed"!==e.status))),[ce]),ue="Declined"!==B.status&&"Completed"!==B.status&&!!de,me=null===ie||void 0===ie?void 0:ie.find((e=>"sign"===e.type&&null===e.signer&&e.data));async function pe(){se((e=>({...e,loading:!0})));try{const e=new FormData;e.append("document_id",B.id);const t=await(0,w.Ay)("file/get-sign-users",e,"POST",void 0,!0);t.success&&t.data?(se((e=>({...e,recieipts:[...t.data],loading:!1}))),ae((e=>({...e,isLastCompleted:me||t.is_last_completed})))):(se((e=>({...e,loading:!1}))),(0,g.A)("error",t.message))}catch(e){se((e=>({...e,loading:!1}))),(0,g.A)("error")}}(0,I.useEffect)((()=>{n&&!ee&&(pe(),ae((e=>({...e,openReason:!1}))))}),[n]);const he=(0,I.useCallback)(((e,t)=>{const i=re[e],n=(0,M.cloneDeep)(re);n[e].order_by=t+1,n.splice(e,1),n.splice(t,0,i);const a=(0,M.map)(n,((e,t)=>{const i={...e};return i.order_by=t+1,i}));se((e=>({...e,recieipts:a})))}),[re]);function ge(e,t){return"Declined"===e.status?(0,Y.jsx)(C.A,{onClick:()=>{ae((i=>({...i,openReason:!t&&e.id})))},title:(0,Y.jsx)(b.A,{id:t?"document.hideReason":"document.showReason"}),children:(0,Y.jsx)("div",{children:(0,Y.jsx)("div",{className:"sendActions",children:(0,Y.jsx)(v.A,{shape:"circle",size:"small",onClick:()=>{ae((i=>({...i,openReason:!t&&e.id})))},children:t?(0,Y.jsx)(a.A,{}):(0,Y.jsx)(l.A,{})})})})}):null}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,Y.jsx)(C.A,{title:(0,Y.jsx)(b.A,{id:"document.removeSigner"}),children:(0,Y.jsx)(f.A,{btnId:"delete-confirm-signer",apiUrl:"file/remove-signer",apiData:{hash_key:e},fetchData:pe,setState:se,title:"Are you sure  ? "})})}function ve(e,t){const i=E.ME.find((t=>t.name===e)),n=i?i.color:"",a="mobile"===t?(0,Y.jsx)(s.A,{}):(0,Y.jsx)(r.A,{});return(0,Y.jsx)(S.A,{color:n,icon:"Signed"===e&&(0,Y.jsx)(C.A,{title:(0,Y.jsx)(b.A,{id:"document.signedFrom",values:{platform:(0,Y.jsx)(b.A,{id:"common.".concat(t||"website")})}}),children:a}),children:(0,Y.jsx)(b.A,{id:e.toLowerCase()})},e)}function xe(e,t){const i=e.name?"Contact Group":(0,A.dS)(e.first_name,e.last_name),n=e.order_by>0&&!q.listDisable,a=e.status||"",l="Declined"===a&&ne.openReason===e.id;return(0,Y.jsxs)(_.A.Item,{className:n?"activeOrder":"",extra:(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)("div",{style:{paddingRight:"5px"},children:(0,Y.jsx)(X,{user:e},e.id)}),(0,Y.jsx)(J.A,{type:"progress",user:e,index:t,recieipts:re,setReceipentsData:se}),q.showInfo?(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsxs)("div",{children:[(0,Y.jsx)("div",{children:a&&ve(a,e.platform)}),(0,Y.jsx)("div",{children:(0,Y.jsx)("small",{children:e.message})})]}),"Pending"===a&&(0,Y.jsxs)("div",{className:"sendActions",children:[(0,Y.jsx)(C.A,{title:(0,Y.jsx)(b.A,{id:"document.sendReminder"}),children:(0,Y.jsx)(v.A,{shape:"circle",size:"small",loading:ne.userLoading===e.id,icon:(0,Y.jsx)(o.A,{}),onClick:()=>ne.userLoading?null:async function(e){ae((t=>({...t,userLoading:e.id})));try{const t=await(0,w.Ay)("file/send-reminder",{hash_key:e.user_hash},"POST");t.success?(ae((e=>({...e,userLoading:!1}))),(0,g.A)("success",t.message)):(ae((e=>({...e,userLoading:!1}))),(0,g.A)("error",t.message))}catch(t){ae((e=>({...e,userLoading:!1}))),(0,g.A)("error")}}(e),className:"invoiceViewBtn icbtn_vertical_center"})}),0===e.order_by&&fe(e.user_hash)]}),ge(e,l)]}):(0,Y.jsx)("div",{className:"sendActions",children:fe(e.user_hash)})]}),children:[(0,Y.jsx)(_.A.Item.Meta,{className:"metedesc",avatar:(0,Y.jsxs)(Y.Fragment,{children:[e.order_by>0&&(0,Y.jsxs)("strong",{className:"mr5",children:["#",e.order_by]}),(0,Y.jsx)(N.A,{icon:(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(c.A,{className:"userIcon"}),(0,Y.jsx)(d.A,{className:"dragIcon"})]})})]}),title:i,description:"group"===e.email?e.name:e.email,style:{alignItems:"center",justifyContent:"center"}}),(0,Y.jsx)(J.A,{type:"security",user:e,index:t,recieipts:re,setReceipentsData:se,disableAction:q.listDisable}),l&&(0,Y.jsxs)("div",{className:"mt10",children:[(0,Y.jsx)("p",{children:(0,Y.jsx)(b.A,{id:"common.reason"})}),(0,Y.jsx)("p",{children:"voice"===e.message_type?(0,Y.jsx)("audio",{controls:"controls",src:e.reason}):e.reason&&e.reason.split("\n").map(((e,t)=>(0,Y.jsx)("p",{children:e},t)))})]})]},e.id)}function ye(e,t){return!q.listDisable&&e.order_by>0?(0,Y.jsx)(p.A,{id:e.id,index:t,style:{cursor:"default"},moveList:he,children:xe(e,t)},e.id):xe(e,t)}function be(e){const t=[...re].map(((t,i)=>{const n={...t};return n.order_by=e?i+1:0,n}));se((e=>({...e,recieipts:t})))}return(0,Y.jsx)(m._H,{children:(0,Y.jsx)(Q,{open:n,onClose:K?null:h,title:(0,Y.jsx)("div",{className:"sign-request",children:(0,Y.jsx)(b.A,{id:q.title||"documents.sendReqFor",values:{doc:(0,Y.jsx)("strong",{children:B.name})}})}),okText:(0,Y.jsx)(b.A,{id:"common.send"}),onOk:K?null:async function(){W.validateFields().then((async e=>{!async function(e){$(!0);try{const t=new FormData;t.append("ccuser",e.ccuser),t.append("document_id",e.document_id),t.append("is_last_completed",e.is_last_completed),t.append("users",JSON.stringify(e.users));const n=await(0,w.Ay)("file/send",t,"POST",void 0,!0);n.success?($(!1),(0,g.A)("success",n.message),i(n.data||{}),window.history.back()):($(!1),(0,g.A)("error",n.message))}catch(t){$(!1),(0,g.A)("error")}}({ccuser:e.ccuser||"",users:re.map((e=>{const t=te.find((t=>t.email===e.email));return{...e,full_name:"".concat((null===t||void 0===t?void 0:t.first_name)||""," ").concat((null===t||void 0===t?void 0:t.last_name)||"")}})),is_last_completed:!!ne.isLastCompleted,document_id:B.id||0})}))},onCancel:K?null:h,confirmLoading:K,okButtonProps:{id:"add-users"},footer:!re||(0,M.isEmpty)(re)||q.hideFooter?null:void 0,children:(0,Y.jsx)(k.A,{form:W,layout:"vertical",children:(0,Y.jsx)(R.A,{spinning:oe||!1,children:ee?(0,Y.jsx)(x.default,{msg:"document.signUpgradeLimit"}):(0,M.isEmpty)(ce)?(0,Y.jsx)("div",{className:"rowCenter",children:(0,Y.jsx)(T.A,{description:(0,Y.jsx)(b.A,{id:"document.noRecipients"})})}):(0,Y.jsxs)(D.A,{children:[q.subtitle&&(0,Y.jsx)(z.A,{span:24,children:(0,Y.jsxs)("div",{className:"rowSpaceBetween mb10",children:[(0,Y.jsx)("h3",{children:(0,Y.jsx)(b.A,{id:q.subtitle})}),ue&&(0,Y.jsx)(v.A,{danger:!0,size:"small",onClick:()=>async function(){ae((e=>({...e,cancelLoading:!0})));try{const e=await(0,w.Ay)("file/cancel-sign-process",{document_id:B.id},"POST");e.success?(ae((e=>({...e,cancelLoading:!1}))),(0,g.A)("success",e.message),i({})):(ae((e=>({...e,cancelLoading:!1}))),(0,g.A)("error",e.message))}catch(e){ae((e=>({...e,cancelLoading:!1}))),(0,g.A)("error")}}(),loading:ne.cancelLoading,children:(0,Y.jsx)(b.A,{id:"document.cancelProcess"})})]})}),!q.listDisable&&(0,Y.jsx)(z.A,{span:24,children:(0,Y.jsx)("div",{children:ce.length>1?(0,Y.jsxs)("h3",{className:"rowSpaceBetween",children:[(0,Y.jsxs)("span",{children:[(0,Y.jsx)(b.A,{id:"document.setSignOrder"}),(0,Y.jsx)(C.A,{title:(0,Y.jsx)(b.A,{id:"document.sendOrderHint"}),children:(0,Y.jsx)(u.A,{style:{fontSize:12},className:"ml5"})})]}),(0,Y.jsx)(O.A,{defaultChecked:!1,size:"small",onChange:be})]}):(0,Y.jsx)("h3",{children:(0,Y.jsx)(b.A,{id:"document.recipients"})})})}),(0,Y.jsx)(z.A,{span:24,children:(0,Y.jsx)(V.h2,{children:(0,Y.jsxs)(y.A,{autoHeight:!0,autoHeightMax:Math.round(t-t/1.8),autoHide:!0,hideTracksWhenNotNeeded:!0,thumbSize:0,className:"thumb-vertical",renderTrackVertical:()=>(0,Y.jsx)("div",{style:{display:"none"},className:"track-vertical"}),children:[(0,Y.jsx)(_.A,{className:"selectedUsersList sendList sendList ".concat(q.listCls||""),itemLayout:"vertical",dataSource:re,loading:oe,renderItem:ye}),!q.listDisable&&(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(L.A,{onChange:()=>{W.setFieldsValue({ccuser:""}),G(!U)},style:{marginBottom:"10px"},children:"Set CcUser"}),(0,Y.jsx)(k.A.Item,{name:"ccuser",rules:[{required:U&&!0,type:"email",message:"The input is not valid E-mail!"}],children:(0,Y.jsx)(P.A,{placeholder:"CcUser Email address",disabled:!U})})]}),(0,Y.jsxs)(L.A,{checked:ne.isLastCompleted,disabled:me||q.listDisable,onChange:e=>{const{checked:t}=e.target;ae((e=>({...e,isLastCompleted:t})))},children:[(0,Y.jsx)(b.A,{id:"document.markCompleted"})," ",(0,Y.jsx)(C.A,{placement:"right",title:(0,Y.jsx)(b.A,{id:"document.markCompletedHint"}),children:(0,Y.jsx)(u.A,{className:"ml5"})})]})]})})})]})})})})})},Q=(0,B.Ay)(h.A)(K||(K=(0,n.A)(["\n  .metedesc .ant-list-item-meta-description {\n    color: rgb(103, 110, 127) !important;\n  }\n"])))},68633:(e,t,i)=>{"use strict";i.d(t,{A:()=>E});var n,a=i(57528),l=i(10597),s=i(41893),r=i(94885),o=i(37734),c=i(51679),d=i(6819),u=i(8187),m=i(68265),p=i(47293),h=i(41988),g=i(41135),f=i(52160),v=i(87094),x=i(55902),y=i(41397),b=i(9950),j=i(94135),w=i(33753),A=i(44414);function E(e){let{visible:t,onClose:i,phoneCode:E,phoneNumber:k,verifySuccess:C=(()=>{}),classified:S,rowData:_,number_fill_by:N,fileData:D}=e;const[z]=m.A.useForm(),[O,L]=(0,b.useState)(!1),[P,T]=(0,b.useState)(!1),[R,M]=(0,b.useState)(!1),[I,F]=(0,b.useState)(""),[B,V]=(0,b.useState)(Date.now()+6e4),H=e=>{z.resetFields(),L(!1),F(""),i(e)},[q,W]=(0,b.useState)(""),[U,G]=(0,b.useState)(E||"+44"),{Countdown:Y}=p.A;async function X(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};T(!0);const i=S?"checkOtp"===e?"user/check-otp-for-file":"user/send-otp-for-file":"checkOtp"===e?"user/check-otp":"user/send-otp";try{S&&(t.hash_url=_.sign_url,t.fileData=D);const n=await(0,d.Ay)(i,t,"POST");n.success?(T(!1),(0,s.A)("success",n.message),"checkOtp"===e?(C(),H(S&&"openFile")):L(!0)):(T(!1),(0,s.A)("error",n.message))}catch(n){T(!1),(0,s.A)("error")}}function K(){z.validateFields().then((e=>{O?(e.phone_no=e.phone_no||q,X("checkOtp",e)):(W(e.phone_no),X("",e))})).catch((e=>{console.log("Validate Failed:",e)}))}const J=(0,y.find)(c,{dial_code:E||"+44"}),Z=S?(0,A.jsx)(m.A.Item,{name:"phone_code",className:"countryFormItem",rules:[{required:!0,message:(0,A.jsx)(o.A,{id:"req.phone"})}],style:{marginBottom:0},children:(0,A.jsx)(r.A,{keyType:"code",valType:"dial_code",className:"countryPicker",filterOption:u.Tk,showSearch:!0,dropDownCustom:!1,allCountries:!0,userVerification:!0,optionFilterProp:!0,disabled:!S||S&&!(0,y.isEmpty)(k),onChange:e=>G(e)})}):(0,A.jsx)(r.A,{valType:"code",className:"countryPicker",filterOption:u.Tk,showSearch:!0,dropDownCustom:!1,allCountries:!0,userVerification:!0,optionFilterProp:!0,defaultValue:J.code||"GB",disabled:!0}),$=(0,w.Ay)(h.A)(n||(n=(0,a.A)(["\n    .ant-form-item-control-input {\n      min-height: 30px !important;\n    }\n  "]))),Q=(()=>{let e=!1;return O&&I.length<=5&&(e=!0),e})();return(0,A.jsx)(g.A,{style:{top:50},bodyStyle:{background:O?"#f4f4f4":"#0000",padding:40},visible:t,onClose:H,title:(0,A.jsx)(o.A,{id:"settings.verifyPhone"}),okText:(0,A.jsx)(o.A,{id:"common.submit"}),onOk:K,onCancel:H,destroyOnClose:!0,closable:!0,footer:[(0,A.jsx)(f.Ay,{onClick:H,children:(0,A.jsx)(o.A,{id:"common.cancel"})},"back"),(0,A.jsx)(f.Ay,{type:"primary",onClick:K,disabled:Q,loading:P,children:(0,A.jsx)(o.A,{id:O?"settings.verify":"settings.next"})},"submit")],children:(0,A.jsxs)(l._H,{children:[["contact","sender"].includes(N)&&(0,A.jsx)("h4",{children:"To access this document, the document owner requires SMS authentication, so please check your mobile for the OTP."}),(0,A.jsx)(m.A,{form:z,layout:"vertical",initialValues:{phone_no:k,phone_code:E||"+44"},children:(0,A.jsx)(v.A,{gutter:[12,0],children:O?(0,A.jsxs)(h.A,{xs:24,sm:24,children:[(0,A.jsxs)("div",{className:"otpLabel",children:[(0,A.jsx)("h3",{style:{color:"#444",fontWeight:"bold"},children:(0,A.jsx)(o.A,{id:"common.otp"})}),(0,A.jsxs)("div",{children:[(0,A.jsx)(o.A,{id:"common.otpDesc"})," ",(0,A.jsxs)("span",{className:"numberWrap",children:[E,k]})]})]}),(0,A.jsx)(m.A.Item,{name:"otp_code",children:(0,A.jsx)(j.A,{onChange:e=>{F(e)},numInputs:6,shouldAutoFocus:!0,isInputNum:!0,separator:"-",hasErrored:!1,errorStyle:"error",containerStyle:{justifyContent:"center"},inputStyle:"otpInputStyle"})}),(0,A.jsxs)("div",{className:"otpWrapper",children:[(0,A.jsx)("div",{className:"otpTxt",children:(0,A.jsx)(o.A,{id:"common.receiveOtp"})}),(0,A.jsx)("span",{className:R?"timerWrapper":"timerWrapperDisabled",onClick:R?async function(){R||T(!0);const e=S?"user/send-otp-for-file":"user/resend-otp",t={};try{S&&(t.hash_url=_.sign_url,t.phone_no=q,t.phone_code=U);const i=await(0,d.Ay)(e,t,"POST");i.success?(T(!1),M(!1),V(Date.now()+6e4),(0,s.A)("success",i.message)):(T(!1),(0,s.A)("error",i.message))}catch(i){T(!1),(0,s.A)("error")}}:null,style:{cursor:R?"pointer":"not-allowed"},children:(0,A.jsx)(Y,{format:"mm:ss",title:"Resend",value:B,onFinish:()=>{M(!0)},valueStyle:{display:"visible"}})})]})]}):(0,A.jsx)($,{xs:24,sm:24,children:(0,A.jsx)(m.A.Item,{name:"phone_no",label:(0,A.jsx)(o.A,{id:"common.phoneNo"}),width:"100%",rules:[{required:!0,message:(0,A.jsx)(o.A,{id:"req.phone"})}],children:(0,A.jsx)(x.A,{style:{width:"100%"},min:1,maxLength:15,type:"number",addonBefore:Z,disabled:!S||S&&!(0,y.isEmpty)(k)})})})})})]})})}},55215:(e,t,i)=>{"use strict";i.d(t,{A:()=>c,Y:()=>o});var n,a,l=i(57528),s=i(33753);const r=s.Ay.div(n||(n=(0,l.A)(["\n  & .titleContent {\n    margin-bottom: 15px;\n\n    p {\n      font-size: 13px;\n    }\n  }\n\n  & .enrollContent {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin-top: 15px;\n  }\n\n  & .mainBtn {\n    font-size: 15px !important;\n    margin-left: 5px;\n    margin-right: 5px;\n  }\n\n  & .resultContent {\n    & .ant-col {\n      text-align: center;\n\n      & h4 {\n        margin-bottom: 10px;\n      }\n\n      & .ant-alert {\n        width: 60%;\n        margin: 0 auto;\n      }\n    }\n  }\n\n  & .deleteVoice {\n    & p {\n      margin-bottom: 10px;\n    }\n  }\n"]))),o=s.Ay.div(a||(a=(0,l.A)(["\n  padding: 5px 10px 5px 15px;\n  background: #f2f2f2;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  margin: 0px 0px 10px 0px;\n\n  & .recordContent {\n    display: flex;\n    align-items: center;\n\n    & .form-check-label {\n      flex: 1;\n      display: flex;\n      align-items: center;\n      font-weight: 550;\n      padding-right: 10px;\n    }\n\n    & .recordAction {\n      display: flex;\n      align-items: center;\n\n      & > * {\n        margin-right: 5px;\n        &:last-child {\n          margin-right: 0px;\n        }\n      }\n    }\n  }\n"]))),c=r},97736:(e,t,i)=>{"use strict";i.d(t,{A:()=>g});var n=i(9950),a=i(1635),l=i(55266),s=i(19392),r=i(39389),o=i(37734),c=i(41893),d=i(53047),u=i(21707),m=i(17619),p=i(55215),h=i(44414);const g=e=>{let{text:t,index:i,onSave:g,clear:f}=e;const[v,x]=(0,n.useState)(null),{start:y,stop:b,isRecording:j}=(0,r.s)((e=>{const t=new File([e],"audio_".concat(i,"_file.wav"),{type:e.type});g(t),x(window.URL.createObjectURL(e))}),(e=>{"NotAllowedError"===e.name&&(0,c.A)("error","record.permission")})),w=()=>{g(null),x(null)};return(0,n.useEffect)((()=>{"CLEAR"===f&&w()}),[f]),(0,h.jsxs)(p.Y,{children:[(0,h.jsxs)("div",{className:"recordContent",children:[(0,h.jsx)("p",{className:"form-check-label",children:t}),(0,h.jsxs)("div",{className:"recordAction",children:[!v&&(0,h.jsx)(d.A,{placement:"bottom",title:(0,h.jsx)(o.A,{id:"".concat(j?"common.stop":"record")}),children:(0,h.jsx)(m.A,{children:(0,h.jsx)(s.A,{className:j&&"rec",shape:"circle",onClick:j?b:y,danger:j,icon:j?(0,h.jsx)(a.A,{}):(0,h.jsx)(l.A,{})})})}),!!v&&(0,h.jsx)(d.A,{placement:"bottom",title:(0,h.jsx)(o.A,{id:"voice.deleteRec"}),children:(0,h.jsx)("div",{children:(0,h.jsx)(u.A,{onConfirm:w})})})]})]}),(0,h.jsx)("div",{className:"recordAudio",children:!!v&&(0,h.jsx)("audio",{src:v,controls:!0})})]})}},21437:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>dn});var n=i(57528),a=i(99386),l=i(72612),s=i(22748),r=i(16895),o=i(52160),c=i(92163),d=i(41135),u=i(41397),m=i(59051),p=i.n(m),h=i(9950),g=i(98341),f=i(37734),v=i(6819),x=i(8187),y=i(12547),b=i(67376),j=i(20735),w=i(82278),A=i(8750),E=i(94118),k=i(59193),C=i(41893),S=i(78254),_=i(78096),N=i(74972),D=i(51546),z=i(27331),O=i(33753),L=i(24774),P=i(25825);const T=JSON.parse('{"SVG Editor":"SVG Editor","We found a project saved in this browser! Do you want to load it?":"We found a project saved in this browser! Do you want to load it?","Are you sure you want to leave?":"Are you sure you want to leave?","Undo":"Undo","Save (to browser)":"Save (to browser)","Project is saved in this browser!":"Project is saved in this browser!","Download as..":"Download as..","Close and open new":"Close and open new","This will clear the canvas! Are you sure?":"This will clear the canvas! Are you sure?","Download as SVG":"Download as SVG","Download as PNG":"Download as PNG","Download as JPG":"Download as JPG","Select/move object (V)":"Select/move object (V)","Shapes":"Shapes","Line":"Line","Connectable lines & curves":"Connectable lines & curves","Free draw":"Free draw","Text box":"Text box","Upload image":"Upload image","Canvas options":"Canvas options","CANVAS SETTINGS":"CANVAS SETTINGS","Canvas size":"Canvas size","Width":"Width","Height":"Height","Keep aspect ratio":"Keep aspect ratio","Fit to content":"Fit to content","Color fill":"Color fill","Gradient fill":"Gradient fill","SHAPES":"SHAPES","FREE DRAW":"FREE DRAW","Brush width":"Brush width","Brush style":"Brush style","Pencil":"Pencil","Circle":"Circle","Spray":"Spray","Brush color":"Brush color","Tip:":"Tip:","you can select and style each line you drew. Use <b>Shift + Click</b> to select multiple lines and group them into one object.":"you can select and style each line you drew. Use <b>Shift + Click</b> to select multiple lines and group them into one object.","Tip: hold Shift key for 15\xb0 angle jumps!":"Tip: hold Shift key for 15\xb0 angle jumps!","Drag up or down to remove":"Drag up or down to remove","Orientation":"Orientation","Linear":"Linear","Radial":"Radial","Angle":"Angle","Align left":"Align left","Align center horizontally":"Align center horizontally","Align right":"Align right","Align top":"Align top","Align center vertically":"Align center vertically","Align bottom":"Align bottom","Corner type":"Corner type","Square":"Square","Round":"Round","Color":"Color","Opacity":"Opacity","Blur":"Blur","Brightness":"Brightness","Saturation":"Saturation","Gamma":"Gamma","Red":"Red","Green":"Green","Blue":"Blue","Flip horizontally":"Flip horizontally","Flip vertically":"Flip vertically","Bring object forwards":"Bring object forwards","Bring object backwards":"Bring object backwards","Duplicate":"Duplicate","Remove":"Remove","Group selected objects":"Group selected objects","Ungroup selected objects":"Ungroup selected objects","SELECTION SETTINGS":"SELECTION SETTINGS","Font style":"Font style","Border":"Border","Alignment":"Alignment","Object options":"Object options","Effects":"Effects","Bold":"Bold","Italic":"Italic","Underline":"Underline","Linethrough":"Linethrough","Subscript":"Subscript","Superscript":"Superscript","Font family":"Font family","Font size":"Font size","Line height":"Line height","Letter spacing":"Letter spacing","Text alignment":"Text alignment","Left":"Left","Center":"Center","Right":"Right","Justify":"Justify","Your browser doesn\'t support file upload. Please upgrade to a modern browser, for example:":"Your browser doesn\'t support file upload. Please upgrade to a modern browser, for example:","UPLOAD IMAGE":"UPLOAD IMAGE","File upload happens via HTML5 File API, so we don\'t use the server to store user images. You can also copy paste an image from the clipboard!":"File upload happens via HTML5 File API, so we don\'t use the server to store user images. You can also copy paste an image from the clipboard!","Drag & drop files":"Drag & drop files","or click to browse.":"or click to browse.","JPG, PNG or SVG only!":"JPG, PNG or SVG only!","Your browser is out of date!":"Your browser is out of date!","Please update to a modern browser, for example:":"Please update to a modern browser, for example:","Tip: use arrows to move a selected object by 1 pixel!":"Tip: use arrows to move a selected object by 1 pixel!","Tip: Shift + Click to select and modify multiple objects!":"Tip: Shift + Click to select and modify multiple objects!","Tip: hold Shift when rotating an object for 15\xb0 angle jumps!":"Tip: hold Shift when rotating an object for 15\xb0 angle jumps!","Tip: hold Shift when drawing a line for 15\xb0 angle jumps!":"Tip: hold Shift when drawing a line for 15\xb0 angle jumps!","Tip: click to place points, press and pull for curves! Click outside or press Esc to cancel!":"Tip: click to place points, press and pull for curves! Click outside or press Esc to cancel!","Browser storage is not supported in this browser!":"Browser storage is not supported in this browser!","Your text goes here...":"Your text goes here..."}'),R=e=>T&&T[e]?T[e]:e;var M=i(44414);const I=function(e){const t=e.unit||"",i=e.value||0;return(0,M.jsxs)("div",{className:"button-amount",children:[(0,M.jsx)("div",{className:"decrease",onClick:()=>e.handleDecrease(),children:"-"}),(0,M.jsx)("input",{onChange:t=>e.handleChange(t),value:i+t,type:"text"}),(0,M.jsx)("div",{className:"increase",onClick:()=>e.handleIncrease(),children:"+"})]})};function F(e){const[t,i]=(0,h.useState)(!1),n=t?"input-select open":"input-select",a=t=>{e.handleChange(t)};return(0,M.jsx)("div",{className:n,onClick:()=>i(!t),children:(0,M.jsxs)("div",{className:"select",children:[(0,M.jsx)("div",{className:"active-option",children:h.Children.map(e.children,(t=>{if(JSON.stringify(t.props.value)===JSON.stringify(e.activeOption)){return h.cloneElement(t).props.children}}))}),(0,M.jsx)("div",{className:"list",children:e.children.map((e=>{const t={...e.props,handleClick:a};return{...e,props:t}}))})]})})}function B(e){return(0,M.jsx)("div",{className:"option",onClick:()=>e.handleClick(e.value),children:e.children})}const V=function(e){let{canvas:t}=e;const[i,n]=(0,h.useState)({width:1,style:"pencil",color:"rgba(0,0,0,1)"}),a=(e,a)=>{let l=1;"decrease"===e&&(l=i.width,l=1===l?1:l-1),"increase"===e&&(l=i.width+1),("change"!==e||(l=parseInt(a,2),Number.isInteger(l)))&&(n({...i,width:l}),t.freeDrawingBrush.width=l)};return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("div",{className:"setting",children:[(0,M.jsx)("div",{className:"label",children:R("Brush width")}),(0,M.jsx)("div",{className:"function",children:(0,M.jsx)(I,{unit:"",value:i.width,handleDecrease:()=>a("decrease"),handleChange:e=>a("change",e.target.value),handleIncrease:()=>a("increase")})})]}),(0,M.jsxs)("div",{className:"setting",children:[(0,M.jsx)("div",{className:"label",children:R("Brush style")}),(0,M.jsx)("div",{className:"function",children:(0,M.jsxs)(F,{activeOption:i.style,handleChange:e=>(e=>{switch(e){case"circle":t.freeDrawingBrush=new L.fabric.CircleBrush(t);break;case"spray":t.freeDrawingBrush=new L.fabric.SprayBrush(t);break;default:t.freeDrawingBrush=new L.fabric.PencilBrush(t)}t.freeDrawingBrush.width=i.width,t.freeDrawingBrush.color=i.color,n({...i,style:e})})(e),children:[(0,M.jsx)(B,{value:"pencil",children:R("Pencil")}),(0,M.jsx)(B,{value:"circle",children:R("Circle")}),(0,M.jsx)(B,{value:"spray",children:R("Spray")})]})})]}),(0,M.jsxs)("div",{className:"setting",children:[(0,M.jsx)("div",{className:"label",children:R("Brush color")}),(0,M.jsx)("div",{className:"function"})]}),(0,M.jsx)(P.xk,{width:"100%",color:i.color,onChange:e=>{n({...i,color:"rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")")}),t.freeDrawingBrush.color="rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")")}}),(0,M.jsx)("p",{}),(0,M.jsx)("p",{children:(0,M.jsxs)("i",{children:[(0,M.jsx)("b",{children:R("Tip:")})," ",R("you can select and style each line you drew. Use <b>Shift + Click</b> to select multiple lines and\n      group them into one object.")]})})]})},H=(e,t)=>{let i,n,a,l=!1;e.on("mouse:down",(s=>{e.isDrawingLineMode&&(l=!0,n=e.getPointer(s.e),a=[n.x,n.y,n.x,n.y],i=new t.Line(a,{strokeWidth:2,stroke:"#000000"}),i.selectable=!1,i.evented=!1,i.strokeUniform=!0,e.add(i))})),e.on("mouse:move",(t=>{if(l){if(n=e.getPointer(t.e),t.e.shiftKey){const e=a[0],t=a[1],l=n.x-e,s=n.y-t,r=Math.sqrt(l*l+s*s);let o=Math.atan2(s,l)/Math.PI*180;o=15*parseInt((o+7.5)%360/15,2);const c=r*Math.cos(o*Math.PI/180),d=r*Math.sin(o*Math.PI/180);i.set({x2:c+e,y2:d+t})}else i.set({x2:n.x,y2:n.y});e.renderAll()}})),e.on("mouse:up",(()=>{l&&(i.setCoords(),l=!1,e.trigger("object:modified"))}))},q=(e,t,i,n,a)=>Math.abs(t-n)<=e&&Math.abs(i-a)<=e,W=(e,t)=>{let i,n,a,l,s,r=!1,o=!1,c=!1;e.on("mouse:down",(a=>{if(e.isDrawingPathMode){if(o=!0,r=!0,n=e.getPointer(a.e),!i)return i=new t.Path("M".concat(n.x," ").concat(n.y," L").concat(n.x," ").concat(n.y),{strokeWidth:2,stroke:"#000000",fill:!1}),i.selectable=!1,i.evented=!1,i.strokeUniform=!0,void e.add(i);if(i){i.path.push(["L",n.x,n.y]);const t=i._calcDimensions();i.set({width:t.width,height:t.height,left:t.left,top:t.top,pathOffset:{x:t.width/2+t.left,y:t.height/2+t.top},dirty:!0}),i.setCoords(),e.renderAll()}}})),e.on("mouse:move",(t=>{if(!e.isDrawingPathMode)return;if(!r)return;if(n=e.getPointer(t.e),c||(a=["L",n.x,n.y]),i.path.pop(),t.e.shiftKey&&!c){const e=[...i.path].pop(),t=e[1],l=e[2],s=n.x-t,r=n.y-l,o=Math.sqrt(s*s+r*r);let c=Math.atan2(r,s)/Math.PI*180;c=15*parseInt((c+7.5)%360/15,2);const d=o*Math.cos(c*Math.PI/180),u=o*Math.sin(c*Math.PI/180);a[1]=d+t,a[2]=u+l}if(i.path.length>1&&!c){const e=[...i.path];e.pop();for(const t of e){if(("L"===t[0]||"M"===t[0])&&q(10,n.x,n.y,t[1],t[2])){a[1]=t[1],a[2]=t[2];break}if("Q"===t[0]&&q(10,n.x,n.y,t[3],t[4])){a[1]=t[3],a[2]=t[4];break}}}if(o)if(!c&&i.path.length>1){c=!0;const e=i.path.pop();"Q"===e[0]?(a=["Q",e[3],e[4],e[3],e[4]],l=e[3],s=e[4]):(a=["Q",e[1],e[2],e[1],e[2]],l=e[1],s=e[2])}else if(c){const e=n.x-a[3],t=n.y-a[4];a=["Q",l-e,s-t,l,s]}i.path.push(a);const d=i._calcDimensions();i.set({width:d.width,height:d.height,left:d.left,top:d.top,pathOffset:{x:d.width/2+d.left,y:d.height/2+d.top},dirty:!0}),e.renderAll()})),e.on("mouse:up",(t=>{if(!e.isDrawingPathMode)return o=!1,void(c=!1);if(o=!1,c){n=e.getPointer(t.e),i.path.push(["L",n.x,n.y]);const a=i._calcDimensions();i.set({width:a.width,height:a.height,left:a.left,top:a.top,pathOffset:{x:a.width/2+a.left,y:a.height/2+a.top},dirty:!0}),i.setCoords(),e.renderAll()}c=!1}));const d=()=>{if(i.path.pop(),i.path.length>1){const e=i._calcDimensions();i.set({width:e.width,height:e.height,left:e.left,top:e.top,pathOffset:{x:e.width/2+e.left,y:e.height/2+e.top},dirty:!0})}else e.remove(i);e.renderAll(),e.trigger("object:modified"),i=null,r=!1};document.addEventListener("keydown",(e=>{if(!r)return;27===(e.which||e.keyCode)&&d()})),document.addEventListener("mousedown",(e=>{r&&(document.querySelector(".canvas-container").contains(e.target)||d())}))};const U=function(e){return(0,h.useEffect)((()=>{var t,i;if(e.canvas)return;const n=new L.fabric.Canvas("canvas-".concat(e.id)).setDimensions({width:(null===(t=e.size)||void 0===t?void 0:t.width)||200,height:(null===(i=e.size)||void 0===i?void 0:i.height)||200});n.originalW=n.width,n.originalH=n.height,L.fabric.Object.prototype.transparentCorners=!1,L.fabric.Object.prototype.cornerStyle="circle",L.fabric.Object.prototype.borderColor="#0097A7",L.fabric.Object.prototype.cornerColor="#0097A7",L.fabric.Object.prototype.cornerStrokeColor="#FFF",L.fabric.Object.prototype.padding=0,n.on("selection:created",(t=>e.setActiveSelection(t.target))),n.on("selection:updated",(t=>e.setActiveSelection(t.target))),n.on("selection:cleared",(()=>e.setActiveSelection(null))),n.on("object:rotating",(e=>{e.e.shiftKey?e.target.snapAngle=15:e.target.snapAngle=!1})),n.on("object:scaling",(t=>{const i=t.target;e.setSelectionInfo("".concat(R("width"),": ").concat(Math.round(i.getScaledWidth()),"px |\n       ").concat(R("height"),": ").concat(Math.round(i.getScaledHeight()),"px"))})),n.on("object:scaled",(()=>e.setSelectionInfo(null))),n.on("object:rotating",(()=>e.setSelectionInfo(R("Tip: hold Shift key for 15\xb0 angle jumps!")))),n.on("object:rotated ",(()=>e.setSelectionInfo(null))),n.on("object:moving",(e=>{const t=e.target;if(t.currentHeight>t.canvas.height||t.currentWidth>t.canvas.width)return;const i=t.getBoundingRect().width-20,n=t.getBoundingRect().height-20;t.setCoords(),(t.getBoundingRect().top<-n||t.getBoundingRect().left<-i)&&(t.top=Math.max(t.top,t.top-(t.getBoundingRect().top+n)),t.left=Math.max(t.left,t.left-(t.getBoundingRect().left+i))),(t.getBoundingRect().top+t.getBoundingRect().height>t.canvas.height+n||t.getBoundingRect().left+t.getBoundingRect().width>t.canvas.width+i)&&(t.top=Math.min(t.top,t.canvas.height-t.getBoundingRect().height+t.top-t.getBoundingRect().top+n),t.left=Math.min(t.left,t.canvas.width-t.getBoundingRect().width+t.left-t.getBoundingRect().left+i))})),document.addEventListener("keydown",(e=>{const t=e.which||e.keyCode;let i;document.querySelectorAll("textarea:focus, input:focus").length>0||(37!==t&&38!==t&&39!==t&&40!==t||(e.preventDefault(),i=n.getActiveObject(),i))&&(37===t?i.left-=1:39===t?i.left+=1:38===t?i.top-=1:40===t&&(i.top+=1),37!==t&&38!==t&&39!==t&&40!==t||(i.setCoords(),n.renderAll(),n.trigger("object:modified")))}));const a=e=>{"app"===e.target.id&&n.discardActiveObject().requestRenderAll()};document.addEventListener("mousedown",a),document.addEventListener("touchstart",a),document.addEventListener("keydown",(e=>{46===(e.which||e.keyCode)&&0===document.querySelectorAll("textarea:focus, input:focus").length&&(n.getActiveObjects().forEach((e=>{n.remove(e)})),n.discardActiveObject().requestRenderAll(),n.trigger("object:modified"))})),H(n,L.fabric),W(n,L.fabric),setTimeout((()=>{const t=[];t.push(n.toJSON()),e.setHistory({id:e.id,index:0,states:t})}),800),e.setCanvas(n)}),[e.canvas]),(0,M.jsxs)("div",{style:{position:"absolute",left:"calc(50% - 450px)",top:0,zIndex:e.isCanvasActive?"3":"1"},className:"canvas-holder",children:[(0,M.jsx)("canvas",{style:{pointerEvents:e.isDisabled?"none":"all"},id:"canvas-".concat(e.id)}),e.canvas&&(0,M.jsx)("div",{className:"canvas-info",children:e.selectionInfo})]})};let G;const Y=(e,t)=>{clearTimeout(G),G=setTimeout((()=>{t()}),e)},X=(e,t,i,n)=>{let a=e;if("percentage"!==n){const n=t/100,l=i/100;a={x1:e.x1/n/100,y1:e.y1/l/100,x2:e.x2/n/100,y2:e.y2/l/100}}const l=a.x2-a.x1,s=a.y2-a.y1,r=Math.atan2(s,l);return(Math.round(r*(180/Math.PI))+90+360)%360},K=(e,t,i,n)=>{let a;if("linear"===e.type){const l=(e=>{const t=-parseInt(e,10)*(Math.PI/180);return{x1:Math.round(50+50*Math.sin(t))/100,y1:Math.round(50+50*Math.cos(t))/100,x2:Math.round(50+50*Math.sin(t+Math.PI))/100,y2:Math.round(50+50*Math.cos(t+Math.PI))/100}})(e.angle);a=new n.Gradient({type:"linear",coords:{x1:l.x1*t,y1:l.y1*i,x2:l.x2*t,y2:l.y2*i},colorStops:e.colorStops})}return"radial"===e.type&&(a=new n.Gradient({type:"radial",coords:{x1:t/2,y1:i/2,r1:0,x2:t/2,y2:i/2,r2:t/2},colorStops:e.colorStops})),a},J=e=>{if(!e.current)return null;const t=e.current.getBoundingClientRect();return{x:t.x,y:t.y,width:t.width,height:t.height,xRight:t.x+t.width,yBottom:t.y+t.height,xCenter:t.x+t.width/2,yCenter:t.y+t.height/2}};const Z=function(e){const[t,i]=(0,h.useState)(!1),[n,a]=(0,h.useState)(0),[l,s]=(0,h.useState)(null),r=(0,h.useRef)(),o=(0,h.useRef)({});(0,h.useEffect)((()=>{e.gradient.reset&&(a(0),s(null))}),[e.gradient]),(0,h.useEffect)((()=>{const l=t=>{if(t.preventDefault(),!t.clientX&&!t.changedTouches)return;const l=J(r),s=t.clientX||t.changedTouches[0].clientX,c=t.clientY||t.changedTouches[0].clientY;let d=s<l.x?0:s-l.x;if(d=s>l.xRight?l.xRight-l.x:d,d=(d/(l.width/100)).toFixed(3),o.current[n].style.left="".concat(d,"%"),Math.abs(l.yCenter-c)>50&&e.gradient.colorStops.length>2){i(!1);const t=e.gradient.colorStops.filter((e=>e.id!==n));return e.onChange({...e.gradient,colorStops:t}),void a(!1)}const u=e.gradient.colorStops.map((e=>e.id===n?{...e,offset:Number(d/100)}:e));u.sort(((e,t)=>e.offset-t.offset)),e.onChange({...e.gradient,colorStops:u})},s=()=>{i(!1)};return t&&(document.addEventListener("mousemove",l),document.addEventListener("touchmove",l),document.addEventListener("mouseup",s),document.addEventListener("touchend",s)),()=>{document.removeEventListener("mousemove",l),document.removeEventListener("touchmove",l),document.removeEventListener("mouseup",s),document.removeEventListener("touchend",s)}}),[e,t,n]);const c=(t,n)=>{t.stopPropagation(),a(n),s(e.gradient.colorStops.find((e=>e.id===n)).color),i(!0)},d=t=>{let i=parseInt(t.target.value,2);Number.isInteger(i)&&(i=i>360?360:i,i=t.target.value<0?0:i,e.onChange({...e.gradient,angle:Math.round(i)}))};return(0,M.jsxs)("div",{className:"gradientpicker",children:[(0,M.jsxs)("div",{className:"palette",children:[(0,M.jsxs)("svg",{width:"100%",height:"100%",children:[(0,M.jsx)("defs",{children:(0,M.jsx)("linearGradient",{id:"grad",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:e.gradient.colorStops.map((e=>(0,M.jsx)("stop",{offset:Number(e.offset),style:{stopColor:e.color}},e.id)))})}),(0,M.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#grad)"})]}),(0,M.jsx)("div",{className:"stopholder",title:R("Drag up or down to remove"),ref:r,onMouseDown:t=>(t=>{if(t.preventDefault(),t.stopPropagation(),1!==t.nativeEvent.which)return;if(e.gradient.colorStops.length>4)return;const i=J(r),n=(t.clientX||t.changedTouches[0].clientX)-i.x,l=[...e.gradient.colorStops],s=Math.random().toString(36).substr(2,9);l.push({offset:Number((n/(i.width/100)/100).toFixed(3)),color:"rgba(0, 0, 0, 1)",id:s}),l.sort(((e,t)=>e.offset-t.offset)),e.onChange({...e.gradient,colorStops:l}),a(s)})(t),children:e.gradient.colorStops.map((e=>(0,M.jsx)("div",{id:e.id,ref:t=>o.current[e.id]=t,className:n===e.id?"stop active":"stop",onMouseDown:t=>c(t,e.id),onTouchStart:t=>c(t,e.id),style:{left:"".concat((100*e.offset).toFixed(3),"%")}},e.id)))})]}),h.cloneElement(e.children,{width:"100%",color:l||e.gradient.colorStops[0].color,onChange:t=>{s("rgba(".concat(t.rgb.r,", ").concat(t.rgb.g,", ").concat(t.rgb.b,", ").concat(t.rgb.a,")"));const i=e.gradient.colorStops.map((e=>e.id===n?{...e,color:"rgba(".concat(t.rgb.r,", ").concat(t.rgb.g,", ").concat(t.rgb.b,", ").concat(t.rgb.a,")")}:e));e.onChange({...e.gradient,colorStops:i})}}),(0,M.jsxs)("div",{className:"setting orientation",children:[(0,M.jsx)("div",{className:"label",children:R("Orientation")}),(0,M.jsx)("div",{className:"function",children:(0,M.jsxs)("div",{className:"button-2-options",children:[(0,M.jsx)("div",{className:"linear"===e.gradient.type?"option active":"option",onClick:()=>e.onChange({...e.gradient,type:"linear"}),children:R("Linear")}),(0,M.jsx)("div",{className:"radial"===e.gradient.type?"option active":"option",onClick:()=>e.onChange({...e.gradient,type:"radial"}),children:R("Radial")})]})})]}),"linear"===e.gradient.type&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("div",{className:"setting",children:[(0,M.jsx)("div",{className:"label",children:R("Angle")}),(0,M.jsx)("div",{className:"function",children:(0,M.jsxs)("div",{className:"button-amount",children:[(0,M.jsx)("div",{className:"decrease",onClick:()=>(()=>{const t=0===e.gradient.angle?360:e.gradient.angle-1;e.onChange({...e.gradient,angle:t})})(),children:"-"}),(0,M.jsx)("input",{onChange:e=>d(e),value:"".concat(e.gradient.angle,"\xb0"),type:"text",maxLength:"4"}),(0,M.jsx)("div",{className:"increase",onClick:()=>(()=>{const t=360===e.gradient.angle?0:e.gradient.angle+1;e.onChange({...e.gradient,angle:t})})(),children:"+"})]})})]}),(0,M.jsx)("div",{className:"setting",children:(0,M.jsx)("input",{type:"range",min:"0",max:"360",steps:"1",value:e.gradient.angle,onChange:e=>d(e)})})]})]})},$=(e,t)=>e.length>0?e.reduce(((e,i)=>(0,M.jsxs)(M.Fragment,{children:[e,t,i]}))):null;function Q(e){const[t,i]=(0,h.useState)(e.defaultTab||null);(0,h.useEffect)((()=>{i(e.defaultTab)}),[e.defaultTab]);return(0,M.jsxs)("div",{className:"tabs",children:[(0,M.jsx)("div",{className:"tablist",children:(()=>{const n=[];return e.children.forEach(((e,a)=>{const l=t===e.props.name||!t&&0===a?"button active":"button";n.push((0,M.jsx)("div",{className:l,onClick:()=>i(e.props.name),children:e.props.title}))})),$(n,(0,M.jsx)("div",{className:"sep",children:"|"}))})()}),(()=>{const i=[];return e.children.forEach(((e,n)=>{const a=t===e.props.name?"tab active":"tab";i.push((0,M.jsx)("div",{className:a,children:e.props.children},n))})),i})()]})}function ee(e){return(0,M.jsx)("div",{className:"tab",children:e.children})}const te=function(e){let{canvas:t,activeSelection:i}=e;const[n,a]=(0,h.useState)("rgba(255, 255, 0, 1)"),[l,s]=(0,h.useState)({type:"linear",angle:90,colorStops:[{offset:0,color:"rgba(0, 0, 0, 1)",id:0},{offset:1,color:"rgba(255, 0, 0, 1)",id:1}],reset:!0});return(0,h.useEffect)((()=>{if(i.fill){if(!i.fill.colorStops){const e=new L.fabric.Color(i.fill).getSource();a("rgba(".concat(e[0],", ").concat(e[1],", ").concat(e[2],", ").concat(e[3],")"))}if(i.fill.colorStops){const e=((e,t,i,n)=>{const a=e.colorStops.map(((e,t)=>{const i=new n.Color(e.color),a=e.opacity||i._source[3]||1;return{offset:e.offset,color:"rgba(".concat(i._source[0],", ").concat(i._source[1],", ").concat(i._source[2],", ").concat(a,")"),id:t}}));return a.sort(((e,t)=>e.offset-t.offset)),{type:e.type,angle:X(e.coords,t,i,e.gradientUnits),colorStops:a}})(i.fill,i.width,i.height,L.fabric);e.reset=!0,s(e)}}}),[i]),(0,M.jsxs)(Q,{defaultTab:i.fill&&i.fill.colorStops?"gradient":"color",children:[(0,M.jsx)(ee,{title:R("Color fill"),name:"color",children:(0,M.jsx)(P.xk,{width:"100%",color:n,onChange:e=>{a("rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")")),i.set("fill","rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")")),t.renderAll(),Y(1200,(()=>{t.trigger("object:modified")}))}})}),(0,M.jsx)(ee,{title:R("Gradient fill"),name:"gradient",children:(0,M.jsx)(Z,{gradient:l,onChange:e=>{const n=K(e,i.width,i.height,L.fabric);i.set("fill",n);const a={...e,reset:!1};s(a),t.renderAll(),Y(1200,(()=>{t.trigger("object:modified")}))},children:(0,M.jsx)(P.xk,{})})})]})};const ie=function(e){var t;let{canvas:i,activeSelection:n}=e;const[a,l]=(0,h.useState)({width:0,style:{strokeDashArray:[],strokeLineCap:"square"},corner:"",color:"rgba(0,0,0,1)"}),[s,r]=(0,h.useState)(!1);(0,h.useEffect)((()=>{const e={width:n.strokeWidth,style:{strokeDashArray:n.strokeDashArray,strokeLineCap:n.strokeLineCap},corner:n.strokeLineJoin,color:n.stroke};l(e)}),[n]);const o=(e,t)=>{let n=0;"decrease"===e&&(n=a.width,n=0===n?0:n-1),"increase"===e&&(n=a.width+1),("change"!==e||(n=parseInt(t,2),Number.isInteger(n)))&&(l({...a,width:n}),i.getActiveObjects().forEach((e=>{e.set({strokeUniform:!0,strokeWidth:n})})),i.renderAll(),i.trigger("object:modified"))};return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("div",{className:"setting",children:[(0,M.jsx)("div",{className:"label",children:"Width"}),(0,M.jsx)("div",{className:"function",children:(0,M.jsx)(I,{unit:"",value:a.width,handleDecrease:()=>o("decrease"),handleChange:e=>o("change",e.target.value),handleIncrease:()=>o("increase")})})]}),(0,M.jsxs)("div",{className:"setting",children:[(0,M.jsx)("div",{className:"label",children:"Style"}),(0,M.jsx)("div",{className:"function",children:(0,M.jsxs)(F,{activeOption:{strokeDashArray:null!==(t=a.style.strokeDashArray)&&void 0!==t?t:[],strokeLineCap:a.style.strokeLineCap},handleChange:e=>(e=>{l({...a,style:e}),i.getActiveObjects().forEach((t=>{t.set({strokeUniform:!0,strokeDashArray:e.strokeDashArray,strokeLineCap:e.strokeLineCap})})),i.renderAll(),i.trigger("object:modified")})(e),children:[(0,M.jsx)(B,{value:{strokeDashArray:[],strokeLineCap:"butt"},children:(0,M.jsx)("svg",{children:(0,M.jsx)("line",{x1:"0",y1:"2",x2:"100",y2:"2",stroke:"#000",strokeWidth:"4",strokeLinecap:"square"})})}),(0,M.jsx)(B,{value:{strokeDashArray:[1,10],strokeLineCap:"butt"},children:(0,M.jsx)("svg",{children:(0,M.jsx)("line",{x1:"0",y1:"2",x2:"100",y2:"2",stroke:"#000",strokeWidth:"4",strokeDasharray:"1, 10",strokeLinecap:"square"})})}),(0,M.jsx)(B,{value:{strokeDashArray:[1,10],strokeLineCap:"round"},children:(0,M.jsx)("svg",{children:(0,M.jsx)("line",{x1:"0",y1:"2",x2:"100",y2:"2",stroke:"#000",strokeWidth:"4",strokeDasharray:"1, 10",strokeLinecap:"round"})})}),(0,M.jsx)(B,{value:{strokeDashArray:[15,15],strokeLineCap:"square"},children:(0,M.jsx)("svg",{children:(0,M.jsx)("line",{x1:"0",y1:"2",x2:"100",y2:"2",stroke:"#000",strokeWidth:"4",strokeDasharray:"15",strokeLinecap:"square"})})}),(0,M.jsx)(B,{value:{strokeDashArray:[15,15],strokeLineCap:"round"},children:(0,M.jsx)("svg",{children:(0,M.jsx)("line",{x1:"0",y1:"2",x2:"100",y2:"2",stroke:"#000",strokeWidth:"4",strokeDasharray:"15",strokeLinecap:"round"})})}),(0,M.jsx)(B,{value:{strokeDashArray:[25,25],strokeLineCap:"square"},children:(0,M.jsx)("svg",{children:(0,M.jsx)("line",{x1:"0",y1:"2",x2:"100",y2:"2",stroke:"#000",strokeWidth:"4",strokeDasharray:"25",strokeLinecap:"square"})})}),(0,M.jsx)(B,{value:{strokeDashArray:[25,25],strokeLineCap:"round"},children:(0,M.jsx)("svg",{children:(0,M.jsx)("line",{x1:"0",y1:"2",x2:"100",y2:"2",stroke:"#000",strokeWidth:"4",strokeDasharray:"25",strokeLinecap:"round"})})}),(0,M.jsx)(B,{value:{strokeDashArray:[1,8,16,8,1,20],strokeLineCap:"square"},children:(0,M.jsx)("svg",{children:(0,M.jsx)("line",{x1:"2",y1:"2",x2:"100",y2:"2",stroke:"#000",strokeWidth:"4",strokeDasharray:"1 8 16 8 1 20",strokeLinecap:"square"})})}),(0,M.jsx)(B,{value:{strokeDashArray:[1,8,16,8,1,20],strokeLineCap:"round"},children:(0,M.jsx)("svg",{children:(0,M.jsx)("line",{x1:"2",y1:"2",x2:"100",y2:"2",stroke:"#000",strokeWidth:"4",strokeDasharray:"1 8 16 8 1 20",strokeLinecap:"round"})})})]})})]}),(0,M.jsxs)("div",{className:"setting",children:[(0,M.jsx)("div",{className:"label",children:R("Corner type")}),(0,M.jsx)("div",{className:"function",children:(0,M.jsxs)(F,{activeOption:a.corner,handleChange:e=>(e=>{l({...a,corner:e}),n.set("strokeLineJoin",e),i.renderAll(),i.trigger("object:modified")})(e),children:[(0,M.jsx)(B,{value:"miter",children:R("Square")}),(0,M.jsx)(B,{value:"round",children:R("Round")})]})})]}),(0,M.jsxs)("div",{className:"setting",children:[(0,M.jsx)("div",{className:"label",children:R("Color")}),(0,M.jsx)("div",{className:"function",children:(0,M.jsx)("div",{className:"input-color",children:(0,M.jsx)("div",{className:"color",onClick:()=>r(!s),children:(0,M.jsx)("div",{className:"fill",style:{backgroundColor:a.color}})})})}),(0,M.jsx)("div",{className:s?"picker-holder visible":"picker-holder",children:(0,M.jsx)(P.xk,{width:"100%",color:a.color||"rgba(0,0,0,0)",onChange:e=>{l({...a,color:"rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")")}),i.getActiveObjects().forEach((t=>{t.set("stroke","rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")"))})),i.renderAll(),Y(1200,(()=>{i.trigger("object:modified")}))}})})]})]})};const ne=function(e){const{handleClick:t,title:i,className:n,children:a}=e;return(0,M.jsx)("button",{onClick:t,title:i,className:n,type:"button",children:a})};var ae;function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},le.apply(this,arguments)}function se(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",le({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"-70 -70 450 450",xmlSpace:"preserve",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,ae||(ae=h.createElement("path",{d:"M218.133,144.853c20.587-14.4,35.2-37.653,35.2-59.52C253.333,37.227,216.107,0,168,0H34.667v298.667h150.187 c44.693,0,79.147-36.267,79.147-80.853C264,185.387,245.547,157.76,218.133,144.853z M98.667,53.333h64c17.707,0,32,14.293,32,32 s-14.293,32-32,32h-64V53.333z M173.333,245.333H98.667v-64h74.667c17.707,0,32,14.293,32,32S191.04,245.333,173.333,245.333z"})))}const re=h.forwardRef(se);i.p;var oe;function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ce.apply(this,arguments)}function de(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",ce({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"-70 -70 450 450",xmlSpace:"preserve",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,oe||(oe=h.createElement("polygon",{points:"106.667,0 106.667,64 153.92,64 80.747,234.667 21.333,234.667 21.333,298.667 192,298.667 192,234.667 144.747,234.667 217.92,64 277.333,64 277.333,0  "})))}const ue=h.forwardRef(de);i.p;var me,pe,he;function ge(){return ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ge.apply(this,arguments)}function fe(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",ge({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"-70 -70 450 450",xmlSpace:"preserve",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,me||(me=h.createElement("polygon",{points:"149.333,160 234.667,160 234.667,96 341.333,96 341.333,32 42.667,32 42.667,96 149.333,96"})),pe||(pe=h.createElement("rect",{x:149.333,y:288,width:85.333,height:64})),he||(he=h.createElement("rect",{x:0,y:202.667,width:384,height:42.667})))}const ve=h.forwardRef(fe);i.p;var xe,ye;function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},be.apply(this,arguments)}function je(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",be({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",xmlSpace:"preserve",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,xe||(xe=h.createElement("path",{d:"M248.257,256l103.986-103.758c2.777-2.771,4.337-6.532,4.337-10.455c0-3.923-1.561-7.684-4.337-10.455l-49.057-48.948 c-5.765-5.753-15.098-5.753-20.863,0L178.29,186.188L74.258,82.384c-5.764-5.751-15.098-5.752-20.863,0L4.337,131.333 C1.561,134.103,0,137.865,0,141.788c0,3.923,1.561,7.684,4.337,10.455L108.324,256L4.337,359.758 C1.561,362.528,0,366.29,0,370.212c0,3.923,1.561,7.684,4.337,10.455l49.057,48.948c5.765,5.753,15.098,5.753,20.863,0 l104.033-103.804l104.032,103.804c2.883,2.876,6.657,4.315,10.432,4.315s7.549-1.438,10.432-4.315l49.056-48.948 c2.777-2.771,4.337-6.532,4.337-10.455c0-3.923-1.561-7.684-4.337-10.455L248.257,256z"})),ye||(ye=h.createElement("path",{d:"M497.231,384.331h-44.973l35.508-31.887c14.878-13.36,20.056-34.18,13.192-53.04 c-6.874-18.89-23.565-31.044-43.561-31.717c-0.639-0.021-1.283-0.032-1.928-0.032c-31.171,0-56.531,25.318-56.531,56.439 c0,8.157,6.613,14.769,14.769,14.769c8.156,0,14.769-6.613,14.769-14.769c0-14.833,12.109-26.901,26.992-26.901 c0.316,0,0.631,0.005,0.937,0.016c11.573,0.39,15.78,9.511,16.795,12.297c2.163,5.946,1.942,14.574-5.171,20.962l-64.19,57.643 c-4.552,4.088-6.112,10.56-3.923,16.273c2.189,5.714,7.673,9.486,13.792,9.486h83.523c8.157,0,14.769-6.613,14.769-14.769 S505.387,384.331,497.231,384.331z"})))}const we=h.forwardRef(je);i.p;var Ae,Ee;function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ke.apply(this,arguments)}function Ce(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",ke({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",xmlSpace:"preserve",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,Ae||(Ae=h.createElement("path",{d:"M248.257,259.854l103.986-103.758c2.777-2.771,4.337-6.532,4.337-10.455c0-3.923-1.561-7.684-4.337-10.455l-49.057-48.948 c-5.765-5.753-15.098-5.753-20.863,0L178.29,190.042L74.258,86.238c-5.764-5.751-15.099-5.752-20.863,0L4.337,135.187 C1.561,137.958,0,141.719,0,145.642s1.561,7.684,4.337,10.455l103.986,103.758L4.337,363.612C1.561,366.383,0,370.145,0,374.067 c0,3.922,1.561,7.684,4.337,10.455l49.057,48.948c5.765,5.753,15.098,5.753,20.863,0l104.033-103.804l104.032,103.804 c2.883,2.876,6.657,4.315,10.432,4.315s7.549-1.438,10.432-4.315l49.056-48.948c2.777-2.771,4.337-6.532,4.337-10.455 s-1.561-7.684-4.337-10.455L248.257,259.854z"})),Ee||(Ee=h.createElement("path",{d:"M497.231,190.893h-44.973l35.508-31.887c14.878-13.36,20.056-34.18,13.192-53.04 c-6.874-18.89-23.565-31.044-43.561-31.717c-0.639-0.021-1.283-0.032-1.928-0.032c-31.171,0-56.531,25.318-56.531,56.439 c0,8.157,6.613,14.769,14.769,14.769c8.156,0,14.769-6.613,14.769-14.769c0-14.833,12.109-26.901,26.992-26.901 c0.316,0,0.631,0.005,0.937,0.016c11.573,0.39,15.78,9.511,16.795,12.297c2.163,5.946,1.942,14.574-5.171,20.962l-64.19,57.643 c-4.552,4.088-6.112,10.56-3.923,16.273c2.189,5.714,7.673,9.486,13.792,9.486h83.523c8.157,0,14.769-6.613,14.769-14.769 S505.387,190.893,497.231,190.893z"})))}const Se=h.forwardRef(Ce);i.p;var _e,Ne;function De(){return De=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},De.apply(this,arguments)}function ze(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",De({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"-70 -70 450 450",xmlSpace:"preserve",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,_e||(_e=h.createElement("path",{d:"M192,298.667c70.72,0,128-57.28,128-128V0h-53.333v170.667c0,41.28-33.387,74.667-74.667,74.667 s-74.667-33.387-74.667-74.667V0H64v170.667C64,241.387,121.28,298.667,192,298.667z"})),Ne||(Ne=h.createElement("rect",{x:42.667,y:341.333,width:298.667,height:42.667})))}const Oe=h.forwardRef(ze);i.p;const Le=function(e){let{canvas:t,activeSelection:i}=e;const[n,a]=(0,h.useState)(),[l,s]=(0,h.useState)(16),[r,o]=(0,h.useState)(20),[c,d]=(0,h.useState)(0),[u,m]=(0,h.useState)("left"),[p,g]=(0,h.useState)(!1),[f,v]=(0,h.useState)("rgba(0, 0, 0, 1)"),x=e=>{if(i.getSelectionStyles&&i.isEditing){const t=i.getSelectionStyles();return t.find((t=>""===t[e]))?"":t[0][e]}return i[e]||""},y=(e,n)=>{if(i.setSelectionStyles&&i.isEditing){const t={};t[e]=n,i.setSelectionStyles(t),i.setCoords()}else i.set(e,n);t.renderAll()},b=(e,i)=>{let n=0;"decrease"===e&&(n=0===l?0:l-1),"increase"===e&&(n=l+1),("change"!==e||(n=parseInt(i,2),Number.isInteger(n)))&&(s(n),y("fontSize",n),t.trigger("object:modified"))},j=(e,i)=>{let n=0,a=0;"decrease"===e&&(n=0===r?0:r-1),"increase"===e&&(n=r+1),("change"!==e||(n=parseInt(i,2),Number.isInteger(n)))&&(a=n/l,o(n),y("lineHeight",a),t.trigger("object:modified"))},w=(e,i)=>{let n=0,a=0;"decrease"===e&&(n=c-1),"increase"===e&&(n=c+1),("change"!==e||(n=parseInt(i,2),Number.isInteger(n)))&&(a=n/l*1e3,d(n),y("charSpacing",a),t.trigger("object:modified"))};return(0,h.useEffect)((()=>{if(!i||!i.getSelectionStyles)return;a(i.fontFamily),s(i.fontSize);const e=Math.floor(l*i.lineHeight);o(e);const t=Math.round(i.charSpacing/1e3*l);d(t),m(i.textAlign),g(i.fill)}),[i,l]),(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("div",{className:"setting flex flex small-buttons",children:[(0,M.jsx)(ne,{handleClick:()=>(y("fontWeight","bold"===x("fontWeight")?"":"bold"),void t.trigger("object:modified")),name:"bold",title:R("Bold"),children:(0,M.jsx)(re,{})}),(0,M.jsx)(ne,{handleClick:()=>(y("fontStyle","italic"===x("fontStyle")?"":"italic"),void t.trigger("object:modified")),name:"italic",title:R("Italic"),children:(0,M.jsx)(ue,{})}),(0,M.jsx)(ne,{handleClick:()=>(y("underline",!x("underline")),void t.trigger("object:modified")),name:"underline",title:R("Underline"),children:(0,M.jsx)(Oe,{})}),(0,M.jsx)(ne,{handleClick:()=>(y("linethrough",!x("linethrough")),void t.trigger("object:modified")),name:"linethrough",title:R("Linethrough"),children:(0,M.jsx)(ve,{})}),(0,M.jsx)(ne,{handleClick:()=>(x("deltaY")>0?(y("fontSize",void 0),y("deltaY",void 0)):(i.setSubscript(),t.renderAll()),void t.trigger("object:modified")),name:"subscript",title:R("Subscript"),children:(0,M.jsx)(we,{})}),(0,M.jsx)(ne,{handleClick:()=>(x("deltaY")<0?(y("fontSize",void 0),y("deltaY",void 0)):(i.setSuperscript(),t.renderAll()),void t.trigger("object:modified")),name:"superscript",title:R("Superscript"),children:(0,M.jsx)(Se,{})})]}),(0,M.jsx)("div",{children:"\xa0"}),(0,M.jsxs)("div",{className:"setting",children:[(0,M.jsx)("div",{className:"label",children:R("Font family")}),(0,M.jsx)("div",{className:"function",children:(0,M.jsxs)("select",{value:n,onChange:e=>(e=>{a(e.target.value),y("fontFamily",e.target.value),t.trigger("object:modified")})(e),children:[(0,M.jsx)("option",{value:""}),(0,M.jsx)("option",{value:"'Open Sans', sans-serif",children:"Open Sans"}),(0,M.jsx)("option",{value:"'Oswald', sans-serif",children:"Oswald"}),(0,M.jsx)("option",{value:"'Playfair Display', serif",children:"Playfair Display"}),(0,M.jsx)("option",{value:"'Cormorant Garamond', serif",children:"Cormorant Garamond"}),(0,M.jsx)("option",{value:"Impact, Charcoal, sans-serif",children:"Impact"}),(0,M.jsx)("option",{value:"'Lucida Console', Monaco, monospace",children:"Lucida Console"}),(0,M.jsx)("option",{value:"'Comic Sans MS', 'Comic Sans', cursive, sans-serif",children:"Comic Sans"}),(0,M.jsx)("option",{value:"'Dancing Script', cursive",children:"Dancing Script"}),(0,M.jsx)("option",{value:"'Indie Flower', cursive",children:"Indie Flower"}),(0,M.jsx)("option",{value:"'Amatic SC', cursive",children:"Amatic SC"}),(0,M.jsx)("option",{value:"'Permanent Marker', cursive",children:"Permanent Marker"})]})})]}),(0,M.jsxs)("div",{className:"setting",children:[(0,M.jsx)("div",{className:"label",children:R("Font size")}),(0,M.jsx)("div",{className:"function",children:(0,M.jsx)(I,{unit:"",value:l,handleDecrease:()=>b("decrease"),handleChange:e=>b("change",e.target.value),handleIncrease:()=>b("increase")})})]}),(0,M.jsxs)("div",{className:"setting",children:[(0,M.jsx)("div",{className:"label",children:R("Line height")}),(0,M.jsx)("div",{className:"function",children:(0,M.jsx)(I,{unit:"",value:r,handleDecrease:()=>j("decrease"),handleChange:e=>j("change",e.target.value),handleIncrease:()=>j("increase")})})]}),(0,M.jsxs)("div",{className:"setting",children:[(0,M.jsx)("div",{className:"label",children:R("Letter spacing")}),(0,M.jsx)("div",{className:"function",children:(0,M.jsx)(I,{unit:"",value:c,handleDecrease:()=>w("decrease"),handleChange:e=>w("change",e.target.value),handleIncrease:()=>w("increase")})})]}),(0,M.jsxs)("div",{className:"setting",children:[(0,M.jsx)("div",{className:"label",children:R("Text alignment")}),(0,M.jsx)("div",{className:"function",children:(0,M.jsxs)("select",{value:u,onChange:e=>(e=>{m(e.target.value),y("textAlign",e.target.value),t.trigger("object:modified")})(e),children:[(0,M.jsx)("option",{value:"left",children:R("Left")}),(0,M.jsx)("option",{value:"center",children:R("Center")}),(0,M.jsx)("option",{value:"right",children:R("Right")}),(0,M.jsx)("option",{value:"justify",children:R("Justify")})]})})]}),(0,M.jsxs)("div",{className:"setting",children:[(0,M.jsx)("div",{className:"label",children:R("Color")}),(0,M.jsx)("div",{className:"function",children:(0,M.jsx)("div",{className:"input-color",children:(0,M.jsx)("div",{className:"color",onClick:()=>v(!f),children:(0,M.jsx)("div",{className:"fill",style:{backgroundColor:p}})})})}),(0,M.jsx)("div",{className:f?"picker-holder visible":"picker-holder",children:(0,M.jsx)(P.xk,{width:"100%",color:p,onChange:e=>{g("rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")")),y("fill","rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")")),Y(1200,(()=>{t.trigger("object:modified")}))}})})]})]})};var Pe;function Te(){return Te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Te.apply(this,arguments)}function Re(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",Te({width:512,height:512,enableBackground:"new 0 0 16 16",viewBox:"0 0 16 20",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,Pe||(Pe=h.createElement("g",{transform:"matrix(0 1.5365 1.5385 0 -5.0769 1.5495)"},h.createElement("rect",{x:5,y:8,width:1,height:1}),h.createElement("rect",{x:7,y:8,width:1,height:1}),h.createElement("rect",{x:9,y:8,width:1,height:1}),h.createElement("rect",{x:1,y:8,width:1,height:1}),h.createElement("rect",{x:3,y:8,width:1,height:1}),h.createElement("path",{d:"M 1,2 5.5,6 10,2 Z M 7.37,3 5.5,4.662 3.63,3 Z"}),h.createElement("polygon",{points:"10 15 5.5 11 1 15"}))))}const Me=h.forwardRef(Re);i.p;var Ie;function Fe(){return Fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Fe.apply(this,arguments)}function Be(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",Fe({width:512,height:512,enableBackground:"new 0 0 16 16",viewBox:"0 0 16 20",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,Ie||(Ie=h.createElement("g",{transform:"matrix(1.5365 0 0 1.5385 -.45052 -3.0769)"},h.createElement("rect",{x:5,y:8,width:1,height:1}),h.createElement("rect",{x:7,y:8,width:1,height:1}),h.createElement("rect",{x:9,y:8,width:1,height:1}),h.createElement("rect",{x:1,y:8,width:1,height:1}),h.createElement("rect",{x:3,y:8,width:1,height:1}),h.createElement("path",{d:"M 1,2 5.5,6 10,2 Z M 7.37,3 5.5,4.662 3.63,3 Z"}),h.createElement("polygon",{points:"5.5 11 1 15 10 15"}))))}const Ve=h.forwardRef(Be);i.p;var He;function qe(){return qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},qe.apply(this,arguments)}function We(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",qe({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000",enableBackground:"new 0 0 1000 1000",xmlSpace:"preserve",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,He||(He=h.createElement("g",null,h.createElement("path",{d:"M10,10h686v686H10V10 M990,304v686H304V794h98v98h490V402h-98v-98H990z"}))))}const Ue=h.forwardRef(We);i.p;var Ge,Ye;function Xe(){return Xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Xe.apply(this,arguments)}function Ke(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",Xe({enableBackground:"new 0 0 1000 1000",viewBox:"0 0 1e3 1e3",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,Ge||(Ge=h.createElement("path",{d:"m990 990h-686v-686h686v686m-980-294v-686h686v680h-98v-582h-490v490h200v98z"})),Ye||(Ye=h.createElement("rect",{x:108.44,y:108,width:490,height:490,fill:"#fff"})))}const Je=h.forwardRef(Ke);i.p;var Ze;function $e(){return $e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},$e.apply(this,arguments)}function Qe(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",$e({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,Ze||(Ze=h.createElement("g",null,h.createElement("g",null,h.createElement("g",null,h.createElement("path",{d:"M42.667,256c0-59.52,35.093-110.827,85.547-134.827V75.2C53.653,101.44,0,172.48,0,256s53.653,154.56,128.213,180.8 v-45.973C77.76,366.827,42.667,315.52,42.667,256z"}),h.createElement("path",{d:"M320,64c-105.92,0-192,86.08-192,192s86.08,192,192,192s192-86.08,192-192S425.92,64,320,64z M320,405.333 c-82.347,0-149.333-66.987-149.333-149.333S237.653,106.667,320,106.667S469.333,173.653,469.333,256 S402.347,405.333,320,405.333z"}),h.createElement("polygon",{points:"341.333,170.667 298.667,170.667 298.667,234.667 234.667,234.667 234.667,277.333 298.667,277.333 298.667,341.333 341.333,341.333 341.333,277.333 405.333,277.333 405.333,234.667 341.333,234.667  "}))))))}const et=h.forwardRef(Qe);i.p;var tt,it,nt,at;function lt(){return lt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},lt.apply(this,arguments)}function st(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",lt({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,tt||(tt=h.createElement("g",null,h.createElement("g",null,h.createElement("path",{d:"M425.298,51.358h-91.455V16.696c0-9.22-7.475-16.696-16.696-16.696H194.855c-9.22,0-16.696,7.475-16.696,16.696v34.662 H86.704c-9.22,0-16.696,7.475-16.696,16.696v51.357c0,9.22,7.475,16.696,16.696,16.696h5.072l15.26,359.906 c0.378,8.937,7.735,15.988,16.68,15.988h264.568c8.946,0,16.302-7.051,16.68-15.989l15.259-359.906h5.073 c9.22,0,16.696-7.475,16.696-16.696V68.054C441.994,58.832,434.519,51.358,425.298,51.358z M211.551,33.391h88.9v17.967h-88.9 V33.391z M372.283,478.609H139.719l-14.522-342.502h261.606L372.283,478.609z M408.602,102.715c-15.17,0-296.114,0-305.202,0 V84.749h305.202V102.715z"})))),it||(it=h.createElement("g",null,h.createElement("g",null,h.createElement("path",{d:"M188.835,187.304c-9.22,0-16.696,7.475-16.696,16.696v206.714c0,9.22,7.475,16.696,16.696,16.696 c9.22,0,16.696-7.475,16.696-16.696V204C205.53,194.779,198.055,187.304,188.835,187.304z"})))),nt||(nt=h.createElement("g",null,h.createElement("g",null,h.createElement("path",{d:"M255.998,187.304c-9.22,0-16.696,7.475-16.696,16.696v206.714c0,9.22,7.474,16.696,16.696,16.696 c9.22,0,16.696-7.475,16.696-16.696V204C272.693,194.779,265.218,187.304,255.998,187.304z"})))),at||(at=h.createElement("g",null,h.createElement("g",null,h.createElement("path",{d:"M323.161,187.304c-9.22,0-16.696,7.475-16.696,16.696v206.714c0,9.22,7.475,16.696,16.696,16.696 s16.696-7.475,16.696-16.696V204C339.857,194.779,332.382,187.304,323.161,187.304z"})))))}const rt=h.forwardRef(st);i.p;var ot,ct;function dt(){return dt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},dt.apply(this,arguments)}function ut(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",dt({width:248,height:249,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 248 249",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,ot||(ot=h.createElement("g",null,h.createElement("rect",{fill:"none",id:"canvas_background",height:251,width:250,y:-1,x:-1}),h.createElement("g",{display:"none",overflow:"visible",y:0,x:0,height:"100%",width:"100%",id:"canvasGrid"},h.createElement("rect",{fill:"url(#gridpattern)",strokeWidth:0,y:0,x:0,height:"100%",width:"100%"})))),ct||(ct=h.createElement("g",null,h.createElement("rect",{id:"svg_1",height:213.999997,width:213.999997,y:18.040149,x:16.8611,strokeWidth:14,stroke:"#000",fill:"none"}),h.createElement("ellipse",{ry:39.5,rx:39.5,id:"svg_2",cy:87.605177,cx:90.239139,strokeOpacity:"null",strokeWidth:5,stroke:"#000",fill:"#000000"}),h.createElement("rect",{id:"svg_3",height:61.636373,width:61.636373,y:135.606293,x:133.750604,strokeOpacity:"null",strokeWidth:5,stroke:"#000",fill:"#000000"}),h.createElement("rect",{id:"svg_4",height:26.016205,width:26.016205,y:4.813006,x:3.999997,strokeOpacity:"null",strokeWidth:8,stroke:"#000",fill:"#000000"}),h.createElement("rect",{id:"svg_5",height:26.016205,width:26.016205,y:3.999999,x:217.820703,strokeOpacity:"null",strokeWidth:8,stroke:"#000",fill:"#000000"}),h.createElement("rect",{id:"svg_7",height:26.016205,width:26.016205,y:218.633712,x:3.999997,strokeOpacity:"null",strokeWidth:8,stroke:"#000",fill:"#000000"}),h.createElement("rect",{id:"svg_8",height:26.016205,width:26.016205,y:218.633712,x:217.820694,strokeOpacity:"null",strokeWidth:8,stroke:"#000",fill:"#000000"}))))}const mt=h.forwardRef(ut);i.p;var pt,ht;function gt(){return gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},gt.apply(this,arguments)}function ft(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",gt({width:247.99999999999997,height:248.99999999999997,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 248 249",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,pt||(pt=h.createElement("g",null,h.createElement("rect",{fill:"none",id:"canvas_background",height:251,width:250,y:-1,x:-1}),h.createElement("g",{display:"none",overflow:"visible",y:0,x:0,height:"100%",width:"100%",id:"canvasGrid"},h.createElement("rect",{fill:"url(#gridpattern)",strokeWidth:0,y:0,x:0,height:"100%",width:"100%"})))),ht||(ht=h.createElement("g",null,h.createElement("rect",{strokeDasharray:20,id:"svg_1",height:213.999997,width:213.999997,y:18.040149,x:16.8611,strokeWidth:16,stroke:"#000",fill:"none"}),h.createElement("ellipse",{ry:39.5,rx:39.5,id:"svg_2",cy:87.605177,cx:90.239139,strokeOpacity:"null",strokeWidth:5,stroke:"#000",fill:"#000000"}),h.createElement("rect",{id:"svg_3",height:61.636373,width:61.636373,y:135.606293,x:133.750604,strokeOpacity:"null",strokeWidth:5,stroke:"#000",fill:"#000000"}))))}const vt=h.forwardRef(ft);i.p;const xt=function(e){let{canvas:t,activeSelection:i}=e;return(0,M.jsxs)("div",{className:"setting flex small-buttons",children:[(0,M.jsx)(ne,{name:"flip-h",title:R("Flip horizontally"),handleClick:()=>(i.set("flipX",!i.flipX),t.renderAll(),void t.trigger("object:modified")),children:(0,M.jsx)(Me,{})}),(0,M.jsx)(ne,{name:"flip-v",title:R("Flip vertically"),handleClick:()=>(i.set("flipY",!i.flipY),t.renderAll(),void t.trigger("object:modified")),children:(0,M.jsx)(Ve,{})}),(0,M.jsx)(ne,{name:"bring-fwd",title:R("Bring object forwards"),handleClick:()=>(t.bringForward(i),t.renderAll(),void t.trigger("object:modified")),children:(0,M.jsx)(Ue,{})}),(0,M.jsx)(ne,{name:"bring-back",title:R("Bring object backwards"),handleClick:()=>(t.sendBackwards(i),t.renderAll(),void t.trigger("object:modified")),children:(0,M.jsx)(Je,{})}),(0,M.jsx)(ne,{name:"duplicate",title:R("Duplicate"),handleClick:()=>(()=>{const e=[],i=t.getActiveObjects();if(i.forEach((n=>{n.clone((a=>{t.add(a.set({strokeUniform:!0,left:n.aCoords.tl.x+20,top:n.aCoords.tl.y+20})),1===i.length&&t.setActiveObject(a),e.push(a)}))})),e.length>1){const i=new L.fabric.ActiveSelection(e,{canvas:t});t.setActiveObject(i)}t.requestRenderAll(),t.trigger("object:modified")})(),children:(0,M.jsx)(et,{})}),(0,M.jsx)(ne,{name:"remove",title:R("Remove"),handleClick:()=>(t.getActiveObjects().forEach((e=>{t.remove(e)})),t.discardActiveObject().requestRenderAll(),void t.trigger("object:modified")),children:(0,M.jsx)(rt,{})}),(0,M.jsx)(ne,{name:"group",title:R("Group selected objects"),handleClick:()=>{"activeSelection"===i.type&&(t.getActiveObject().toGroup(),t.requestRenderAll(),t.trigger("object:modified"))},children:(0,M.jsx)(mt,{})}),(0,M.jsx)(ne,{name:"ungroup",title:R("Ungroup selected objects"),handleClick:()=>{"group"===i.type&&(t.getActiveObject().toActiveSelection(),t.requestRenderAll(),t.trigger("object:modified"))},children:(0,M.jsx)(vt,{})})]})};const yt=function(e){let{canvas:t,activeSelection:i}=e;const[n,a]=(0,h.useState)({opacity:100,blur:0,brightness:50,saturation:50,gamma:{r:45,g:45,b:45}});(0,h.useEffect)((()=>{const e={opacity:100,blur:0,brightness:50,saturation:50,gamma:{r:45,g:45,b:45}};e.opacity=100*i.opacity;const t=i.filters.find((e=>e.blur));t&&(e.blur=100*t.blur);const n=i.filters.find((e=>e.brightness));n&&(e.brightness=(n.brightness+1)/2*100);const l=i.filters.find((e=>e.saturation));l&&(e.saturation=(l.saturation+1)/2*100);const s=i.filters.find((e=>e.gamma));s&&(e.gamma.r=Math.round(s.gamma[0]/.022),e.gamma.g=Math.round(s.gamma[1]/.022),e.gamma.b=Math.round(s.gamma[2]/.022)),a(e)}),[i]);const l=(e,l)=>{l=parseInt(l,2);const s={...n};switch(e){case"gamma.r":s.gamma.r=l;break;case"gamma.g":s.gamma.g=l;break;case"gamma.b":s.gamma.b=l;break;default:s[e]=l}a(s);const r=[];n.blur>0&&r.push(new L.fabric.Image.filters.Blur({blur:n.blur/100})),50!==n.brightness&&r.push(new L.fabric.Image.filters.Brightness({brightness:n.brightness/100*2-1})),50!==n.saturation&&r.push(new L.fabric.Image.filters.Saturation({saturation:n.saturation/100*2-1})),45===n.gamma.r&&45===n.gamma.g&&45===n.gamma.b||r.push(new L.fabric.Image.filters.Gamma({gamma:[Math.round(.022*n.gamma.r*10)/10,Math.round(.022*n.gamma.g*10)/10,Math.round(.022*n.gamma.b*10)/10]})),i.filters=r,i.applyFilters(),t.renderAll(),Y(1200,(()=>{t.trigger("object:modified")}))};return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("div",{className:"setting",children:[(0,M.jsx)("div",{className:"label",children:R("Opacity")}),(0,M.jsx)("div",{className:"function",children:(0,M.jsx)("input",{type:"range",min:"0",max:"100",steps:"1",onChange:e=>{return l=e.target.value,a({...n,opacity:l}),i.set("opacity",l/100),t.renderAll(),void Y(1200,(()=>{t.trigger("object:modified")}));var l},value:n.opacity})})]}),(0,M.jsxs)("div",{className:"setting",children:[(0,M.jsx)("div",{className:"label",children:R("Blur")}),(0,M.jsx)("div",{className:"function",children:(0,M.jsx)("input",{type:"range",min:"0",max:"100",steps:"1",onChange:e=>l("blur",e.target.value),value:n.blur})})]}),(0,M.jsxs)("div",{className:"setting",children:[(0,M.jsx)("div",{className:"label",children:R("Brightness")}),(0,M.jsx)("div",{className:"function",children:(0,M.jsx)("input",{type:"range",min:"0",max:"100",steps:"1",onChange:e=>l("brightness",e.target.value),value:n.brightness})})]}),(0,M.jsxs)("div",{className:"setting",children:[(0,M.jsx)("div",{className:"label",children:R("Saturation")}),(0,M.jsx)("div",{className:"function",children:(0,M.jsx)("input",{type:"range",min:"0",max:"100",steps:"1",onChange:e=>l("saturation",e.target.value),value:n.saturation})})]}),(0,M.jsxs)("div",{className:"setting",children:[(0,M.jsx)("div",{className:"label",children:R("Gamma")}),(0,M.jsx)("div",{className:"function"}),(0,M.jsxs)("div",{className:"label",children:["\xa0\xa0\xa0",R("Red")]}),(0,M.jsx)("div",{className:"function",children:(0,M.jsx)("input",{type:"range",min:"0",max:"100",steps:"1",onChange:e=>l("gamma.r",e.target.value),value:n.gamma.r})}),(0,M.jsxs)("div",{className:"label",children:["\xa0\xa0\xa0",R("Green")]}),(0,M.jsx)("div",{className:"function",children:(0,M.jsx)("input",{type:"range",min:"0",max:"100",steps:"1",onChange:e=>l("gamma.g",e.target.value),value:n.gamma.g})}),(0,M.jsxs)("div",{className:"label",children:["\xa0\xa0\xa0",R("Blue")]}),(0,M.jsx)("div",{className:"function",children:(0,M.jsx)("input",{type:"range",min:"0",max:"100",steps:"1",onChange:e=>l("gamma.b",e.target.value),value:n.gamma.b})})]})]})};const bt=function(e){let{canvas:t,activeSelection:i}=e;return(0,M.jsxs)(M.Fragment,{children:["image"!==i.type&&"line"!==i.type&&"activeSelection"!==i.type&&"group"!==i.type&&"textbox"!==i.type&&(0,M.jsx)(te,{canvas:t,activeSelection:i}),"textbox"===i.type&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("p",{className:"subtitle",children:R("Font style")}),(0,M.jsx)(Le,{canvas:t,activeSelection:i})]}),"group"!==i.type&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("p",{className:"subtitle",children:R("Border")}),(0,M.jsx)(ie,{canvas:t,activeSelection:i})]}),(0,M.jsx)("p",{className:"subtitle",children:R("Object options")}),(0,M.jsx)(xt,{canvas:t,activeSelection:i}),"image"===i.type&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("p",{className:"subtitle",children:R("Effects")}),(0,M.jsx)(yt,{canvas:t,activeSelection:i})]})]})};const jt=i.p+"static/media/sad-smiley.a066d461185971758f09615119307e47.svg",wt=document.createElement("div");wt.innerHTML='<p style="line-height: 26px; margin-top: 100px; font-size: 16px; color: #555">\n  '.concat(R("Your browser is out of date!"),"<br />").concat(R("Please update to a modern browser, for example:"),' <a href="https://www.google.com/chrome/" target="_blank">Chrome</a>!</p>\n  <img src="').concat(jt,'"\n  style="max-width: 300px; width: 100%; display: block; margin: 0 auto; opacity: 0.4" />'),wt.setAttribute("style","position: fixed; z-index: 1000; width: 100%; height: 100%; top: 0; left: 0;\n  background-color: #f9f9f9; text-align: center; color: #555;");const At=document.createElement("div");At.style.display="grid";const Et="grid"===At.style.display,kt=document.createElement("div");kt.style.display="flex";const Ct="flex"===kt.style.display;Et&&Ct||document.body.appendChild(wt);i(22580);var St;function _t(e){const{id:t,size:i,setActiveCanvas:n,activeTool:a,setActiveTool:l,activeSelection:s,setActiveSelection:r,canvasData:o,isDisabled:c,undoRef:d,redoRef:u,isCanvasActive:m}=e,[p,g]=h.useState(),[f,v]=h.useState(!1),[x,y]=h.useState(null),[b,j]=h.useState({index:null,states:[]});h.useEffect((()=>{p&&!m&&p.discardActiveObject().renderAll()}),[m]),h.useEffect((()=>{if(d){const e=d.current;e&&(e.style.color=b.index&&0!==b.index?"#000":"#777")}if(u){const e=u.current;e&&(e.style.color=b.index<b.states.length-1?"#000":"#777")}}),[p,b,d,u]),h.useEffect((()=>{const e=()=>{p&&((e,t,i)=>{const n=0===t.index?0:t.index-1;e.loadFromJSON(t.states[n],e.renderAll.bind(e)),i({index:n,states:[...t.states]})})(p,b,j)};if(d){const t=d.current;if(t)return t.addEventListener("click",e),()=>{t.removeEventListener("click",e)}}}),[p,d,p,b,m]),h.useEffect((()=>{const e=()=>{p&&((e,t,i)=>{if(t.index===t.states.length-1)return;const n=t.index+1;e.loadFromJSON(t.states[n],e.renderAll.bind(e)),i({index:n,states:[...t.states]})})(p,b,j)};if(u){const t=u.current;if(t)return t.addEventListener("click",e),()=>{t.removeEventListener("click",e)}}}),[p,b,m,u]),h.useEffect((()=>{p&&(p.setHeight(i.height),p.setWidth(i.width),p.renderAll())}),[i]);return h.useEffect((()=>{if(!p)return;const e=()=>{const e=[...b.states];b.index<b.states.length-1&&e.splice(b.index+1),e.push(p.toJSON()),e.length>30&&e.shift(),j({index:e.length-1,states:e})};return p.on("object:modified",e),p.on("path:created",e),()=>{p.off("object:modified",e),p.off("path:created",e)}}),[p,b]),h.useEffect((()=>{p&&!f&&o&&o.id===t&&(p.loadFromJSON(o.data,p.renderAll.bind(p)),v(!0))}),[o,f,p,t]),h.useEffect((()=>{s&&(l("select"),document.querySelector(".toolpanel .holder").scrollTop=0)}),[s]),h.useEffect((()=>{p&&("select"!==a&&p.discardActiveObject().requestRenderAll(),((e,t)=>{e.set("isDrawingMode",!1),e.set("isDrawingLineMode",!1),e.set("isDrawingPathMode",!1),e.set("isDrawingTextMode",!1),e.defaultCursor="default",e.selection=!0,e.forEachObject((e=>{e.selectable=!0,e.evented=!0})),"draw"===t&&e.set("isDrawingMode",!0),"line"===t&&(e.isDrawingLineMode=!0,e.defaultCursor="crosshair",e.selection=!1,e.forEachObject((e=>{e.selectable=!1,e.evented=!1}))),"path"===t&&(e.isDrawingPathMode=!0,e.defaultCursor="crosshair",e.selection=!1,e.forEachObject((e=>{e.selectable=!1,e.evented=!1}))),"textbox"===t&&(e.isDrawingTextMode=!0,e.defaultCursor="crosshair",e.selection=!1,e.forEachObject((e=>{e.selectable=!1,e.evented=!1})))})(p,a))}),[p,a]),(0,M.jsx)("div",{onClick:()=>n({id:t,data:p}),children:(0,M.jsx)(U,{id:t,size:i,canvas:p,setCanvas:g,setActiveSelection:r,selectionInfo:x,setSelectionInfo:y,isDisabled:c,isCanvasActive:m,setHistory:j})})}function Nt(e){let{activeCanvas:t,activeTool:i,activeSelection:n,undoRef:a,redoRef:l}=e;return(0,M.jsxs)(M.Fragment,{children:[["draw","line","select"].includes(i)&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("p",{className:"title",children:R(i)}),(0,M.jsxs)(Dt,{children:[(0,M.jsx)("div",{children:"Undo/Redo"}),(0,M.jsxs)("div",{children:[(0,M.jsx)("div",{role:"button",ref:a,children:(0,M.jsx)(D.A,{size:32})}),(0,M.jsx)("div",{role:"button",ref:l,children:(0,M.jsx)(z.A,{size:32})})]})]})]}),n&&(0,M.jsx)(bt,{canvas:null===t||void 0===t?void 0:t.data,activeSelection:n}),"draw"===i&&(null===t||void 0===t?void 0:t.data)&&(0,M.jsx)(V,{canvas:null===t||void 0===t?void 0:t.data})]})}const Dt=O.Ay.div(St||(St=(0,n.A)(["\n  display: flex;\n  align-items: center;\n  gap: 64px;\n  padding: 16px 0;\n  > div {\n    display: flex;\n    align-items: center;\n    gap: 16px;\n    justify-self: flex-start;\n  }\n  > div > div {\n    font-size: 24px;\n    cursor: pointer;\n    user-select: none;\n  }\n"])));var zt=i(98581),Ot=i(93998),Lt=i(54515),Pt=i(15660),Tt=i(16455),Rt=i(7537),Mt=i(47141),It=i(28429),Ft=i(42074),Bt=i(9774),Vt=i(79378),Ht=i(75660),qt=i(70159),Wt=i(68265),Ut=i(29796),Gt=i(26195),Yt=i(5755),Xt=i(70880),Kt=i(44070),Jt=i(55067);const Zt=[{key:"reply",icon:(0,M.jsx)(Bt.A,{}),label:(0,M.jsx)(f.A,{id:"common.reply"})},{key:"delete",icon:(0,M.jsx)(Kt.A,{}),danger:!0,label:(0,M.jsx)(f.A,{id:"common.delete"})}];const $t=function(e){let{hideReply:t,hideDelete:i,handleClick:n=(()=>{})}=e;return t&&i?null:(0,M.jsx)(c.A,{placement:"bottomLeft",trigger:["click"],menu:{items:Zt,onClick:e=>{let{key:t}=e;n({key:t})}},children:(0,M.jsx)(Jt.A,{onClick:e=>e.stopPropagation()})})};var Qt=i(55902),ei=i(37413),ti=i(45182);const ii=function(e){const{comment:t,form:i,index:n,handleSubmit:a,cancelComment:l,addComment:c,inputRef:d,submitting:u}=e,{isNew:m,privacy:p}=t;return m||"private"!==p?(0,M.jsx)("div",{className:"commentFooter",children:(0,M.jsxs)(Wt.A,{form:i,onFinish:()=>a(t,n),children:[(0,M.jsx)(Wt.A.Item,{name:"reply",rules:[{required:!0,message:(0,M.jsx)(f.A,{id:m?"req.message":"req.reply"})},{whitespace:!0,message:(0,M.jsx)(f.A,{id:"err.blankSpace"})}],children:(0,M.jsx)(Qt.A.TextArea,{rows:m?2:1,ref:d,autoFocus:!0,placeholder:m?"":(0,ti.A)("common.reply")})}),(0,M.jsxs)("div",{className:"commentControls",children:[(0,M.jsx)(o.Ay,{loading:"text"===u,htmlType:"submit",type:"primary",children:(0,M.jsx)(f.A,{id:"common.".concat(m?"save":"reply")})}),(0,M.jsx)(o.Ay,{onClick:()=>l(t,n),children:(0,M.jsx)(f.A,{id:"common.cancel"})}),(0,M.jsx)("div",{className:"sapce"}),(0,M.jsx)(ei.A,{loading:"voice"===u,onComplete:e=>c({val:e,comment:t,inputType:"voice",index:n})}),m&&(0,M.jsx)(Wt.A.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.privacy!==t.privacy,children:e=>{let{getFieldValue:t}=e;const i=t("privacy")?"public":"private";return(0,M.jsx)(s.A,{placement:"bottomRight",title:(0,M.jsx)(f.A,{id:"common.clickTo",values:{val:(0,M.jsx)(f.A,{id:"common.".concat(i)})}}),children:(0,M.jsx)(Wt.A.Item,{name:"privacy",valuePropName:"checked",children:(0,M.jsx)(r.A,{size:"small"})})})}})]})]})}):null};function ni(e,t){const{pageSize:i,pageNumber:n,docId:a="",comments:l,setComments:r,uData:o={},isMobile:c=!1,zoom:d}=e,m=(0,g.useDispatch)(),y=(0,h.useRef)(null),[b]=Wt.A.useForm(),j="append-div",w=(0,g.useSelector)((e=>{var t,i;return null===(t=e.sidenotes.ui)||void 0===t||null===(i=t.docs[j])||void 0===i?void 0:i.selectedSidenote})),[A,E]=(0,h.useState)({comments:l.filter((e=>e.page_id===n))}),{comments:k}=A,S=(null===i||void 0===i?void 0:i.width)||900,N=(null===i||void 0===i?void 0:i.height)||1272,D=e=>"comment_".concat(n,"_").concat(e),z=(0,h.useCallback)((()=>m((0,qt.deselectSidenote)(j))),[]),O=(0,h.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return m((0,qt.selectSidenote)(j,e))}),[]),L=(0,h.useCallback)((()=>m((0,qt.repositionSidenotes)(j))),[]),P=(0,h.useCallback)((e=>m((0,qt.disconnectSidenote)(j,e))),[]);async function T(e){try{(await(0,v.Ay)("file/delete-comment",e,"POST")).success||(0,C.A)("error")}catch(t){(0,C.A)("error")}}function R(e,t){const i=D(e.id);if(e.isNew){const e=(0,u.isArray)(k)?(0,u.cloneDeep)(k):[];e.splice(t,1),P(i),O(null),E((t=>({...t,comments:e})))}else z()}function I(){const e=(0,u.findIndex)(k,(e=>e.id&&e.id.toString().indexOf("_new")>-1));e>-1&&R(k[e],e)}function F(e){let{x:t,y:i}=e;const n=(0,u.isArray)(k)?(0,u.cloneDeep)(k):[],a="".concat(Math.floor(600*Math.random()),"_new");n.push({id:a,picture:o.picture,name:(0,x.dS)(o.first_name,o.last_name),email:o.email,message:a.toString(),position:{y:i,x:t,cWidth:S,cHeight:N},isNew:!0}),E((e=>({...e,comments:n}))),setTimeout((()=>{O(D(a))}),200)}async function B(e){const t=(0,u.cloneDeep)(e);t.forEach((e=>e.page_id=n)),await r([...l.filter((e=>e.page_id!==n)),...t])}async function V(e){let{val:t,comment:i,inputType:l="text",index:s}=e;if(A.submitting)return;const r=b.getFieldValue("privacy"),c=!i.isNew,d=new FormData;c&&d.append("comment_id",i.id),d.append("document_id",a),d.append("page_id",n),d.append("type",l||"text"),d.append("privacy",r?"private":"public"),d.append("position",JSON.stringify((null===i||void 0===i?void 0:i.position)||{})),d.append("message",t),E((e=>({...e,submitting:l})));try{const e=await(0,v.Ay)("file/add-sticky-comment",d,"POST",{},!0),t=(0,u.isArray)(k)?(0,u.cloneDeep)(k):[];let i="";if(e.success){const n=e.data||{};c?(t[s].replies||(t[s].replies=[]),t[s].replies.push({name:(0,x.dS)(o.first_name,o.last_name),email:o.email,picture:o.picture,id:n.id,createdat:n.createdat,type:n.type,message:n.message||""}),null!==y&&void 0!==y&&y.current&&y.current.focus()):(i=D(t[s].id),t[s].createdat=n.createdat,t[s].privacy=n.privacy,t[s].id=n.id,t[s].type=n.type,t[s].message=n.message||"",t[s].isNew=!1),b.resetFields(),E((e=>({...e,comments:t,submitting:!1}))),B(t),c&&setTimeout((()=>{L()}),300),P(i),O(null)}else E((e=>({...e,submitting:!1}))),(0,C.A)("error",e.message)}catch(m){E((e=>({...e,submitting:!1}))),(0,C.A)("error")}}function H(e,t){var i,l,s,r;const o=(null===e||void 0===e||null===(i=e.position)||void 0===i?void 0:i.cWidth)||S,u=(null===e||void 0===e||null===(l=e.position)||void 0===l?void 0:l.cHeight)||N,m=((null===e||void 0===e||null===(s=e.position)||void 0===s?void 0:s.y)||1)*(N/u)*d,p=((null===e||void 0===e||null===(r=e.position)||void 0===r?void 0:r.x)||1)*(S/o)*d;return e?(0,M.jsx)("div",{style:{position:"absolute",top:m,left:p,zIndex:11},children:(0,M.jsx)(Gt.InlineAnchor,{sidenote:D(e.id),children:(0,M.jsxs)("span",{className:"commentBtn",tabIndex:-1,onKeyPress:()=>{},role:"button",onClick:i=>{if(i.preventDefault(),c){const i={...e,index:t,docId:a,pageId:n};(0,_.A)({type:"view-comment",data:i})}},children:[(0,M.jsx)(Bt.A,{}),(0,M.jsx)("span",{className:"commentTrack",style:{width:S*d-p-25}})]})})},e.id):null}function q(e){return"voice"===e.type?(0,M.jsx)("audio",{className:"w100",controls:"controls",src:e.message}):e.message?e.message.split("\n").map(((e,t)=>(0,M.jsx)("span",{className:"block",children:e},t))):""}function W(e){let{comment:t,commentIndex:i,type:n,replyIndex:a,fromReply:l=!1}=e;const{isNew:r,name:c,first_name:d,last_name:m,email:h,picture:g,privacy:v}=t;return(0,M.jsxs)("div",{className:"commentThreadMain",children:[(0,M.jsxs)("div",{className:"commentHeader",children:[(0,M.jsx)(Ut.A,{src:g,icon:(0,M.jsx)(Vt.A,{})}),(0,M.jsxs)("div",{className:"commentAuthor",children:[(0,M.jsx)("h4",{children:c||(0,x.dS)(d,m)||""}),(0,M.jsx)("p",{children:h||""})]}),!r&&!l&&(0,M.jsx)("div",{className:"commentAction",children:(0,M.jsx)("div",{children:(0,M.jsx)($t,{hideReply:"reply"===n||"private"===v,hideDelete:t.email!==o.email,handleClick:e=>function(e){let{key:t="",comment:i,ci:n=-1,ri:a=-1}=e;const l=D(i.id);if("reply"===t&&(l!==w&&O(l),w&&y.current&&setTimeout((()=>{y.current.focus()}),100)),"delete"===t){const e=a>-1,t=(0,u.isArray)(k)?(0,u.cloneDeep)(k):[];var s;T({comment_id:i.id,type:e?"reply":"comment"}),a>-1?(null!==(s=t[n])&&void 0!==s&&s.replies&&t[n].replies.splice(a,1),setTimeout((()=>{L()}),200)):(t.splice(n,1),P(l)),E((e=>({...e,comments:t}))),B(t)}}({key:e.key,comment:t,ci:i,ri:a})})})})]}),!r&&(0,M.jsxs)("div",{className:"commentContent",children:[(0,M.jsx)("div",{className:"commentMsg",children:q(t)}),(0,M.jsxs)("span",{className:"extra",children:[(0,M.jsx)("span",{className:"date",children:p()(t.createdat).format("lll")}),"private"===v&&(0,M.jsx)("span",{className:"privateIcon",children:(0,M.jsx)(s.A,{placement:"bottom",title:(0,M.jsx)(f.A,{id:"common.privateCmt"}),children:(0,M.jsx)(Ht.A,{twoToneColor:Yt.A.colors.primaryColor})})})]})]})]})}function U(e,t){b.validateFields().then((i=>{V({val:i.reply,index:t,comment:e})})).catch((e=>{console.log("Validate Failed:",e)}))}function G(e,t){return(0,M.jsx)(ii,{comment:e,form:b,index:t,handleSubmit:U,cancelComment:R,addComment:V,inputRef:y,submitting:A.submitting})}function Y(e,t){const{id:i,replies:n}=e,a=D(i),l=a===w;return e?(0,M.jsx)(Gt.Sidenote,{sidenote:a,children:(0,M.jsxs)("div",{className:"commentThread",children:[W({comment:e,commentIndex:t}),(0,u.isArray)(n)&&!(0,u.isEmpty)(n)&&(0,M.jsx)("div",{className:"commentReplies",children:(0,M.jsx)("div",{className:"commentRepliesMain",children:n.map(((e,i)=>(0,M.jsx)("div",{className:"commentThread",children:W({comment:e,replyIndex:i,type:"reply",commentIndex:t,fromReply:!0})},e.id)))})}),l&&G(e,t)]})},a):null}(0,Xt.A)({type:["add-new-comment","delete-comment"],action:e=>{const{data:t={},type:i}=e,{cData:a}=t;if((null===a||void 0===a?void 0:a.pageId)===n){const e=(0,u.isArray)(k)?(0,u.cloneDeep)(k):[];if("add-new-comment"===i)t.comment_id&&void 0!==a.index?(e[a.index].replies||(e[a.index].replies=[]),e[a.index].replies.unshift({first_name:a.first_name,last_name:a.last_name,name:(0,x.dS)(a.first_name,a.last_name),email:a.email,picture:a.picture,id:t.id,createdat:t.createdat,type:t.type,message:t.message||""})):e.push({...t});else if("delete-comment"===i){const i=!!t.reply_id;if(T({comment_id:a.id,type:i?"reply":"comment"}),i){var l,s;const i=((null===(l=e[a.index])||void 0===l?void 0:l.replies)||[]).findIndex((e=>e.id===t.reply_id));null!==(s=e[a.index])&&void 0!==s&&s.replies&&e[a.index].replies.splice(i,1)}else e.splice(a.index,1)}E((t=>({...t,comments:e})))}}}),(0,h.useEffect)((()=>{setTimeout((()=>{L()}),180)}),[]),(0,h.useEffect)((()=>{w&&(-1===w.indexOf("_new")&&I(),b.resetFields(),setTimeout((()=>{null!==y&&void 0!==y&&y.current&&y.current.focus()}),500))}),[w]),(0,h.useImperativeHandle)(t,(()=>({addNewComment(e){let{x:t,y:i}=e;c?(0,_.A)({type:"add-new-comment",data:{x:t,y:i,cWidth:S,cHeight:N,pageId:n,docId:a}}):F({x:t,y:i})},deselectComments(){w&&(O(null),z())},getSelectedCmt:()=>w})));const X=(0,h.useMemo)((()=>k.map(H)),[k,S,N]),K=(0,h.useMemo)((()=>k.map(Y)),[k,w,A.submitting]);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("div",{children:X}),!c&&(0,M.jsx)("div",{className:"sidenotes",role:"button",tabIndex:-1,onKeyPress:()=>{},onClick:e=>{e.preventDefault(),e.stopPropagation(),w&&(I(),z())},children:K})]})}const ai=h.memo((0,h.forwardRef)(ni));var li=i(10597),si=i(48399),ri=i(87094),oi=i(41988),ci=i(55327),di=i(4159),ui=i.n(di),mi=(i(9516),i(60111)),pi=i.n(mi),hi=i(36049),gi=i.n(hi);ui().extend(pi()),ui().extend(gi()),ui().updateLocale("en-gb",{weekStart:1});const fi=function(e){const{initialValues:t={},defaultTemp:i={},handleSubmit:n=(()=>{}),setDefaultTemp:l=(()=>{}),fileMetaData:s={}}=e,{Option:r}=a.A,o=t.reduce(((e,t)=>{if(t.metaDataText&&t.data){const i=t.metaDataText;if(void 0===e[i])e[i]=t.data;else{const n=i.includes("-")?i:"".concat(i,"-1");e["".concat(n,"-").concat(t.id)]=t.data}}return e}),{}),c=Object.keys(s).filter((e=>!(e in o))),d={...s,...o};Object.keys(d).forEach((e=>{null===s[e]&&(d[e]=o[e])}));const u=e=>/[\u0600-\u06FF]/.test(e),m=s?d:o,g=[{value:"Subject",label:(0,M.jsx)(f.A,{id:"Subject"})},{value:"To/From",label:(0,M.jsx)(f.A,{id:"To/From"})},{value:"Summary",label:(0,M.jsx)(f.A,{id:"Summary"})},{value:"Notes",label:(0,M.jsx)(f.A,{id:"Notes"})},{value:"Date",label:(0,M.jsx)(f.A,{id:"Date"})},{value:"Original Reference number",label:(0,M.jsx)(f.A,{id:"Original Reference number"})},{value:"New Reference number",label:(0,M.jsx)(f.A,{id:"New Reference number"})},{value:"Project Name",label:(0,M.jsx)(f.A,{id:"Project Name"})},{value:"Client Name",label:(0,M.jsx)(f.A,{id:"Client Name"})},{value:"Author Name",label:(0,M.jsx)(f.A,{id:"Author Name"})},{value:"Department Name",label:(0,M.jsx)(f.A,{id:"Department Name"})},{value:"priority",label:(0,M.jsx)(f.A,{id:"priority"})},{value:"classification",label:(0,M.jsx)(f.A,{id:"classification"})}],v=[],x=["qr","barcode","highlight","watermark","mask","shapes","symbols","icon","image"];Object.keys(d).forEach((e=>{g.some((t=>t.value===e))||x.some((t=>e.includes(t)))||v.push({key:e,value:m[e]})}));let y=m?{...m}:{};var b;b=y,Object.keys(b).forEach((e=>{e.toLowerCase().includes("date")&&"string"===typeof b[e]&&(b[e]=p()(b[e],"DD/MM/YYYY"))})),y=b;const[j]=Wt.A.useForm();return(0,h.useEffect)((()=>{j.setFieldsValue(y)}),[j,y]),(0,M.jsx)("div",{className:"email-template-container",children:(0,M.jsx)(li._H,{children:(0,M.jsxs)(Wt.A,{onValuesChange:(e,t)=>{l(j.getFieldsValue)},form:j,layout:"vertical",initialValues:y,children:[v.length?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("p",{className:"title fieldHeader",children:(0,M.jsx)("b",{children:"All dynamic objects:"})}),(0,M.jsx)("hr",{})]}):"",(0,M.jsx)(ri.A,{gutter:6,children:v.map(((e,t)=>(0,M.jsx)(oi.A,{span:12,children:(0,M.jsx)(Wt.A.Item,{label:e.key.includes("-")?"".concat(e.key.split("-")[0],"-page").concat(e.key.split("-")[1]):e.key,name:e.key,children:(0,M.jsx)(Qt.A,{style:{textAlign:u(e.key)?"right":"left"},disabled:"true"})})},t)))}),(0,M.jsx)("p",{className:"title fieldHeader",children:(0,M.jsxs)("b",{children:[(0,M.jsx)(f.A,{id:"predefinedSection"}),":"]})}),(0,M.jsx)("hr",{}),(0,M.jsxs)(ri.A,{gutter:6,children:[(0,M.jsx)(oi.A,{span:12,children:(0,M.jsx)(Wt.A.Item,{label:(0,M.jsx)(f.A,{id:"metdata.Subject"}),name:"Subject",children:(0,M.jsx)(Qt.A,{disabled:!!m.Subject&&!c.includes("Subject"),style:{textAlign:u(m.Subject)?"right":"left"}})})}),(0,M.jsx)(oi.A,{span:12,children:(0,M.jsx)(Wt.A.Item,{label:(0,M.jsx)(f.A,{id:"metdata.To/From"}),name:"To/From",children:(0,M.jsx)(Qt.A,{disabled:!!m["To/From"]&&!c.includes("To/From"),style:{textAlign:u(m["To/From"])?"right":"left"}})})})]}),(0,M.jsx)(ri.A,{gutter:6,children:(0,M.jsx)(oi.A,{span:24,children:(0,M.jsx)(Wt.A.Item,{label:(0,M.jsx)(f.A,{id:"metdata.Summary"}),name:"Summary",children:(0,M.jsx)(si.A,{disabled:!!m.Summary&&!c.includes("Summary"),style:{textAlign:u(m.Summary)?"right":"left"}})})})}),(0,M.jsx)(ri.A,{gutter:6,children:(0,M.jsx)(oi.A,{span:24,children:(0,M.jsx)(Wt.A.Item,{label:(0,M.jsx)(f.A,{id:"metdata.Notes"}),name:"Notes",children:(0,M.jsx)(Qt.A.TextArea,{type:"textarea",rows:5,disabled:!!m.Notes&&!c.includes("Notes"),style:{textAlign:u(m.Notes)?"right":"left"}})})})}),(0,M.jsxs)(ri.A,{gutter:6,children:[(0,M.jsx)(oi.A,{span:8,children:(0,M.jsx)(Wt.A.Item,{label:(0,M.jsx)(f.A,{id:"metdata.Date"}),name:"Date",children:(0,M.jsx)(ci.A,{format:"DD/MM/YYYY",style:{width:"100%",textAlign:u(m.Date)?"right":"left"},disabled:!!m.Date&&!c.includes("Date")})})}),(0,M.jsx)(oi.A,{span:8,children:(0,M.jsx)(Wt.A.Item,{label:(0,M.jsx)(f.A,{id:"metdata.Original Reference number"}),name:"Original Reference number",children:(0,M.jsx)(Qt.A,{disabled:!!m["Original Reference number"]&&!c.includes("Original Reference number"),style:{textAlign:u(m["Original Reference number"])?"right":"left"}})})}),(0,M.jsx)(oi.A,{span:8,children:(0,M.jsx)(Wt.A.Item,{label:(0,M.jsx)(f.A,{id:"metdata.New Reference number"}),name:"New Reference number",children:(0,M.jsx)(Qt.A,{disabled:!!m["New Reference number"]&&!c.includes("New Reference number"),style:{textAlign:u(m["New Reference number"])?"right":"left"}})})})]}),(0,M.jsxs)(ri.A,{gutter:6,children:[(0,M.jsx)(oi.A,{span:12,children:(0,M.jsx)(Wt.A.Item,{label:(0,M.jsx)(f.A,{id:"metdata.Project Name"}),name:"Project Name",children:(0,M.jsx)(Qt.A,{disabled:!!m["Project Name"]&&!c.includes("Project Name"),style:{textAlign:u(m["Project Name"])?"right":"left"}})})}),(0,M.jsx)(oi.A,{span:12,children:(0,M.jsx)(Wt.A.Item,{label:(0,M.jsx)(f.A,{id:"metdata.Client Name"}),name:"Client Name",children:(0,M.jsx)(Qt.A,{disabled:!!m["Client Name"]&&!c.includes("Client Name"),style:{textAlign:u(m["Client Name"])?"right":"left"}})})})]}),(0,M.jsxs)(ri.A,{gutter:6,children:[(0,M.jsx)(oi.A,{span:12,children:(0,M.jsx)(Wt.A.Item,{label:(0,M.jsx)(f.A,{id:"metdata.Author Name"}),name:"Author Name",children:(0,M.jsx)(Qt.A,{disabled:!!m["Author Name"]&&!c.includes("Author Name"),style:{textAlign:u(m["Author Name"])?"right":"left"}})})}),(0,M.jsx)(oi.A,{span:12,children:(0,M.jsx)(Wt.A.Item,{label:(0,M.jsx)(f.A,{id:"metdata.Department Name"}),name:"Department Name",children:(0,M.jsx)(Qt.A,{disabled:!!m["Department Name"]&&!c.includes("Department Name"),style:{textAlign:u(m["Department Name"])?"right":"left"}})})})]}),(0,M.jsxs)(ri.A,{gutter:6,children:[(0,M.jsx)(oi.A,{xs:12,children:(0,M.jsx)(Wt.A.Item,{label:(0,M.jsx)(f.A,{id:"itrack.priority"}),name:"priority",children:(0,M.jsxs)(a.A,{style:{width:"100%"},defaultValue:"Normal",children:[(0,M.jsx)(r,{value:"Normal",children:(0,M.jsx)(f.A,{id:"itrack.normal"})}),(0,M.jsx)(r,{value:"Urgent",children:(0,M.jsx)(f.A,{id:"itrack.urgent"})}),(0,M.jsx)(r,{value:"Top Urgent",children:(0,M.jsx)(f.A,{id:"itrack.topUrgent"})})]})})}),(0,M.jsx)(oi.A,{xs:12,children:(0,M.jsx)(Wt.A.Item,{label:(0,M.jsx)(f.A,{id:"itrack.classification"}),name:"classification",children:(0,M.jsxs)(a.A,{style:{width:"100%"},defaultValue:"Normal",children:[(0,M.jsx)(r,{value:"Normal",children:(0,M.jsx)(f.A,{id:"itrack.normal"})}),(0,M.jsx)(r,{value:"Secret",children:(0,M.jsx)(f.A,{id:"itrack.secret"})}),(0,M.jsx)(r,{value:"Top Secret",children:(0,M.jsx)(f.A,{id:"itrack.topSecret"})})]})})})]})]})})})};var vi=i(27379),xi=i(35676);const{setUserEmailData:yi}=y.A;const bi=function(e){let{visible:t,onClose:i=(()=>{}),data:n}=e;const a=(0,g.useDispatch)(),[l]=Wt.A.useForm();return(0,xi.A)({form:l,visible:t,initVal:{}}),(0,M.jsx)(d.A,{title:"Make a Copy",centered:!0,open:t,okText:"Make a Copy",cancelText:"Cancel",onCancel:i,onOk:()=>{l.validateFields().then((async e=>{i();const t=await(0,v.Ay)("user-email-template/create",{...n,name:e.name,parent_template_id:n.parent_template_id?n.parent_template_id:n.id},"POST");t.success?(0,C.A)("success",t.message):(0,C.A)("error",t.message);const l=await(0,v.Ay)("user-email-template/editor");a(yi(l.data))}))},destroyOnClose:!0,children:(0,M.jsx)(Wt.A,{form:l,layout:"vertical",children:(0,M.jsx)("div",{className:"inputContainer",children:(0,M.jsx)(ri.A,{gutter:[12,12],children:(0,M.jsx)(oi.A,{xs:24,children:(0,M.jsx)(Wt.A.Item,{label:"Input Name",name:"name",rules:[{whitespace:!0,message:(0,M.jsx)(f.A,{id:"err.blankSpace"})}],children:(0,M.jsx)(Qt.A,{placeholder:"Name"})})})})})})})};var ji=i(19392);const{setUserEmailData:wi}=y.A,{confirm:Ai}=d.A,Ei=(e,t,i)=>e.split(t,i).join(t).length,ki=e=>{const t=Ei(e,"<tr",3),i=Ei(e,"</tr>",7);return e.substring(t,i)};const Ci=function(e){const t=(0,g.useDispatch)(),{initialValues:i={},defaultTemp:n={},handleSubmit:a=(()=>{}),setDefaultTemp:l=(()=>{})}=e,[s,r]=(0,h.useState)(!1),o=!i.parent_template_id,c=ki(i.content),d=i?{...i}:{},[m]=Wt.A.useForm();(0,h.useEffect)((()=>{m.setFieldsValue(d)}),[m,d]);const p=!(0,u.isEmpty)(d)&&d.id,[x,y]=(0,h.useState)(!1),[b,j]=(0,h.useState)(!1),[w,A]=(0,h.useState)(!1),E=e=>{Ai({title:"Are you sure to Make Default?",icon:(0,M.jsx)(vi.A,{}),okText:"Yes",okType:"danger",cancelText:"No",onOk(){!async function(e){j(!0);try{const t={slug:e.slug,is_admin_template:!e.parent_template_id,template_id:e.id},i=await(0,v.Ay)("user-default-template-info/update",t,"POST");i.success?(l(i.data),j(!1),(0,C.A)("success",i.message)):(j(!1),(0,C.A)("error",i.message))}catch(t){j(!1),(0,C.A)("error")}}(e)},onCancel(){}})};return(0,M.jsxs)("div",{className:"email-template-container",children:[(0,M.jsx)(li._H,{children:(0,M.jsxs)(Wt.A,{form:m,onFinish:e=>{const i={...e};p&&(i.id=d.id),async function(e){const i=e.content,n=ki(i),l=i.replace(n,c);e.content=l,y(!0);const s=p?"update":"create";try{const i=await(0,v.Ay)("user-email-template/".concat(s),e,"POST");i.success&&(0,u.isObject)(i.data)?(y(!1),a(i.data,p),(0,C.A)("success",i.message)):(y(!1),(0,C.A)("error",i.message));const n=await(0,v.Ay)("user-email-template/editor");t(wi(n.data))}catch(r){y(!1),(0,C.A)("error")}}(i)},layout:"vertical",initialValues:d,children:[(0,M.jsxs)(ri.A,{gutter:6,children:[(0,M.jsx)(oi.A,{span:12,children:(0,M.jsx)(Wt.A.Item,{label:(0,M.jsx)(f.A,{id:"email.template"}),name:"name",rules:[{required:!0,message:(0,M.jsx)(f.A,{id:"email.template.req"})}],children:(0,M.jsx)(Qt.A,{disabled:o})})}),(0,M.jsx)(oi.A,{span:12,children:(0,M.jsx)(Wt.A.Item,{label:(0,M.jsx)(f.A,{id:"email.sub"}),name:"subject",rules:[{required:!0,message:(0,M.jsx)(f.A,{id:"email.sub.req"})}],children:(0,M.jsx)(Qt.A,{disabled:o})})})]}),(0,M.jsx)(ri.A,{gutter:6,children:(0,M.jsx)(oi.A,{span:24,children:(0,M.jsx)(Wt.A.Item,{label:(0,M.jsx)(f.A,{id:"email.content"}),name:"content",rules:[{required:!0,message:(0,M.jsx)(f.A,{id:"email.content.req"})}],children:(0,M.jsx)(si.A,{disabled:o})})})}),(0,M.jsx)(ri.A,{gutter:6,children:(0,M.jsx)(oi.A,{span:24,children:(0,M.jsx)(Wt.A.Item,{label:(0,M.jsx)(f.A,{id:"email.short.desc"}),name:"text_version",rules:[{required:!0,message:(0,M.jsx)(f.A,{id:"email.short.desc.req"})}],children:(0,M.jsx)(Qt.A.TextArea,{type:"textarea",rows:5,disabled:o})})})}),(0,M.jsx)(ri.A,{gutter:6,children:(0,M.jsx)(oi.A,{span:24,children:(0,M.jsx)(Wt.A.Item,{label:(0,M.jsx)(f.A,{id:"email.tags"}),name:"available_tags",rules:[{required:!0,message:(0,M.jsx)(f.A,{id:"email.tags.req"})}],children:(0,M.jsx)(Qt.A,{disabled:o})})})}),(0,M.jsxs)(li.ou,{className:"bottomBtnWrapper",children:[(0,M.jsx)(ji.A,{style:{marginRight:8},onClick:()=>E(d),loading:b,disabled:d.parent_template_id&&!n.find((e=>e.slug===d.slug)).is_admin_template&&d.id===n.find((e=>e.slug===d.slug)).template_id||!d.parent_template_id&&n.find((e=>e.slug===d.slug)).is_admin_template&&d.id===n.find((e=>e.slug===d.slug)).template_id,children:(0,M.jsx)(f.A,{id:"common.makeDefault"})}),d.parent_template_id&&(0,M.jsx)(Wt.A.Item,{children:(0,M.jsx)(ji.A,{style:{marginRight:8},onClick:()=>{Ai({title:"Are you sure delete?",icon:(0,M.jsx)(vi.A,{}),okText:"Yes",okType:"danger",cancelText:"No",onOk(){(async()=>{A(!0);try{const e=await(0,v.Ay)("user-email-template/delete",{templateId:d.id},"POST");if(e.success){const e=await(0,v.Ay)("user-email-template/get-template-admin",{id:d.parent_template_id},"POST");if(a(e.data),!n.find((e=>e.slug===d.slug)).is_admin_template&&d.id===n.find((e=>e.slug===d.slug)).template_id){const e={slug:d.slug,is_admin_template:!0,template_id:d.parent_template_id},t=await(0,v.Ay)("user-default-template-info/update",e,"POST");l(t.data)}A(!1),(0,C.A)("success",e.message)}else A(!1),(0,C.A)("error",e.message);const i=await(0,v.Ay)("user-email-template/editor");t(wi(i.data))}catch(e){A(!1),(0,C.A)("error")}})()},onCancel(){}})},loading:w,children:(0,M.jsx)(f.A,{id:"common.delete"})})}),(0,M.jsx)(Wt.A.Item,{children:(0,M.jsx)(ji.A,{style:{marginRight:8},onClick:()=>r(!0),children:(0,M.jsx)(f.A,{id:"Make a Copy"})})}),d.parent_template_id&&(0,M.jsx)(Wt.A.Item,{children:(0,M.jsx)(ji.A,{type:"primary",htmlType:"submit",loading:x,children:(0,M.jsx)(f.A,{id:"common.save"})})})]})]})}),(0,M.jsx)(bi,{visible:s,onClose:()=>r(!1),data:d,handleSubmit:()=>{}})]})};var Si=i(24513),_i=i(88605),Ni=i(21707),Di=i(51865),zi=i(35398),Oi=i(41834);const{confirm:Li}=d.A;const Pi=function(e){const{docData:t,setDocData:i,canvasAry:n,setActiveTool:a=[]}=e,[l,r]=(0,h.useState)({roleVisible:!1,roleLoading:!1,roles:[]}),o=(null===t||void 0===t?void 0:t.roles)||[],{roleVisible:c}=l,d=!(null===c||void 0===c||!c.id),m=(0,h.useMemo)((()=>(0,x.NP)()),[c]);function p(e){return"myself"===e}async function g(e,t){if(!p(e.name)){r((e=>({...e,roleLoading:!0})));try{const a=new FormData;a.append("id",e.id);const l=await(0,v.Ay)("template/role/delete",a,"post",void 0,!0);if(l.success){const a=[...o];a.splice(t,1),i((e=>({...e,roles:a}))),(0,C.A)("success","role.deleteSuccess"),function(e){p(e.name)||n.forEach((t=>{const i=(t.getObjects()||[]).filter((t=>{var i,n,a;return t.fieldData&&(null===t||void 0===t||null===(i=t.fieldData)||void 0===i||null===(n=i.properties)||void 0===n||null===(a=n.role)||void 0===a?void 0:a.id)===e.id}));(0,u.isArray)(i)&&!(0,u.isEmpty)(i)&&i.forEach((e=>{const t={...null===e||void 0===e?void 0:e.fieldData};delete t.properties.role,"group"===e.type&&e.item(0)?(e.set({fieldData:t}),e.item(0).set({fill:"rgba(13, 185, 173, 0.7)"})):e&&e.set({fieldData:t,fill:"rgba(13, 185, 173, 0.7)"})})),t.renderAll()}))}(e)}else(0,C.A)("error",l.message);r((e=>({...e,roleLoading:!1})))}catch(a){r((e=>({...e,roleLoading:!1}))),(0,C.A)("error")}}}return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(Oi.M,{children:(0,M.jsx)("div",{className:"img-list-main custom-fields-main",children:(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(s.A,{title:(0,M.jsx)(f.A,{id:"common.goBack"}),placement:"topRight",children:(0,M.jsx)(ji.A,{onClick:()=>{a("")},size:"small",type:"link",style:{paddingRight:0,paddingLeft:0},children:(0,M.jsx)(f.A,{id:"common.goBack"})})}),(0,M.jsxs)("p",{className:"title fieldHeader",children:[(0,M.jsx)("span",{className:"pTitle",children:(0,M.jsx)(f.A,{id:"role.manage"})}),(0,M.jsx)(s.A,{title:(0,M.jsx)(f.A,{id:"role.addRole"}),children:(0,M.jsx)(A.A,{onClick:()=>{r((e=>({...e,roleVisible:{}})))}})})]}),(0,M.jsx)(zi.A,{className:"rolesList",dataSource:t.roles,renderItem:(e,t)=>{if(!p())return(0,M.jsx)(zi.A.Item,{actions:[(0,M.jsx)(s.A,{title:(0,M.jsx)(f.A,{id:"common.rename"}),children:(0,M.jsx)(ji.A,{size:"small",shape:"circle",icon:(0,M.jsx)(Si.A,{}),onClick:()=>{r((t=>({...t,roleVisible:e})))}})}),(0,M.jsx)(s.A,{title:(0,M.jsx)(f.A,{id:"common.delete"}),children:(0,M.jsx)(Ni.A,{btnId:"delete-confirm-card",btnProps:{size:"small"},onConfirm:()=>function(e,t){const i=(0,Di.z8)(n,(t=>{var i,n,a;return(null===t||void 0===t||null===(i=t.fieldData)||void 0===i||null===(n=i.properties)||void 0===n||null===(a=n.role)||void 0===a?void 0:a.id)===e.id}));(0,u.isObject)(i)&&!(0,u.isEmpty)(i)?Li({title:(0,ti.A)("role.delete"),content:(0,ti.A)("role.deleteConfirm",{name:'"'.concat(e.name,'"')}),icon:(0,M.jsx)(vi.A,{}),maskClosable:!0,okText:(0,ti.A)("common.delete"),okButtonProps:{type:"danger",id:"danger-btn"},onOk(){g(e,t)}}):g(e,t)}(e,t)})})],children:(0,M.jsx)(zi.A.Item.Meta,{avatar:(0,M.jsx)(Ut.A,{style:{border:"1px solid rgba(".concat(e.color,", 0.5)"),backgroundColor:"rgba(".concat(e.color,", 0.1)"),color:"rgb(".concat(e.color,")")},children:e.name.charAt(0).toUpperCase()}),title:(0,M.jsx)("span",{className:"fw550",children:e.name})})})}})]})})}),(0,M.jsx)(_i.A,{visible:!!c,onClose:()=>r((e=>({...e,roleVisible:!1}))),initVal:{name:null!==c&&void 0!==c&&c.name?c.name.trim():"",id:null===c||void 0===c?void 0:c.id},handleSubmit:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[...o],a=t||{};if(null!==c&&void 0!==c&&c.id){const e=(0,u.findIndex)(o,(e=>e.id===(null===c||void 0===c?void 0:c.id))),t=e>-1?{...n[e]}:null;t&&(n[e]={...t,...a})}else n.unshift(a);console.log("InputModal -> handleSubmit -> rolesAry",n),r((e=>({...e,roleVisible:!1}))),i((e=>({...e,roles:n})))},apiData:{url:"template/role/".concat(d?"update":"add"),succMsg:d?"role.editSuccess":"role.addSuccess",data:{...!d&&{color:m},template_id:t.file.id}},formdata:{maxchar:15,title:d?"role.rename":"role.addRole",name:"name",label:"role.labelHint",reqMsg:"req.roleLabel",placeholder:"role.placeholder"}})]})};var Ti,Ri,Mi,Ii=i(40663),Fi=i(53144),Bi=i(27543),Vi=i(50753);Pt.A.GlobalWorkerOptions.workerSrc="//unpkg.com/pdfjs-dist@".concat(Pt.A.version,"/legacy/build/pdf.worker.min.js");const Hi=(0,h.lazy)((()=>Promise.all([i.e(2077),i.e(7961)]).then(i.bind(i,37961)))),qi=(0,h.lazy)((()=>i.e(2231).then(i.bind(i,22231)))),Wi=(0,h.lazy)((()=>i.e(929).then(i.bind(i,60929)))),Ui=(0,h.lazy)((()=>Promise.all([i.e(2077),i.e(3126),i.e(4585),i.e(9401),i.e(7984),i.e(6619),i.e(6962)]).then(i.bind(i,66962)))),Gi=(0,h.lazy)((()=>i.e(5431).then(i.bind(i,35431)))),Yi=(0,h.lazy)((()=>Promise.all([i.e(8020),i.e(5076)]).then(i.bind(i,35076)))),Xi=(0,h.lazy)((()=>Promise.resolve().then(i.bind(i,23101)))),Ki=(0,h.lazy)((()=>i.e(1071).then(i.bind(i,51071)))),Ji=(0,h.lazy)((()=>i.e(3087).then(i.bind(i,93087)))),Zi=(0,h.lazy)((()=>i.e(1594).then(i.bind(i,79213)))),$i=(0,h.lazy)((()=>Promise.all([i.e(9642),i.e(8902),i.e(3126),i.e(3073),i.e(4051),i.e(8334),i.e(8309)]).then(i.bind(i,78309)))),Qi=(0,h.lazy)((()=>i.e(5266).then(i.bind(i,15266)))),en=(0,h.lazy)((()=>i.e(2194).then(i.bind(i,42194)))),tn=(0,h.lazy)((()=>i.e(2256).then(i.bind(i,52256)))),nn=(0,h.lazy)((()=>i.e(5898).then(i.bind(i,5898)))),an=(0,h.lazy)((()=>i.e(4790).then(i.bind(i,44790)))),ln=(0,h.lazy)((()=>Promise.all([i.e(1767),i.e(8880)]).then(i.bind(i,91767)))),{setSendFileData:sn,setUserEmailData:rn}=y.A,{Option:on}=a.A,cn=["jpg","png","jpeg"],dn=e=>{var t,i,n,m,y,D,z,O,L,P,T,R,I,F,B,V,H,q,W,U,G,Y,X;const{type:K="",docuId:J="",docData:Z={},setDocData:$=(()=>{}),goBack:Q=(()=>{}),onSave:ee=(()=>{}),onDecline:te=(()=>{}),onSign:ie=(()=>{}),AppState:ne={},uData:ae={},setApiAry:le=(()=>{}),onGenerateFormToPdf:se=(()=>{})}=e,re=(0,g.useDispatch)(),oe=(0,It.g)(),[ce,de]=(0,h.useState)(),[ue,me]=(0,h.useState)(),[pe,he]=(0,h.useState)(""),[ge,fe]=(0,h.useState)(J),ve=(0,g.useSelector)((e=>e.Auth.userData)),xe=(0,g.useSelector)((e=>e.App)),{sendFile:ye}=xe;(0,h.useEffect)((()=>{window.navigator.geolocation.getCurrentPosition((e=>{de(e.coords.latitude),me(e.coords.longitude)}))}),[]),(0,h.useEffect)((()=>((async()=>{if(ce&&ue){var e;const t="".concat("https://maps.googleapis.com/maps/api/geocode/json","?latlng=").concat(ce,",").concat(ue,"&key=").concat("AIzaSyA9BeSbLN1pNhdceVC7_OqJwmI8-KOFiBE"),i=await fetch(t),n=await i.json(),a=await n.results.find((e=>e.types.includes("locality")));he(null!==(e=null===a||void 0===a?void 0:a.formatted_address)&&void 0!==e?e:"")}})(),()=>{})),[ce,ue]);const be=(0,h.useMemo)((()=>{var e,t,i;return null===ae||void 0===ae||null===(e=ae.plan)||void 0===e||null===(t=e.currentPlan)||void 0===t||null===(i=t.monthly_features)||void 0===i?void 0:i.num_of_sign_doc}),[null===ae||void 0===ae||null===(t=ae.plan)||void 0===t||null===(i=t.currentPlan)||void 0===i||null===(n=i.monthly_features)||void 0===n?void 0:n.num_of_sign_doc]),je="presign"===K,we="sign"===K||"fill"===K||je||"form"===K,Ae="fill"===K,Ee="Form"===(null===Z||void 0===Z||null===(m=Z.file)||void 0===m?void 0:m.doc_type),ke="Attachment"===(null===Z||void 0===Z||null===(y=Z.file)||void 0===y?void 0:y.doc_type),Ce="Template"===(null===Z||void 0===Z||null===(D=Z.file)||void 0===D?void 0:D.doc_type),Se="Pending Owner"===(null===Z||void 0===Z||null===(z=Z.file)||void 0===z?void 0:z.status),_e="Completed"===(null===Z||void 0===Z||null===(O=Z.file)||void 0===O?void 0:O.status),Ne="In Process"===(null===Z||void 0===Z||null===(L=Z.file)||void 0===L?void 0:L.status),De=(null===(P=Z.file)||void 0===P?void 0:P.user_id)===(null===ve||void 0===ve?void 0:ve.sub),ze="team"===ae.role&&"read"===ae.privilege_type||Z.editorDisabled||we,Oe=(0,u.isObject)(Z)&&(0,u.isObject)(Z.user)?Z.user:{},{view:Le="",postData:Pe={}}=ne,Te=(0,u.isObject)(Pe)?Pe:{},Re=((null===ae||void 0===ae?void 0:ae.user_id)||(null===Te||void 0===Te||Te.user_id),"MobileView"===Le||"TabView"===Le),Me=(0,g.useSelector)((e=>e.Auth.tempSecVerified)),Ie=(0,g.useSelector)((e=>e.App.documentId)),[Fe,Be]=(0,h.useState)({addQrVisible:!1,finishDisable:!0,signVisible:!1,pgVisible:!1,imgLoading:!1,attachVisible:!1,classifiedVisible:{},verified:!1,sec_not_enabled_for_file:!1}),[Ve,He]=(0,h.useState)(null),[qe,We]=(0,h.useState)(null),[Ue,Ge]=(0,h.useState)(1),[Ye,Xe]=(0,h.useState)(1),[Ke,Je]=(0,h.useState)(1),[Ze,$e]=(0,h.useState)({width:900,height:1272}),[Qe,et]=(0,h.useState)([]),[tt,it]=(0,h.useState)([]),[nt,at]=(0,h.useState)([]),[lt,st]=(0,h.useState)([]),[rt,ot]=(0,h.useState)([]),[ct,dt]=(0,h.useState)(Se?{email:ae.email,first_name:ae.first_name,last_name:ae.last_name,id:ae.id,user_id:ae.user_id}:null),[ut,mt]=(0,h.useState)([]),[pt,ht]=(0,h.useState)(null),[gt,ft]=(0,h.useState)(null),[vt,xt]=(0,h.useState)(Se),[yt,bt]=(0,h.useState)({x:0,y:0}),[jt,wt]=(0,h.useState)({name:"Original",hash_url:ge,type:"pdf"}),[At,Et]=(0,h.useState)(""),[kt,Ct]=(0,h.useState)([jt]),[St,Dt]=(0,h.useState)("dynamic"),[Pt,Bt]=(0,h.useState)(null),[Vt,Ht]=(0,h.useState)({width:0,height:0}),[qt,Wt]=(0,h.useState)(null===Z||void 0===Z||null===(T=Z.file)||void 0===T?void 0:T.json_version),[Ut,Gt]=(0,h.useState)(!1),[Yt,Xt]=(0,h.useState)(),Kt=h.useRef(),Jt=h.useRef(),Zt={templates:{page:"templates",apiData:{doc_type:"Template"},title:"sidebar.templates",createTitle:"document.createTemp",createBtnTxt:"documents.newTemplate",filters:{searchPlaceholder:"filters.searchTmpName",hiddenFilters:["status"]}},attachments:{page:"attachments",apiData:{doc_type:"Attachment"},title:"sidebar.attachments",createTitle:"document.createAttach",createBtnTxt:"documents.newAttachment",filters:{searchPlaceholder:"filters.searchAttachName",hiddenFilters:["status"]}}}["templates"===Ie?"templates":"attachments"===Ie?"attachments":""]||{},$t=(e,t,i,n,a,l)=>{const s=document.createElement("canvas").getContext("2d");s.font="".concat(i,"px ").concat(n);const r=[];let o="",c="";for(let d=0;d<e.length;d++){const i=e[d],n=null===l||void 0===l?void 0:l.includes(d);if(" "===i||n){const e=o+c+i;s.measureText(e).width<=t?(o+=c+i,c=""):(o.length>0&&r.push(o),o=c+i,c=""),n&&(r.push(o),o="")}else c+=i}c.length>0&&(s.measureText(o+c).width<=t?o+=c:(o.length>0&&r.push(o),o=c)),o.length>0&&r.push(o);return r.join("\n")},Qt=async(e,t)=>{We(null);let i=e.target.value;i=i&&i.replace(/\n/g,""),it((e=>e.map((e=>{if(e.id===t){if("enterIndexes"in e){const t=xn(i);i=vn(t,e.enterIndexes)}const t=i&&i.split("\n").map((t=>$t(t,e.size.width-10,e.font.size,e.font.family,e.previousSize?e.previousSize:e.size,e.enterIndexes))),n=i&&t&&(null===t||void 0===t?void 0:t.join("\n")),a={...e};return["textbox","date","email","refnumber"].includes(e.type)?a.placeholder=i:a.data=n,/[\u0600-\u06FF]/.test(i)&&(a.font={...a.font,family:"Dubai",align:"right"}),a}return e}))))};h.useEffect((()=>{"address"===(null===qe||void 0===qe?void 0:qe.type)?Bt(qe.group):Bt(null)}),[qe]),h.useEffect((()=>{if(("radio"===(null===qe||void 0===qe?void 0:qe.type)||"checkbox"===(null===qe||void 0===qe?void 0:qe.type))&&(null===qe||void 0===qe?void 0:qe.page)===Ke){const e=tt.filter((e=>Number(e.group)===Number(qe.group))),t=e=>{const t=e.map((e=>{const t=document.getElementById("append".concat(e.id));if(t){const i=t.getBoundingClientRect();return{id:e.id,x:i.x,y:i.y,width:i.width,height:i.height,totalWidth:i.x+i.width,totalHeight:i.y+i.height}}})).filter((e=>Boolean(e))),i=t.find((e=>e.totalWidth===Math.max(...t.map((e=>e.totalWidth))))),n=t.find((e=>e.totalHeight===Math.max(...t.map((e=>e.totalHeight)))));return{width:(null===i||void 0===i?void 0:i.x)-Math.min(...t.map((e=>null===e||void 0===e?void 0:e.x)))+(null===i||void 0===i?void 0:i.width)+12,height:(null===n||void 0===n?void 0:n.y)-Math.min(...t.map((e=>null===e||void 0===e?void 0:e.y)))+(null===n||void 0===n?void 0:n.height)+12}};Ht(t(e))}}),[tt]),h.useEffect((()=>{if(!we){const e=(0,Bi.A)(tt);it(e)}}),[qe]),h.useEffect((()=>{1===tt.filter((e=>e.active)).length&&We(tt.find((e=>e.active))),Z.showMetaData&&!0===Z.showMetaData&&tt&&tt.length>0&&(tt.forEach((e=>{(""===e.metaDataText||!e.metaDataText)&&e.type&&e.page&&e.id&&(e.metaDataText="".concat(e.type,"-").concat(e.page,"-").concat(e.id)),we&&["refnumber"].includes(e.type)&&!e.is_completed&&(e.is_completed=!0),!e.classifiedUsers&&e.type&&"mask"===e.type&&e.page&&e.id&&(e.classifiedUsers=[{name:"".concat(ve.sub),permission:"modify"}])})),it(tt))}),[tt,Z]),h.useEffect((()=>{const e=tt.filter((e=>e.active))[0];we&&["sign","initial"].includes(null===e||void 0===e?void 0:e.type)&&Be((t=>({...t,signVisible:e.type})))}),[tt]);const[ei,ti]=h.useState(null),[ii,ni]=h.useState(null),[li,si]=h.useState();h.useEffect((()=>{(ii&&"select"===ei||li&&"draw"===ei)&&(We(null),He(null),si())}),[ii,ei]);const ri=!(we&&!Ee&&!Ce)||(null===tt||void 0===tt||null===(R=tt.find((e=>"setting"===e.type)))||void 0===R||null===(I=R.recipients)||void 0===I||null===(F=I.find((e=>e.email===(null===ct||void 0===ct?void 0:ct.email))))||void 0===F?void 0:F.isTermAccepted),oi=e=>{let t=!0;const i=()=>{switch(e.validation.type){case"email":return/^[a-zA-Z0-9.! #$%&'*+/=? ^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;case"number":return/^[0-9]+$/;case"letters":return/^[A-Za-z\s]*$/;case"postal-code-uk":return/^([Gg][Ii][Rr] 0[Aa]{2})|((([A-Za-z][0-9]{1,2})|(([A-Za-z][A-Ha-hJ-Yj-y][0-9]{1,2})|(([A-Za-z][0-9][A-Za-z])|([A-Za-z][A-Ha-hJ-Yj-y][0-9]?[A-Za-z])))) [0-9][A-Za-z]{2})$/;case"custom":return new RegExp(e.validation.customPattern);default:return null}};switch(e.validation.type){case"none":t=!(0,Ii.A)("inner".concat(e.id),e.data);break;case"email":case"number":case"letters":case"postal-code-uk":case"custom":t=i(e.validation.type).test(e.data);break;case"phone":t=e.data.substring(e.data.indexOf("-")+1).length>0&&e.data.length<=15}return t};h.useEffect((()=>{if(li)if(tt.some((e=>e.id===li.id))){const e=tt.map((e=>e.id===li.id?{...e,data:li.data.toJSON(),base64:li.data.toDataURL()}:e));it(e)}else it([...tt,{id:li.id,data:li.data.toJSON(),base64:li.data.toDataURL(),type:"draw",page:Ke,hash:jt.hash_url}])}),[li,qe,Ve,ii]);const[ci,di]=(0,h.useState)([]),ui=h.useRef(),mi=ci[0],pi=(0,h.useRef)(null),hi=(0,h.useRef)(null),gi=(0,h.useRef)(null),vi=(0,h.useRef)(null),xi=(0,h.useRef)(null),yi=(0,h.useRef)(),bi=(0,h.useRef)(),ji="comments"===Ve&&Z.showComments,wi=(0,h.useCallback)((()=>{const e=(null===hi||void 0===hi?void 0:hi.current)||null,t=gi.current||null,i=vi.current||null,n=(null===e||void 0===e?void 0:e.offsetHeight)||65,a=we?0:65;return n+((null===t||void 0===t?void 0:t.offsetHeight)||a)+((null===i||void 0===i?void 0:i.offsetHeight)||0)}),[hi,gi]),[Ai,Ei]=(0,h.useState)(),[ki,Si]=(0,h.useState)([]),_i=tt.reduce(((e,t)=>{if(t.metaDataText&&t.data){const i=t.metaDataText;if(void 0===e[i])e[i]=t.data;else{const n=i.includes("-")?i:"".concat(i,"-1");e["".concat(n,"-").concat(t.id)]=t.data}}return e}),{}),[Ni,zi]=(0,h.useState)([]),Oi=0===Ni.length?_i:Ni;function Li(e){Ei(e)}const Ti=wi();function Ri(){Q()}async function Mi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];He(e),ti("select"===ei&&"select"===e?null:e),We(null);const n=tt;for(let a=0;a<n.length;a++)!0===n[a].active&&(n[a].active=!1);if(it(n),"watermark"===e&&tt.some((e=>"watermark"===(null===e||void 0===e?void 0:e.type)&&e.page===Ke))){const e=tt.map((e=>"watermark"===e.type&&e.page===Ke?{...e,active:!0}:e));it(e)}if("image"==e&&bi.current.click(),"attachment"==e&&Be((e=>({...e,attachVisible:!0}))),"email-template"==t){const t=i?await(0,v.Ay)("user-email-template/get-template-admin",{id:e},"POST"):await(0,v.Ay)("user-email-template/get-template",{id:e},"POST");Ei(t.data)}}(0,h.useEffect)((()=>{if(qe){const e=document.getElementById("append".concat(qe.id));e&&we&&e.scrollIntoView({block:"nearest",behavior:"smooth"})}}),[qe]);const rn=e=>{const t=bi.current.files[0],i=new FileReader;i.readAsDataURL(t),Be((e=>({...e,imgLoading:"image"}))),i.onloadend=function(e){it([...tt,{type:"image",page:Ke,hash:jt.hash_url,size:{width:100,height:100},position:{x:10,y:10},data:i.result,toolTip:"",active:!1,new:!1,id:Date.now()}]),Be((e=>({...e,imgLoading:!1})))}};function on(e){return e.map((e=>("textbox"===e.type||"textbox1"===e.type?e.signer||e.role?(e.type="textbox",e.required=!0,e.data&&""!==e.data.trim()&&(e.placeholder=e.data,e.data="")):(e.type="textbox1",delete e.required,e.placeholder&&""!==e.placeholder.trim()&&(e.data=e.placeholder,e.placeholder="")):"date"!==e.type&&"date1"!==e.type||(e.signer||e.role?(e.type="date",e.required=!0):(e.type="date1",delete e.required)),e)))}async function dn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=(0,Bi.A)(tt);if(on(t),"create-doc"==e){const e=["icon","qr","barcode","textbox1","setting","highlight","draw","line","watermark","mask","date1","refnumber","image"];if(!t.find((t=>!e.includes(t.type))))return void(0,C.A)("error","You need to add atleast one dynamic objects before creating a document.");if(t.filter((t=>!e.includes(t.type)&&!t.role)).length>0)return void(0,C.A)("error","You need to assign role to all dynamic objects before creating a document.")}if(!(0,u.isEmpty)(t.filter((e=>"watermark"===e.type&&(0,u.isEmpty)(e.data)))))return void(0,C.A)("error","You need to add some text for watermark !");if(!(0,u.isEmpty)(t.filter((e=>["textbox1","date1","refnumber"].includes(e.type)&&(0,u.isEmpty)(e.data)))))return void(0,C.A)("error","You need to fill pdf Editor fields!");if(t.filter((e=>"dropdown"==e.type&&(e.options.includes("")||e.options.length<2))).length>0)return void(0,C.A)("error","You need to add at least 2 options and fill all options of Dropdown object");const i=t.find((e=>{const t=["icon","qr","barcode","textbox1","setting","highlight","draw","line","shapes","symbols","watermark","mask","date1","refnumber","checkbox","radio"].includes(e.type);return!Ee&&(Ce?Ce?!t&&null===e.role:void 0:"sign"===e.type?null===e.signer&&!e.data:!t&&null===e.signer)}));if(console.log(t),i){const e=kt.find((e=>e.hash_url===i.hash)).name;return void(0,C.A)("error","Recipient is not assigned to object in ".concat(e,", page no. ").concat(i.page))}t.forEach((e=>{"setting"==e.type&&(e.pageSize=Ze)}));const n=tt.filter((e=>{var t;return"fromCSV"===(null===e||void 0===e||null===(t=e.role)||void 0===t?void 0:t.email)})),a=n.find((e=>["textbox","date","email"].includes(e.type)&&!e.column_name));if(a)return void(0,C.A)("error","Please add column name for ".concat(a.type," !"));const l=n.find((e=>["sign","initial"].includes(e.type)&&!e.data)),s=function(e,t){const i=[];for(const n of e){const e=n[t];if(void 0!==e){if(i.includes(e))return{repeated:!0,value:e,input:n.type};i.push(e)}}return{repeated:!1}}(n,"column_name");if(s&&s.repeated)return void(0,C.A)("error","".concat(s.value," is already used for other field!"));if(l)return void(0,C.A)("error","Please add sign or initial!");const r=t.find((e=>e.role));if(!Ce||r){if(await ee(t,e,qt,pe,Oi),"send"===e){var o;const e=null===(o=t.find((e=>"setting"===e.type)))||void 0===o?void 0:o.recipients;re(sn({type:"sendFile",fileData:{...Z.file,recipients:e,appendData:tt}}))}}else(0,C.A)("error","Please add dynamic field!")}const[hn,gn]=(0,h.useState)(!1),fn=()=>{gn(!0)},vn=(e,t)=>{let i=e,n=0;return null===t||void 0===t||t.forEach((e=>{const t=e+n;i="".concat(i.substring(0,t),"\n").concat(i.substring(t)),n++})),i},xn=e=>null===e||void 0===e?void 0:e.replace(/\n/g,""),yn=async(e,t)=>{e.preventDefault();const i=e.clipboardData.getData("text"),n=(t.data||"")+i,a=document.getElementById("append-div"),l=a.offsetWidth,s=a.offsetHeight,r=(a.getBoundingClientRect().left,a.getBoundingClientRect().top,((e,t,i,n,a,l)=>{const s=document.createElement("div");s.style.visibility="hidden",s.style.position="absolute",s.style.height="auto",s.style.width="auto",s.style.left="calc( 50% - ".concat((Ze.width-t.position.x)*Ue,"px / 2)"),s.style.top="calc( 50% - ".concat((Ze.height-t.position.y)*Ue,"px / 2)"),s.style.fontFamily=t.font.family,s.style.fontSize="".concat(t.font.size,"px"),s.style.fontWeight=t.font.bold?"bold":"normal",s.style.fontStyle=t.font.italic?"italic":"normal",s.style.textDecoration=t.font.underline?"underline":"none",s.style.lineHeight="normal",s.style.padding="10px",s.style.whiteSpace="pre-wrap",s.style.wordBreak="break-word",s.textContent=e,document.body.appendChild(s),t.position.y,t.position.x,s.style.maxWidth="".concat(i-t.position.x,"px"),s.style.maxHeight="".concat(n-t.position.y,"px");const r={height:s.scrollHeight,width:s.scrollWidth};return document.body.removeChild(s),r})(n,t,l,s)),o=(e=>{let t=0;const i=[];for(let n=0;n<e.length;n++)"\n"===e[n]?i.push(t):"\n"!==e[n]&&t++;return i})(n);bn(n,r,o,t.id)},bn=async(e,t,i,n)=>{const a=tt.filter((e=>e.id===n));/[\u0600-\u06FF]/.test(e)&&(a[0].font={...a[0].font,family:"Dubai",align:"right"}),a[0].enterIndexes=i.filter((e=>0!==e));const l=xn(e);a[0].data=vn(l,i.filter((e=>0!==e))),a[0].size={...a[0].size,width:t.width/Ue,height:t.height/Ue};const s=tt.filter((e=>e.id!==n));it([...s,a[0]])};const jn=e=>{if(!e.is_completed&&e.required&&"dynamic"!==e.type)return!0;if("checkbox"===e.type){const t=tt.filter((t=>Number(e.group)===Number(t.group)));if(e.required){return!t.find((e=>e.checked))}}};function wn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(qe&&["textbox","textbox1","date1","refnumber"].includes(qe.type)){const e=oi(qe),t=tt.filter((e=>e.id!==(null===qe||void 0===qe?void 0:qe.id))),i=tt.find((e=>e.id===qe.id));i.validation.isValid=e,it([...t,i]),e||(0,C.A)("error","Please fulfill fields requirement !")}const t=Oe.security_type?Oe.security_type:Z.security_not_enabled;if(!Me&&t&&!Fe.verified)return void Be((e=>({...e,classifiedVisible:{type:"sign",index:1,visible:t}})));if(Z.security_not_enabled)return void Be((e=>({...e,sec_not_enabled_for_file:!0})));const i=je?tt.filter((e=>{var t;return 0==(null===(t=e.role)||void 0===t?void 0:t.id)&&!e.is_completed}))[0]:tt.filter((e=>{var t;return Ee?jn(e):(null===(t=e.signer)||void 0===t?void 0:t.email)==ct.email&&!e.is_completed}))[0];if((0,u.isObject)(i)&&!(0,u.isEmpty)(i)){if(i.hash!=jt.hash_url){const e=kt.filter((e=>e.hash_url==i.hash))[0];e&&(wt(e),We(null))}tt.forEach((e=>{e.active=e.id==i.id,e.id==i.id&&(Je(e.page),We(e),we&&["sign","initial"].includes(e.type)&&Be((t=>({...t,signVisible:e.type}))))}))}else if("finish"===e){tt.filter((e=>"textbox"===e.type)).some((e=>!e.validation.isValid))||ie(tt)}else"submitForm"===e?se(tt):Be((e=>({...e,finishDisable:!1})))}const An=()=>{const e=(0,u.cloneDeep)(tt.filter((e=>e.active)));e.length<1||ft(e)},En=()=>{if(!gt)return;tt.filter((e=>e.active)).forEach((e=>e.active=!1));const e=Date.now();mt([...ut,e]),gt.forEach((t=>{"checkbox"!=t.type&&"radio"!=t.type||(t.group=e),t.id+=Date.now(),t.position.x+=10,t.active=!0})),it([...tt,...gt]),ft(null)},kn=()=>{qe.is_completed=!0,tt.forEach((e=>{["checkbox","radio"].includes(e.type)&&e.group==qe.group&&(e.is_completed=!0)}));0==(ct?tt.filter((e=>{var t;return Ee?jn(e):(null===(t=e.signer)||void 0===t?void 0:t.email)==ct.email&&!e.is_completed})).length:tt.filter((e=>{var t;return 0==(null===(t=e.role)||void 0===t?void 0:t.id)&&!e.is_completed})).length)&&Be((e=>({...e,finishDisable:!1})))},Cn=async e=>{Wt(e);const t=qt?"files/get-append-data/".concat(jt.hash_url,"/").concat(e):"files/get-append-data/".concat(jt.hash_url);let i=await(0,v.Ay)(t),n=[],a=Z.user?[{email:Z.user.email,first_name:"Signer",last_name:""}]:null!==ae&&void 0!==ae&&ae.email?[{email:ae.email,first_name:ae.first_name,last_name:ae.last_name}]:[],l=!1;if(0!=i.success){var s,r;if(_e||Se)if(null!==Z&&void 0!==Z&&null!==(s=Z.file)&&void 0!==s&&s.tags)i=null!==Z&&void 0!==Z&&null!==(r=Z.file)&&void 0!==r&&r.tags.some((e=>"Top secret"===e.name))?i.filter((e=>"setting"===e.type||"mask"===e.type)):i.filter((e=>"setting"==e.type));else i=i.filter((e=>"setting"==e.type));if(i.forEach((async e=>{var t,i;if(e.active=!1,"checkbox"!=e.type&&"radio"!=e.type||n.push(e.group.toString()),e.signer&&e.signer.email)if(-1!==e.signer.email.toLowerCase().indexOf("[group-")){const t=e.signer.email.slice(7).split("]")[0],i=await(0,v.Ay)("contact-groups/get-group",{id:t},"POST"),n=ae.email?ae.email:Z.user.email;-1!==i.data.members.map((e=>e.email)).indexOf(n)&&(e.signer=ae.email?{email:ae.email,first_name:ae.first_name,last_name:ae.last_name}:{email:n,first_name:"Signer",last_name:""})}else a.push(e.signer);e.signer&&"date"==e.type&&(null===(t=e.signer)||void 0===t?void 0:t.email)==(null===ct||void 0===ct?void 0:ct.email)&&(e.is_completed=!0,e.data=p()().format(e.font.format)),"setting"==e.type&&((null===(i=e.attachments)||void 0===i?void 0:i.length)>0||(e.attachments=[jt]))})),i=i.sort(((e,t)=>{var i;return(null===(i=e.hash)||void 0===i?void 0:i.localeCompare(t.hash))||parseFloat(e.page)-parseFloat(t.page)})),n=n.filter(((e,t,i)=>t==i.indexOf(e))),i.filter((e=>"setting"==e.type)).length>0){var o,c;const e=i.filter((e=>"setting"==e.type))[0];(null===(o=e.attachments)||void 0===o?void 0:o.length)>0&&e.attachments.filter((e=>"Original"==e.name)).length>0&&(i.forEach((t=>{"setting"!=t.type&&t.hash==e.attachments.filter((e=>"Original"==e.name))[0].hash_url&&(t.hash=ge)})),e.attachments.forEach((e=>{"Original"==e.name&&(e.hash_url=ge)}))),l=e.isOnly,xt(e.isOnly),Ct((null===(c=e.attachments)||void 0===c?void 0:c.length)>0?e.attachments:[jt])}else{const e={type:"setting",isOnly:!1,attachments:[jt]};i.push(e)}i=[...i.filter((e=>e.hash==ge)),...i.filter((e=>e.hash!=ge))];const e=(0,Bi.A)(i);mt(n),it(e),et((0,u.cloneDeep)(i))}else{const e=[{type:"setting",isOnly:!1,attachments:[jt],recipients:[]}];it(e),et((0,u.cloneDeep)(e))}if(setTimeout((()=>{$((e=>({...e,getting:!0,preparing:!1})))}),500),a=a.filter(((e,t,i)=>t==i.findIndex((t=>t.email==e.email)))),await ot(a),(!Ce&&we||l)&&await dt(a[0]),void 0!=ae.email&&!we){const e=await(0,v.Ay)("file/get-comments",{document_id:ge});$((e=>({...e,getting:!0,preparing:!1}))),await st(e.data),await at((0,u.cloneDeep)(e.data))}},Sn=async e=>{Wt(e),await Cn(e)},_n=Boolean((0,u.isNull)(qe)&&("draw"===ei||"select"===ei||"line"===ei)),Nn=()=>{if(!Ne&&"read"!==ae.privilege_type){if(qe&&!(0,u.isArray)(qe))return!0;if((0,u.isArray)(qe)&&!Ee&&!vt)return!0;if(["shapes","symbols"].includes(Ve))return!0;if(_n&&ii)return!0}return!1};const Dn=(0,h.useMemo)((()=>Fi.Yl.filter((e=>e.loc&&e.loc.indexOf("topbar")>-1))),[]);function zn(){return null!==Te&&void 0!==Te&&Te.is_mobile?null:(0,M.jsx)(o.Ay,{onClick:Ri,className:"cancelButton",id:"cancel-doc",type:"text",children:(0,M.jsx)(f.A,{id:"common.cancel"})})}function On(e){return{x:(e.clientX-document.querySelector(".append-layer").getBoundingClientRect().left)/Ue,y:(e.clientY-document.querySelector(".append-layer").getBoundingClientRect().top)/Ue}}const Ln=async e=>{Xe(e.numPages),Je(1),(0,u.isEmpty)(tt)&&("sign"===ge.split("/").pop()?$((e=>({...e,preparing:!1}))):$((e=>({...e,getting:!0}))),await Cn(qt))},Pn=e=>{1==Ue&&$e({width:e.width,height:e.height})},Tn=e=>{Je(e)},Rn=async(e,t)=>{$((e=>({...e,getting:!0})));const i=await(0,v.Ay)("file/manage-page",{document_id:jt.hash_url,index:e,method:t},"POST");i.success?(wt(""),fe(i.data),setTimeout((()=>{wt({name:"Original",hash_url:i.data,type:"pdf"}),e=["add","copy"].includes(t)?e:e+1;const n=tt.filter((i=>"add"==t||i.page!==e));let a=[];const l=[];if("copy"===t){const t=tt.filter((t=>t.page===e)),i=t.map(((e,t)=>{let i={...e};const n=Date.now()+t;return i={...i,page:i.page+1,id:n},i.group&&(i.group=n,l.push(n)),i}));a.push(...(0,u.uniqBy)([...i,...t],"id"))}if(n.forEach((i=>{i.page&&i.page>e&&(i.page=["add","copy"].includes(t)?i.page+1:i.page-1),"setting"==i.type&&(i.update="".concat(t," - ").concat(e))})),a.push(...n),mt([...ut,...l]),it(a),Qe.filter((e=>"setting"!=e.type)).length>0){const e=new FormData;e.append("user",JSON.stringify(ae)),e.append("document_id",i.data),e.append("json_data",JSON.stringify(a)),e.append("type","update"),e.append("json_version",JSON.stringify(qt)),(0,v.Ay)("file/append",e,"post",void 0,!0)}}),100)):(0,C.A)("error",i.message),$((e=>({...e,getting:!1})))},Mn=e=>e.parentNode,In=[{label:"Duplicate",key:"copy"},{label:"New blank",key:"add"}],Fn=e=>({items:In,onClick:t=>((e,t)=>{const{key:i}=e;Rn(t,i)})(t,e)}),Bn=e=>{const t=[];for(let i=1;i<e+1;i++)t.push((0,M.jsx)(Tt.A,{loading:(0,M.jsx)("div",{className:"pdf-loader"}),pageNumber:i,id:"thumb".concat(i),width:120,renderTextLayer:!1,renderAnnotationLayer:!1,onClick:()=>Tn(i),className:"thumb-view",children:!we&&!_e&&!Ne&&(0,M.jsxs)("div",{className:"thumb-menu",children:[(0,M.jsx)(s.A,{title:"Add new page after this page",children:(0,M.jsx)(c.A,{menu:Fn(i),trigger:["click"],getPopupContainer:Mn,children:(0,M.jsx)(o.Ay,{type:"primary",shape:"circle",icon:(0,M.jsx)(A.A,{}),size:"small"})})}),(0,M.jsx)(s.A,{title:"Remove this page",children:(0,M.jsx)(o.Ay,{type:"danger",shape:"circle",icon:(0,M.jsx)(E.A,{}),size:"small",onClick:()=>Rn(i-1,"remove")})})]})},"thumb".concat(i)));return t},Vn=async e=>{if(!Ve||"watermark"===Ve&&tt.some((e=>"watermark"===e.type&&e.page===Ke)))return;const t={x:(e.clientX-document.querySelector(".append-layer").getBoundingClientRect().left)/Ue,y:(e.clientY-document.querySelector(".append-layer").getBoundingClientRect().top)/Ue};if((vt&&(null===ct||void 0===ct?void 0:ct.id)!=(null===ae||void 0===ae?void 0:ae.id)||Se)&&await dt({email:ae.email,first_name:ae.first_name,last_name:ae.last_name,id:ae.id,user_id:ae.user_id}),["textbox","textbox1","date","email","highlight","mask","date1","refnumber"].includes(Ve)){const e="",n=["date","date1"].includes(Ve)?"date":"email"===Ve?"email":"none";let a={type:Ve,page:Ke,hash:jt.hash_url,position:t,size:{width:120,height:18,overflowX:!1,overflowY:!1,charLimit:4e3,dynamic:!1},data:e,placeholder:"",font:{family:"ArialArabic",size:14,bold:!1,italic:!1,underline:!1,color:"#000000",dateFormat:"DD/MM/YYYY",align:"left"},toolTip:"",active:!1,new:!0,signer:["highlight","mask","textbox1","date1","refnumber"].includes(Ve)?null:ct,role:!!Ce&&null,validation:{type:n,isValid:!0,customPattern:""},id:Date.now()};if(["textbox","date","email"].includes(Ve)&&(a.required=!0),["refnumber"].includes(Ve)){const e=tt.find((e=>"refnumber"===e.type));var i;if(e)a={...e,position:t,id:Date.now(),new:!0,page:Ke,hash:jt.hash_url};else a.selectedRef="barcode",a.data=Ce?"Barcode000":null===Z||void 0===Z||null===(i=Z.file)||void 0===i?void 0:i.barcode}it([...tt,a])}else if("qr"===Ve)if(Ce)it([...tt,{type:"qr",page:Ke,hash:jt.hash_url,size:{width:100,height:100},position:t,data:null,toolTip:"",active:!1,new:!0,id:Date.now(),auto:!0,copyOnAllPage:!1}]),Be((e=>({...e,imgLoading:!1})));else{var n;const e={type:"qr",page:Ke,hash:jt.hash_url,size:{width:100,height:100},position:t,data:null===Z||void 0===Z||null===(n=Z.file)||void 0===n?void 0:n.qrCode,toolTip:"",active:!1,new:!0,id:Date.now(),auto:!0,copyOnAllPage:!1};it([...tt,e])}else if("barcode"===Ve)if(Ce)it([...tt,{type:"barcode",page:Ke,hash:jt.hash_url,size:{width:96,height:47},position:t,data:null,toolTip:"",active:!1,new:!0,id:Date.now(),auto:!0,copyOnAllPage:!1}]),Be((e=>({...e,imgLoading:!1})));else{const e=null===Z||void 0===Z?void 0:Z.bar_code;Be((e=>({...e,imgLoading:"barcode"}))),(0,Di.dY)(e,(e=>{it([...tt,{type:"barcode",page:Ke,hash:jt.hash_url,size:{width:96,height:47},position:t,data:e,toolTip:"",active:!1,new:!0,id:Date.now(),auto:!0,copyOnAllPage:!1}]),Be((e=>({...e,imgLoading:!1})))}))}else if(["sign","initial"].includes(Ve))it([...tt,{type:Ve,page:Ke,hash:jt.hash_url,position:t,size:{width:"sign"==Ve?100:80,height:"sign"==Ve?100:80},data:null,toolTip:"",active:!1,new:!0,signer:ct,role:!!Ce&&null,id:Date.now(),required:!0}]);else if("checkbox"==Ve||"radio"==Ve){const e=Date.now();it([...tt,{type:Ve,page:Ke,hash:jt.hash_url,position:t,data:"",font:{family:"ArialArabic",size:16,bold:!1,italic:!1,underline:!1,color:"#000000"},toolTip:"",new:!0,active:!1,checked:!1,signer:ct,role:!!Ce&&null,group:e,id:e,required:!0}]),mt([...ut,e])}else if("watermark"===Ve){const e={type:Ve,page:Ke,hash:jt.hash_url,position:t,angle:0,opacity:.3,size:{width:800,height:200,overflowX:!0,overflowY:!0,charLimit:4e3,dynamic:!1},data:"",placeholder:"",font:{family:"ArialArabic",size:120,bold:!1,italic:!1,underline:!1,color:"rgba(0,0,0,0.2)",align:"left"},toolTip:"",active:!1,new:!0,id:Date.now()};it([...tt,e])}else if("dynamic"==Ve){let e="Submit";(0,u.find)(tt,(e=>"Submit"===e.action))&&(e="Link"),it([...tt,{type:Ve,page:Ke,hash:jt.hash_url,position:t,action:e,label:"SUBMIT",data:null,toolTip:"",active:!1,new:!0,signer:ct,role:!!Ce&&null,id:Date.now(),required:!0}])}else if("dropdown"==Ve)it([...tt,{type:Ve,page:Ke,hash:jt.hash_url,position:t,data:null,font:{family:"ArialArabic",size:12,color:"#000000"},options:[],toolTip:"",new:!0,active:!1,signer:ct,role:!!Ce&&null,id:Date.now(),required:!0}]);else if("workflow"==Ve)it([...tt,{type:Ve,page:Ke,hash:jt.hash_url,position:t,size:{width:"workflow"==Ve?100:80,height:"workflow"==Ve?100:80},checked:!0,data:null,toolTip:"",active:!0,new:!0,signer:ct,role:!!Ce&&null,id:Date.now()}]);else if("time"==Ve)it([...tt,{type:Ve,page:Ke,hash:jt.hash_url,position:t,size:{width:200,height:50,overflowX:!1,overflowY:!1,charLimit:4e3,dynamic:!1},data:"HH : MM",hourFormat:"12hours",font:{family:"ArialArabic",size:12,bold:!1,italic:!1,underline:!1,color:"#000000"},toolTip:"",active:!1,new:!0,signer:ct,role:!!Ce&&null,id:Date.now(),required:!0,validation:{type:"none",isValid:!0,customPattern:""}}]);else if("address"==Ve){const e=[],i=[{unique:"addressLine1",textboxPlaceHolder:"Street Address Line 1",label:"Address Line 1",id:"".concat(Date.now(),"addr1"),labelPosition:t,addressPosition:{x:t.x,y:t.y+20},required:!0},{unique:"addressLine2",textboxPlaceHolder:"Street Address Line 2",label:"Address Line 2",id:"".concat(Date.now(),"addr2"),labelPosition:{x:t.x+280,y:t.y},addressPosition:{x:t.x+280,y:t.y+20},required:!1},{unique:"postalZipCode",textboxPlaceHolder:"Postal / Zip Code",label:"Zip Code / Postal Code",id:"".concat(Date.now(),"postal"),labelPosition:{x:t.x,y:t.y+100},addressPosition:{x:t.x,y:t.y+120},required:!0},{unique:"city",textboxPlaceHolder:"City",label:"City",id:"".concat(Date.now(),"city"),labelPosition:{x:t.x,y:t.y+200},addressPosition:{x:t.x,y:t.y+220},required:!0},{unique:"country",textboxPlaceHolder:"Country",label:"Country",id:"".concat(Date.now(),"country"),labelPosition:{x:t.x+280,y:t.y+200},addressPosition:{x:t.x+280,y:t.y+220},required:!0}],n="address-group-".concat(Date.now());(0,u.map)(i,((i,a)=>{e.push({type:Ve,page:Ke,hash:jt.hash_url,position:t,size:{width:600,height:50,overflowX:!1,overflowY:!1,charLimit:4e3,dynamic:!1},data:"",label:"",labelPlaceholder:i.textboxPlaceHolder,dataPlaceholder:"",font:{family:"ArialArabic",size:12,bold:!1,italic:!1,underline:!1,color:"#000000"},toolTip:"",active:!1,new:!1,isNew:!0,isGroupSelected:!1,signer:null,role:!!Ce&&null,id:i.id,required:i.required,unique:i.unique,labelPosition:i.labelPosition,addressPosition:i.addressPosition,group:n})})),it([...tt,...e]),He(null),Bt(n)}},Hn=(e,t)=>{var i,n,a,l,s;const r=(0,u.cloneDeep)(e),o=(null===(i=e.find((e=>"addressLine1"===e.unique)))||void 0===i?void 0:i.addressPosition)||(null===(n=e.find((e=>"addressLine2"===e.unique)))||void 0===n?void 0:n.addressPosition)||(null===(a=e.find((e=>"postalZipCode"===e.unique)))||void 0===a?void 0:a.addressPosition)||(null===(l=e.find((e=>"city"===e.unique)))||void 0===l?void 0:l.addressPosition)||(null===(s=e.find((e=>"country"===e.unique)))||void 0===s?void 0:s.addressPosition);return r.forEach((e=>{e.addressPosition.x=t.x+(e.addressPosition.x-o.x),e.addressPosition.y=t.y+(e.addressPosition.y-o.y),e.labelPosition.x=t.x+(e.addressPosition.x-o.x),e.labelPosition.y=t.y+(e.addressPosition.y-o.y)-24})),r},qn=e=>{He(null);const t=On(e);if(Pt){const e=tt.filter((e=>e.group===Pt));if(e.some((e=>e.isNew))){const i=tt.filter((e=>e.group!==Pt)),n=Hn(e,t);n.forEach((e=>{e.isNew=!1})),it([...n,...i])}if(e.some((e=>e.isGroupSelected))){const i=tt.filter((e=>e.group!==Pt)),n=Hn(e,t);n.forEach((e=>{e.isGroupSelected=!1})),it([...n,...i])}}"delete-append"==e.target.className&&Jn(e),!Ve||tt.filter((e=>e.new)).length<1||(tt.forEach((e=>{e.new?(e.position=t,e.new=!1,e.active=!0):e.active=!1})),We(tt.filter((e=>e.active))[0]))},Wn=e=>{if(!ri)return;if("delete-append"==e.target.className)return void Jn(e);if(tt.filter((e=>e.new)).length>0||"append-layer"!=e.target.className)return;const t={startX:On(e).x,startY:On(e).y,left:On(e).x,top:On(e).y,width:1,height:1};ht(t)},Un=e=>{const t=On(e);if("comments"==Ve&&t.x<Ze.width&&t.y<Ze.height&&xi.current&&"DIV"==e.target.tagName){const e=xi.current.getSelectedCmt();!ji||e&&-1!==e.indexOf("_new")||(xi.current.addNewComment(t),t.y>.5*Ze.height&&setTimeout((()=>{document.querySelector(".document-view").scrollTo(0,1e3)}),300)),e&&-1===e.indexOf("_new")&&xi.current.deselectComments("article_".concat(Ke))}if(tt.filter((e=>e.new)).length>0||!pt)return;const i=tt.filter((e=>{var t,i,n,a;return(null===(t=e.position)||void 0===t?void 0:t.x)/Ue-pt.left>0&&(null===(i=e.position)||void 0===i?void 0:i.x)/Ue-pt.left<pt.width&&(null===(n=e.position)||void 0===n?void 0:n.y)/Ue-pt.top>0&&(null===(a=e.position)||void 0===a?void 0:a.y)/Ue-pt.top<pt.height})).map((e=>e.id));if(tt.forEach((e=>{e.active=i.includes(e.id)&&e.page===Ke&&!we})),i.length>0)if(1==i.length)We(tt.filter((e=>e.active))[0]);else{tt.forEach((e=>{"draw"===e.type&&(e.active=!1)}));const e=tt.filter((e=>e.active&&"draw"!==e.type));we||(He("group"),We(e))}ht(null)},Gn=function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((e=>{const t=document.getElementById("append".concat(e.id));if(t){const i=t.getBoundingClientRect();return{id:e.id,x:i.x,y:i.y,width:i.width,height:i.height,totalWidth:i.x+i.width,totalHeight:i.y+i.height}}})),t=e.find((t=>t.totalWidth===Math.max(...e.map((e=>e.totalWidth))))),i=e.find((t=>t.totalHeight===Math.max(...e.map((e=>e.totalHeight)))));return{width:(null===t||void 0===t?void 0:t.x)-Math.min(...e.map((e=>null===e||void 0===e?void 0:e.x)))+(null===t||void 0===t?void 0:t.width)+16,height:(null===i||void 0===i?void 0:i.y)-Math.min(...e.map((e=>null===e||void 0===e?void 0:e.y)))+(null===i||void 0===i?void 0:i.height)+32}},Yn=function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((e=>{const t=document.getElementById("append".concat(e.id));if(t){const i=t.getBoundingClientRect();return{id:e.id,x:i.x,y:i.y,width:i.width,height:i.height,totalWidth:i.x+i.width,totalHeight:i.y+i.height}}})).filter((e=>Boolean(e))),t=e.find((t=>t.totalWidth===Math.max(...e.map((e=>e.totalWidth))))),i=e.find((t=>t.totalHeight===Math.max(...e.map((e=>e.totalHeight)))));return{width:(null===t||void 0===t?void 0:t.x)-Math.min(...e.map((e=>null===e||void 0===e?void 0:e.x)))+(null===t||void 0===t?void 0:t.width)+12,height:(null===i||void 0===i?void 0:i.y)-Math.min(...e.map((e=>null===e||void 0===e?void 0:e.y)))+(null===i||void 0===i?void 0:i.height)+12}},Xn=async e=>{const t=On(e);if(Pt){const e=tt.filter((e=>e.group===Pt));if(Gn(e).width-16+t.x>Ze.width)return;const i=tt.filter((e=>e.group!==Pt));if(e.some((e=>e.isNew))){const n=Hn(e,t);it([...n,...i])}if(e.some((e=>e.isGroupSelected))){const n=Hn(e,t);it([...n,...i])}}if(tt.filter((e=>e.new)).length<1)pt&&ht({left:t.x>pt.startX?pt.startX:t.x,top:t.y>pt.startY?pt.startY:t.y,width:Math.abs(t.x-pt.startX),height:Math.abs(t.y-pt.startY),startX:pt.startX,startY:pt.startY});else if(t.x>Ze.width||t.x<0)await it(tt.filter((e=>!0!==e.new)));else{const e=tt.filter((e=>e.new))[0];e.position=t,await it([...tt.filter((e=>!e.new)),e])}},Kn=()=>{tt.filter((e=>1==e.new)).length<1||(mt(ut.filter((e=>e!=tt.filter((e=>1==e.new))[0].group))),it(tt.filter((e=>!0!==e.new))))},Jn=e=>{e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),we||(We(null),it(tt.filter((e=>!e.active))))},Zn=e=>{if(!we){const t=t=>{switch(e){case"LEFT":return{x:t.x-1,y:t.y};case"RIGHT":return{x:t.x+1,y:t.y};case"UP":return{x:t.x,y:t.y-1};case"DOWN":return{x:t.x,y:t.y+1}}},i=tt.map((e=>e.active?{...e,position:t(e.position)}:e));it(i)}},$n=e=>{var t,i,n,a;tt.some((e=>e.active))&&e.preventDefault(),e.stopPropagation();switch(e.which||e.keyCode){case 46:null!==(t=tt.filter((e=>"mask"===e.type))[0])&&void 0!==t&&null!==(i=t.classifiedUsers)&&void 0!==i&&i.some((e=>e.name.startsWith(ve.sub)&&"modify"===e.permission))&&Jn(e);break;case 8:null!==(n=tt.filter((e=>"mask"===e.type))[0])&&void 0!==n&&null!==(a=n.classifiedUsers)&&void 0!==a&&a.some((e=>e.name.startsWith(ve.sub)&&"modify"===e.permission))&&Jn(e);break;case 37:Zn("LEFT");break;case 38:Zn("UP");break;case 39:Zn("RIGHT");break;case 40:Zn("DOWN")}},Qn=async e=>{if(!ri)return void(0,C.A)("error","Please make sure to read and understand the documents and tick on the box to continue.");ae.id?Z.security_not_enabled:Oe.security_type;if(!Me&&Oe.security_type&&!Fe.verified)return void Be((e=>({...e,classifiedVisible:{type:"sign",index:1,visible:Oe.security_type,temporaryVerify:!0}})));if("delete-append"==e.target.className)return void Jn(e);const t=e.target.getAttribute("id");if(tt.filter((e=>e.new)).length>0){const{type:e}=tt.filter((e=>e.new))[0];vt&&["sign","initial"].includes(e)&&Be((t=>({...t,signVisible:e}))),vt&&Be((e=>({...e,finishDisable:!0})))}const i=(0,u.cloneDeep)(tt);i.forEach((e=>{e.active="watermark"===e.type?e.new&&"append".concat(e.id)===t:"append".concat(e.id)===t,e.new=!1,["textbox1","textbox","date1","refnumber"].includes(e.type)&&(e.validation.isValid=oi(e))})),it(i);const n=tt.filter((e=>e.active))[0];(0,u.isEmpty)(n)||await We(n),He(null)},ea=async(e,t)=>{if(He(null),"address"===(null===qe||void 0===qe?void 0:qe.type)){if(!qe||!qe.addressPosition)return;qe.labelPosition={x:t.x/Ue,y:t.y/Ue-20},qe.addressPosition={x:t.x/Ue,y:t.y/Ue}}else{if(!qe||!qe.position)return;qe.position={x:t.x/Ue,y:t.y/Ue}}const i=tt.filter((e=>e.id!==qe.id));if(it([...i,qe]),qe&&qe.position||!li){if(!qe||!qe.position)return;qe.position={x:t.x/Ue,y:t.y/Ue};const e=tt.filter((e=>e.id!==qe.id));it([...e,qe])}else{const e=tt.find((e=>e.id===li.id));e.position={x:t.x/Ue,y:t.y/Ue};const i=tt.filter((t=>t.id!==e.id));it([...i,e])}},ta=(e,t,i,n,a)=>{if(!qe)return;const l=xn(qe.data);if(qe.data=vn(l,qe.enterIndexes),qe.previousSize=qe.size,qe.size={...qe.size,width:i.style.width.includes("px")?parseFloat(i.style.width)/Ue:qe.size.width/Ue,height:i.style.height.includes("px")?parseFloat(i.style.height)/Ue:qe.size.height/Ue},["textbox","textbox1"].includes(qe.type)){var s,r;const e=null===qe||void 0===qe||null===(s=qe.data)||void 0===s||null===(r=s.split("\n"))||void 0===r?void 0:r.map((e=>$t(e,qe.size.width-10,qe.font.size,qe.font.family,qe.previousSize,qe.enterIndexes))),t=null===e||void 0===e?void 0:e.join("\n");qe.data=t}qe.position=a;const o=tt.filter((e=>e.id!==qe.id));it([...o,qe])},ia=async(e,t)=>{bt({x:t.x,y:t.y})},na=async(e,t)=>{const i=t.x-yt.x,n=t.y-yt.y;bt({x:t.x,y:t.y});const{id:a}=t.node;tt.forEach((e=>{"checkbox"!==e.type&&"radio"!==e.type||e.group!==Number(a)||(e.position.x+=i,e.position.y+=n)}));const l=(0,u.cloneDeep)(tt);await it(l)},aa=e=>{var t;let i="none";return i=Ce?null==e.role?"rgba(255, 255, 255, .6)":"rgba(".concat(e.role.color,", .6)"):e.signer?(0,x.DI)(null===e||void 0===e||null===(t=e.signer)||void 0===t?void 0:t.email,80,80,.8):"rgba(255, 255, 255, .6)",i},la=e=>{var t;let i="lightgray";return i="2px solid ".concat(Ce?e.active?"#0097A7":null==e.role?"lightgray":"rgb(".concat(e.role.color,")"):e.active?"#0097A7":e.signer?(0,x.DI)(null===e||void 0===e||null===(t=e.signer)||void 0===t?void 0:t.email,50,80):"lightgray"),i},sa=e=>{const t=Number(e.target.getAttribute("group")),i=(e.target.getAttribute("length"),e.target.getAttribute("type")),n=tt.filter((e=>e.group==t)),{x:a}=n.filter((e=>e.position.y==Math.max(...n.map((e=>e.position.y)))))[0].position,l=n.filter((e=>e.position.y==Math.max(...n.map((e=>e.position.y)))))[0].position.y+40;it([...tt,{type:i,page:Ke,hash:jt.hash_url,position:{x:a,y:l},data:"",font:{family:"ArialArabic",size:16,bold:!1,italic:!1,underline:!1,color:"#000000"},toolTip:"",new:!1,active:!1,checked:!1,signer:n[0].signer,role:n[0].role,group:t,id:Date.now()}])},ra=e=>["textbox","textbox1","date1","refnumber"].includes(e.type)&&we&&!e.size.dynamic?e.size.overflowX||e.size.overflowY?e.size.overflowX?e.size.overflowY?{width:"auto",height:"auto"}:{width:"auto",height:"".concat(e.size.height*Ue)}:{width:"".concat(e.size.width*Ue),height:"auto"}:{width:"".concat(e.size.width*Ue),height:"".concat(e.size.height*Ue,"px")}:{},oa=(we?tt.filter((e=>{var t,i;return!!["textbox1","date1","refnumber"].includes(e.type)||(Ee?e:e.signer?(null===(t=e.signer)||void 0===t?void 0:t.email)==(null===ct||void 0===ct?void 0:ct.email):!je||(!!["qr","barcode"].includes(e.type)||0===(null===(i=e.role)||void 0===i?void 0:i.id)))})):tt).map((e=>{let t="";const i=()=>"date"===e.type||"date1"===e.type||"date"===e.validation.type?(0,u.isEmpty)(e.data)?(0,M.jsx)("span",{style:{color:"#777",fontFamily:e.font.family,fontSize:e.font.size*Ue,fontWeight:e.font.bold?"bold":"",fontStyle:e.font.italic?"italic":"",textTransform:un(e.type)},children:e.font.dateFormat}):e.data:["textbox1","refnumber"].includes(e.type)?(0,u.isEmpty)(e.data)?(0,M.jsx)("span",{style:{color:"#777",fontFamily:e.font.family,fontSize:e.font.size*Ue,fontWeight:e.font.bold?"bold":"",fontStyle:e.font.italic?"italic":"",textTransform:un(e.type)},children:"".concat("refnumber"===e.type?Ce?"barcode"===e.selectedRef?"Barcode000":"Prefix-Auto":"Ref...":"Text...")}):e.data:we||vt?(0,u.isEmpty)(e.data)?(0,u.isEmpty)(e.placeholder)?"email"===e.type?(0,M.jsx)("span",{style:{color:"#777",fontFamily:e.font.family,fontSize:e.font.size*Ue,fontWeight:e.font.bold?"bold":"",fontStyle:e.font.italic?"italic":"",textTransform:un(e.type)},children:"email"}):(0,M.jsx)("span",{style:{color:"#777",fontFamily:e.font.family,fontSize:e.font.size*Ue,fontWeight:e.font.bold?"bold":"",fontStyle:e.font.italic?"italic":"",textTransform:un(e.type)},children:"Text..."}):(0,M.jsx)("span",{style:{color:"#777",fontFamily:e.font.family,fontSize:e.font.size*Ue,fontWeight:e.font.bold?"bold":"",fontStyle:e.font.italic?"italic":"",textTransform:un(e.type)},children:e.placeholder}):e.data:(0,u.isEmpty)(e.placeholder)?"email"===e.type?(0,M.jsx)("span",{style:{color:"#777",fontFamily:e.font.family,fontSize:e.font.size*Ue,fontWeight:e.font.bold?"bold":"",fontStyle:e.font.italic?"italic":""},children:"email"}):"refnumber"===e.type?(0,M.jsx)("span",{style:{color:"#777",fontFamily:e.font.family,fontSize:e.font.size*Ue,fontWeight:e.font.bold?"bold":"",fontStyle:e.font.italic?"italic":"",textTransform:un(e.type)},children:"Ref..."}):(0,M.jsx)("span",{style:{color:"#777",fontFamily:e.font.family,fontSize:e.font.size*Ue,fontWeight:e.font.bold?"bold":"",fontStyle:e.font.italic?"italic":""},children:"Text..."}):e.placeholder;var n,a,l,s;if(e.page==Ke&&e.hash==jt.hash_url)if(["textbox","textbox1","date","email","date1","refnumber"].includes(e.type))t=(0,M.jsxs)(pn,{outline:e.active||["date","email","date1","refnumber"].includes(e.type)?["textbox1","date1","refnumber"].includes(e.type)&&we?"none":e.is_completed&&!1===e.validation.isValid?"2px solid #ff4d4f":la(e):"",position:{x:e.position.x*Ue,y:e.position.y*Ue},size:{width:ra(e).width,height:ra(e).height},minHeight:we?e.size.height*Ue:0,minWidth:we?e.size.width*Ue:0,bounds:"parent",className:"move-group append ".concat(e.active&&!ze?"active":""," ").concat(e.active&&we&&!["textbox1","date1","refnumber"].includes(e.type)?"animate":"","  ").concat(e.is_completed&&!1===e.validation.isValid&&"danger-outline"),style:{backgroundColor:["date1","refnumber"].includes(e.type)?"":aa(e)},id:"append".concat(e.id),contentEditable:!(we||["date1","refnumber"].includes(e.type)),suppressContentEditableWarning:!(we||["refnumber","date1"].includes(e.type)),onInput:t=>!["date1","refnumber"].includes(e.type)&&Qt(t,e.id),onBlur:()=>!["date1","refnumber"].includes(e.type)&&void e.id,onMouseDown:t=>["date1","refnumber"].includes(e.type)?null:Qn(t),onDragStop:ea,onResizeStop:ta,enableResizing:e.active&&!ze,disableDragging:!e.active||ze,resizeHandleClasses:{bottomLeft:"resize-handle bl",bottomRight:"resize-handle br",topLeft:"resize-handle tl",topRight:"resize-handle tr"},children:[we||["date","date1","refnumber","email"].includes(e.type)?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("div",{className:"".concat(e.required&&Ee&&"required"),ref:ui,style:{fontFamily:e.font.family,color:e.font.color,fontSize:e.font.size*Ue,fontWeight:e.font.bold?"bold":"",fontStyle:e.font.italic?"italic":"",textDecoration:e.font.underline?"underline":"",textAlign:e.font.align,pointerEvents:"none",overflowWrap:"break-word",whiteSpace:"pre-wrap",textTransform:un(e.type),width:we?"inherit":"".concat(e.size.width*Ue,"px"),height:we?"inherit":"".concat(e.size.height*Ue,"px"),overflow:"hidden"},id:"inner".concat(e.id),children:i()}),(0,M.jsx)("div",{className:"append-tool-tip",children:e.toolTip}),(0,M.jsx)("div",{className:"delete-append",onClick:Jn,id:e.id,children:"\xd7"})]}):(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("textarea",{className:"".concat(e.required&&Ee&&"required"),onPaste:t=>yn(t,e),ref:ui,onFocus:fn,onKeyDown:t=>((e,t)=>{const{value:i,selectionStart:n}=e.target;if("Enter"===e.key)e.preventDefault(),it((e=>e.map((e=>{if(e.id===t){const t=i.slice(0,n),a=i.slice(n),l="".concat(t,"\n").concat(a);let s=0;for(let e=0;e<n;e++)"\n"!==i[e]&&s++;const r=e.enterIndexes?[...e.enterIndexes]:[];return r.push(s),r.sort(((e,t)=>e-t)),{...e,data:l,enterIndexes:r}}return e}))));else if("Backspace"===e.key||"Delete"===e.key){const{selectionStart:n}=e.target,a=n-1;setTimeout((()=>{it((e=>e.map((e=>{if(e.id===t&&n>0){const t=i.slice(0,n-1)+i.slice(n);let l=e.enterIndexes?[...e.enterIndexes]:[];if("\n"===e.data[n-1]){const t=Array.from(e.data.slice(0,n-1)).filter((e=>"\n"!==e)).length,i=l.indexOf(t);-1!==i&&(l.splice(i,1),l=l.map((e=>e>t?e-1:e)))}else l=l.map((e=>e>=n-1?e-1:e));return ui&&ui.current&&ui.current.setSelectionRange(a,a),{...e,data:t,enterIndexes:l}}return e}))))}),0)}We(null)})(t,e.id),onBlur:()=>(e.id,void gn(!1)),value:e.data?e.data:e.placeholder?e.placeholder:"",suppressContentEditableWarning:!0,onInput:t=>Qt(t,e.id),onMouseDown:t=>((e,t)=>{Gt(!0),Xt(t);const i=e.target.getBoundingClientRect(),{height:n}=i,{width:a}=i;it((e=>e.map((e=>{if(e.id===t){const t={...e.size,width:a,height:n};return{...e,size:t}}return e}))))})(t,e.id),size:{width:ra(e).width,height:ra(e).height},style:{resize:"none",fontFamily:e.font.family,color:e.font.color,fontSize:e.font.size*Ue,fontWeight:e.font.bold?"bold":"",fontStyle:e.font.italic?"italic":"",textDecoration:e.font.underline?"underline":"",textAlign:e.font.align,backgroundColor:aa(e),direction:e.font.direction?e.font.direction:"ltr",textAlignLast:e.font.last&&e.font.last,overflowWrap:"break-word",whiteSpace:"pre-wrap",textTransform:un(e.type),width:we?"inherit":"".concat(e.size.width*Ue,"px"),height:we?"inherit":e.size.height*Ue<20?"20px":"".concat(e.size.height*Ue,"px"),overflow:"hidden",border:e.active&&"none",outline:e.active&&"none"},id:"inner".concat(e.id),children:i()},"content-editable-".concat(e.id)),(0,M.jsx)(mn,{style:{width:"20px",height:"20px",position:"absolute",left:e.size.width?"".concat((e.size.width-20)/e.size.width*100,"%"):"93%",top:"0",opacity:"0.7",backgroundColor:"rgba(0, 128, 0, 0.7)",cursor:"grab",zIndex:100},onClick:t=>{t.stopPropagation(),t.nativeEvent.stopImmediatePropagation();const i=tt.filter((t=>t.id===e.id)),n=tt.filter((t=>t.id!==e.id));i.forEach((e=>{e.active=!0})),it([...n,...i])},children:(0,M.jsx)("div",{style:{width:"12px",height:"12px"}})})]}),(0,M.jsx)("div",{className:"append-tool-tip",children:e.toolTip}),(0,M.jsx)("div",{className:"delete-append",onClick:Jn,id:e.id,children:"\xd7"})]},e.id);else if("watermark"===e.type)t=(0,M.jsxs)(Mt.p,{position:{x:e.position.x*Ue,y:e.position.y*Ue},bounds:"parent",className:"append ".concat(e.active&&!ze?"active":""," ").concat(e.active&&we?"animate":"","  ").concat(e.is_completed&&!1===e.validation.isValid&&"danger-outline"),style:{transform:"rotate(".concat(e.angle,"deg)"),border:e.active?"1.5px dashed rgba(13,185,173,0.3)":"none"},id:"append".concat(e.id),onMouseDown:Qn,onDragStop:ea,onResizeStop:ta,enableResizing:!1,disableDragging:!e.active||ze,resizeHandleClasses:{bottomLeft:"resize-handle bl",bottomRight:"resize-handle br",topLeft:"resize-handle tl",topRight:"resize-handle tr"},children:[(0,M.jsx)("div",{className:"".concat(e.required&&Ee&&"required"),ref:ui,style:{fontFamily:e.font.family,color:e.font.color,fontSize:e.font.size*Ue,fontWeight:e.font.bold?"bold":"",fontStyle:e.font.italic?"italic":"",textDecoration:e.font.underline?"underline":"",textAlign:e.font.align,pointerEvents:"none",overflowWrap:"break-word",whiteSpace:"pre-wrap",overflow:"hidden",opacity:e.opacity,transform:"rotate(".concat(e.angle,"deg)"),lineHeight:1},id:"inner".concat(e.id),children:(0,u.isEmpty)(e.data)?"Watermark":e.data}),(0,M.jsx)("div",{className:"delete-append",onClick:Jn,id:e.id,children:"\xd7"})]},e.id);else if("mask"==e.type)t=(0,M.jsx)(M.Fragment,{children:(0,M.jsxs)(Mt.p,{position:{x:e.position.x*Ue,y:e.position.y*Ue},size:{width:e.size.width*Ue,height:e.size.height*Ue},maxWidth:Ze.width*Ue,maxHeight:Ze.height*Ue,bounds:"parent",className:"append ".concat(e.active&&!ze||e.active&&null!==(n=e.classifiedUsers)&&void 0!==n&&n.some((e=>e.name.startsWith(ve.sub)&&"modify"===e.permission))?"active":""," ").concat(e.active&&we||e.active&&we&&null!==(a=e.classifiedUsers)&&void 0!==a&&a.some((e=>e.name.startsWith(ve.sub)&&"modify"===e.permission))?"animate":""),style:{backgroundColor:e.classifiedUsers&&e.classifiedUsers.some((e=>e.name.startsWith(ve.sub)))||!e.classifiedUsers?"rgba(0, 0, 0, 0.2)":"rgba(0, 0, 0, 1)",border:"none"},id:"append".concat(e.id),onMouseDown:t=>{e.classifiedUsers&&e.classifiedUsers.some((e=>e.name.startsWith(ve.sub)&&"modify"===e.permission))&&Qn(t)},onDragStop:ea,onResizeStop:ta,enableResizing:e.active&&!ze||e.active&&e.classifiedUsers&&e.classifiedUsers.some((e=>e.name.startsWith(ve.sub)&&"modify"===e.permission)),disableDragging:!(null!==(l=e.classifiedUsers)&&void 0!==l&&l.some((e=>e.name.startsWith(ve.sub)&&"modify"===e.permission))),resizeHandleClasses:null!==(s=e.classifiedUsers)&&void 0!==s&&s.some((e=>e.name.startsWith(ve.sub)&&"modify"===e.permission))?{bottomLeft:"resize-handle bl",bottomRight:"resize-handle br",topLeft:"resize-handle tl",topRight:"resize-handle tr"}:{},children:[(0,M.jsx)("div",{className:"append-tool-tip",children:e.toolTip}),e.classifiedUsers&&e.classifiedUsers.some((e=>e.name.startsWith(ve.sub)&&"modify"===e.permission))&&(0,M.jsx)("div",{className:"delete-append",onClick:Jn,id:e.id,children:"\xd7"})]},e.id)});else if("highlight"==e.type)t=(0,M.jsxs)(Mt.p,{position:{x:e.position.x*Ue,y:e.position.y*Ue},size:{width:e.size.width*Ue,height:e.size.height*Ue},maxWidth:Ze.width*Ue,maxHeight:Ze.height*Ue,bounds:"parent",className:"append ".concat(e.active&&!ze?"active":""," ").concat(e.active&&we?"animate":""),style:{backgroundColor:"rgb(208 233 2 / 50%)",border:la(e)},id:"append".concat(e.id),onMouseDown:Qn,onDragStop:ea,onResizeStop:ta,enableResizing:e.active&&!ze,disableDragging:!e.active||ze,resizeHandleClasses:{bottomLeft:"resize-handle bl",bottomRight:"resize-handle br",topLeft:"resize-handle tl",topRight:"resize-handle tr"},children:[(0,M.jsx)("div",{className:"append-tool-tip",children:e.toolTip}),(0,M.jsx)("div",{className:"delete-append",onClick:Jn,id:e.id,children:"\xd7"})]},e.id);else if(["sign","initial","icon","qr","barcode","image","workflow"].includes(e.type))t=(0,M.jsxs)(Mt.p,{position:{x:e.position.x*Ue,y:e.position.y*Ue},size:{width:e.size.width*Ue},minWidth:30*Ue,maxWidth:500*Ue,maxHeight:500*Ue,lockAspectRatio:!0,bounds:"parent",className:"".concat(e.required&&Ee&&"required"," append append-img ").concat(e.active&&!ze?"active":""," ").concat(e.active&&we?"animate":""),style:{backgroundColor:aa(e),border:la(e)},id:"append".concat(e.id),onClick:Qn,onDragStop:ea,onResizeStop:ta,enableResizing:e.active&&!ze,disableDragging:!e.active||ze,resizeHandleClasses:{bottomLeft:"resize-handle bl",bottomRight:"resize-handle br",topLeft:"resize-handle tl",topRight:"resize-handle tr"},children:[["qr","barcode","image"].includes(e.type)&&!Ce&&(0,M.jsx)("img",{src:e.data}),["qr","barcode","image"].includes(e.type)&&Ce&&(0,M.jsx)("img",{src:e.data?e.data:"/dms_editor/static/src/images/icons/".concat(e.type,".png")}),"icon"==e.type&&(0,M.jsx)("div",{dangerouslySetInnerHTML:{__html:e.data},className:"svg-div"}),["sign","initial"].includes(e.type)&&(0,M.jsx)("img",{src:e.data?e.data:"/dms_editor/static/src/images/icons/".concat(e.type,".png")}),"workflow"===e.type&&(0,M.jsx)("img",{src:"/dms_editor/static/src/images/icons/".concat(e.type,".png")}),(0,M.jsx)("div",{className:"append-tool-tip",children:e.toolTip}),(0,M.jsx)("div",{className:"delete-append",onClick:Jn,id:e.id,children:"\xd7"})]},e.id);else if("checkbox"==e.type||"radio"==e.type)t=(0,M.jsxs)(Mt.p,{position:{x:e.position.x*Ue,y:e.position.y*Ue},bounds:"parent",className:"append append-check ".concat(e.active&&!ze?"active":""," ").concat(e.active&&we?"animate":""),style:{backgroundColor:aa(e),border:la(e)},id:"append".concat(e.id),onClick:Qn,onDragStop:ea,enableResizing:!1,disableDragging:!e.active||ze,children:[(0,M.jsxs)("div",{id:"append".concat(e.id),style:{display:"flex",alignItems:"center",gap:"8px"},children:["checkbox"==e.type?(0,M.jsx)("input",{className:"".concat(e.required&&Ee&&"required"," ").concat(e.required&&e.checked&&"checkbox--checked"),type:"checkbox",checked:e.checked,style:{marginBottom:"".concat(e.required?"auto":"0")},readOnly:!0}):(0,M.jsx)("div",{className:"radio ".concat(e.checked?"checked":e.required&&Ee&&"required")}),!(0,u.isEmpty)(e.data)&&(0,M.jsx)("div",{style:{pointerEvents:"none",marginRight:"8px",fontFamily:e.font.family,fontSize:e.font.size},children:e.data})]}),(0,M.jsx)("div",{className:"append-tool-tip",children:e.toolTip}),(0,M.jsx)("div",{className:"delete-append",onClick:Jn,id:e.id,children:"\xd7"})]},e.id);else if("dynamic"==e.type)t=(0,M.jsxs)(Mt.p,{position:{x:e.position.x*Ue,y:e.position.y*Ue},bounds:"parent",className:"append ".concat(e.active&&!ze?"active":""," ").concat(e.active&&we?"animate":""),style:{backgroundColor:aa(e),border:la(e)},id:"append".concat(e.id),onClick:Qn,onDragStop:ea,enableResizing:!1,disableDragging:!e.active||ze,children:[we?(0,M.jsx)("input",{type:"button",value:"Link"===e.action?"CLICK HERE":"SUBMIT",onClick:()=>{return t=e,void("form"===oe.type&&("Submit"===t.action?se(tt):"Link"===t.action&&window.open(t.data)));var t},disabled:"Link"!==e.action&&Fe.finishDisable}):(0,M.jsx)("input",{id:"append".concat(e.id),type:"button",value:"Link"===e.action?"CLICK HERE":"SUBMIT"}),(0,M.jsx)("div",{className:"delete-append",onClick:Jn,id:e.id,children:"\xd7"})]},e.id);else if("dropdown"==e.type)t=(0,M.jsxs)(Mt.p,{position:{x:e.position.x*Ue,y:e.position.y*Ue},bounds:"parent",className:"append append-check ".concat(e.active&&!ze?"active":""," ").concat(e.active&&we?"animate":""),style:{backgroundColor:aa(e),border:la(e),padding:"5px"},id:"append".concat(e.id),onClick:Qn,onDragStop:ea,enableResizing:!1,disableDragging:!e.active||ze,children:[(0,M.jsxs)("div",{className:"".concat(e.required&&Ee&&"required"),style:{minWidth:"100px",fontSize:e.font.size*Ue,fontFamily:e.font.family,color:e.font.color,pointerEvents:"none",lineHeight:1.2},children:[(0,u.isEmpty)(e.data)?(0,M.jsx)("span",{style:{color:"#777",fontFamily:e.font.family,fontSize:e.font.size*Ue,fontWeight:e.font.bold?"bold":"",fontStyle:e.font.italic?"italic":""},children:"select"}):e.data,(0,M.jsx)("span",{style:{float:"right",color:"gray",marginLeft:10},children:"\u25bc"})]}),(0,M.jsx)("div",{className:"append-tool-tip",children:e.toolTip}),(0,M.jsx)("div",{className:"delete-append",onClick:Jn,id:e.id,children:"\xd7"})]},e.id);else if("time"==e.type)t=(0,M.jsxs)(Mt.p,{position:{x:e.position.x*Ue,y:e.position.y*Ue},bounds:"parent",className:"append ".concat(e.active&&!ze?"active":""," ").concat(e.active&&we?"animate":""),style:{backgroundColor:aa(e),border:la(e),padding:"5px"},id:"append".concat(e.id),onClick:Qn,onDragStop:ea,enableResizing:!1,disableDragging:!e.active||ze,children:[(0,M.jsx)("div",{className:"".concat(e.required&&Ee&&"required"),ref:ui,style:{fontFamily:e.font.family,color:e.font.color,fontSize:e.font.size*Ue,fontWeight:e.font.bold?"bold":"",fontStyle:e.font.italic?"italic":"",textDecoration:e.font.underline?"underline":"",textAlign:e.font.align,pointerEvents:"none",overflowWrap:"break-word",whiteSpace:"pre-wrap",textTransform:"textbox"!=e.type?"capitalize":"",overflow:"hidden"},id:"inner".concat(e.id),children:""===e.data||null===e.data?"HH : MM":e.data}),(0,M.jsx)("div",{className:"append-tool-tip",children:e.toolTip}),(0,M.jsx)("div",{className:"delete-append",onClick:Jn,id:e.id,children:"\xd7"})]},e.id);else if("address"===e.type){const i=()=>we||vt?(0,u.isEmpty)(e.data)?(0,u.isEmpty)(e.dataPlaceholder)?(0,M.jsx)("span",{style:{color:"#777",fontWeight:"normal"},children:e.labelPlaceholder}):(0,M.jsx)("span",{style:{color:"#777",fontWeight:"normal"},children:e.dataPlaceholder}):e.data:(0,u.isEmpty)(e.dataPlaceholder)?(0,M.jsx)("span",{style:{color:"#777",fontWeight:"normal"},children:e.labelPlaceholder}):e.dataPlaceholder;t=(0,M.jsxs)(Mt.p,{position:{x:e.addressPosition.x*Ue,y:e.addressPosition.y*Ue},bounds:"parent",className:"append ".concat(e.active&&!ze?"active":""," ").concat(e.active&&we?"address-animation":""),style:{backgroundColor:aa(e),border:la(e),padding:"5px"},id:"append".concat(e.id),onClick:Qn,onDragStop:ea,enableResizing:!1,disableDragging:!e.active||ze,children:[(0,M.jsx)("div",{className:"".concat(e.required&&Ee&&"required"),style:{fontSize:e.font.size*Ue,fontFamily:e.font.family,color:e.font.color,position:"absolute",top:"-24px"},id:"append".concat(e.id),onClick:Qn,children:(0,u.isEmpty)(e.label)?e.labelPlaceholder:e.label},"".concat(e.id,"label")+"ref"),(0,M.jsxs)("div",{ref:ui,style:{fontSize:e.font.size*Ue,fontFamily:e.font.family,color:e.font.color,padding:"5px",marginBottom:"10px",width:["postalZipCode"].includes(e.unique)?"530px":"250px",marginRight:"5px"},id:"append".concat(e.id),onClick:Qn,children:[i(),"country"===e.unique&&(0,M.jsx)("span",{style:{float:"right",color:"gray",marginLeft:10},children:"\u25bc"})]},"".concat(e.id,"label")),(0,M.jsx)("div",{className:"append-tool-tip",children:e.toolTip}),(0,M.jsx)("div",{className:"delete-append",onClick:Jn,id:e.id,children:"\xd7"})]},"rnd-".concat(e.id))}return t})),ca=ut.map((e=>{const t=tt.filter((t=>t.group===e&&t.page===Ke&&t.hash===jt.hash_url));if(t.filter((e=>e.active)).length<1)return;const i={x:Math.min(...t.map((e=>e.position.x)))*Ue-10,y:Math.min(...t.map((e=>e.position.y)))*Ue-10},n=(Math.max(...t.map((e=>e.position.x))),Math.min(...t.map((e=>e.position.x))),Math.max(...t.map((e=>e.position.y)))*Ue-Math.min(...t.map((e=>e.position.y)))*Ue+56);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("div",{className:"border",style:{left:i.x,top:i.y,width:Yn(t).width+8,height:Yn(t).height+8}}),!ze&&(0,M.jsx)("div",{className:"add-data",group:e,length:t.length,type:t[0].type,style:{left:i.x+Yn(t).width+8,top:i.y+n/2-10},onClick:sa,children:"+"}),!ze&&(0,M.jsx)(Mt.p,{bounds:".append-layer",className:"move-group",id:e,position:{x:i.x-20,y:i.y-20},onDragStart:ia,onDragStop:na,enableResizing:!1,children:(0,M.jsx)(k.A,{})})]})})),da=()=>{const e=tt.filter((e=>e.group===Pt)),[t,i]=(0,h.useState)({width:0,height:0}),[n,a]=(0,h.useState)({x:Math.min(...e.map((e=>e.addressPosition.x)))*Ue-8,y:Math.min(...e.map((e=>e.addressPosition.y)))*Ue-24}),[l,s]=(0,h.useState)(null);h.useEffect((()=>{i({width:Gn(e).width,height:Gn(e).height})}),[tt]);const r=e.some((e=>e.isGroupSelected));return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("div",{className:"border ".concat(r&&"border-solid"),style:{left:n.x,top:n.y,width:t.width,height:t.height,padding:"8px"},children:[(0,M.jsx)(mn,{onClick:e=>{e.stopPropagation(),e.nativeEvent.stopImmediatePropagation();const t=tt.filter((e=>e.group===Pt)),i=tt.filter((e=>e.group!==Pt));t.forEach((e=>{e.isGroupSelected=!0})),it([...i,...t])},children:(0,M.jsx)(k.A,{style:{width:"20px",height:"20px"}})}),(0,M.jsx)("div",{style:{position:"absolute",width:"20px",height:"20px",borderRadius:"50%",color:"#fff",top:"-12px",right:"-12px",background:"red",cursor:"pointer",pointerEvents:"all"},onClick:e=>{e.stopPropagation(),e.nativeEvent.stopImmediatePropagation();const t=tt.filter((e=>e.group!==Pt));Bt(null),We(null),He(null),it(t)},children:"\xd7"})]}),!ze&&(0,M.jsx)(Mt.p,{bounds:".append-layer",className:"move-group",id:Pt,position:{x:n.x-20,y:n.y-20},onDragStart:(e,t)=>{s({x:t.x,y:t.y})},onDragStop:(e,t)=>{a({x:t.x,y:t.y});const i=t.x-l.x,n=t.y-l.y,s=tt.filter((e=>e.group===Pt)),r=tt.filter((e=>e.group!==Pt));s.forEach((e=>{e.addressPosition.x=e.addressPosition.x+i,e.addressPosition.y=e.addressPosition.y+n})),it([...s,...r])},enableResizing:!1})]})},ua="form"===oe.type&&(null===Z||void 0===Z||null===(B=Z.creator_plan)||void 0===B?void 0:B.is_free)&&0===(null===Z||void 0===Z||null===(V=Z.creator_plan)||void 0===V||null===(H=V.monthly_features)||void 0===H?void 0:H.num_of_form_filled_by_users);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("div",{id:"editor-app",children:[(0,M.jsx)(tn,{aRef:vi,data:{editorDisabled:ze,workingUser:Z.workingUser}}),(0,M.jsx)(Hi,{loading:Z.loadingData,fileInfo:Z.file,hRef:hi,leaveConfirm:Ri,setActiveTool:He,signDoc:we,appendData:tt,setAppendData:it,signer:ct,children:function(){var e,t,i;if(we){const e=!Fe.finishDisable;return(0,M.jsxs)(M.Fragment,{children:[Ae||je||"form"===oe.type?zn():!Ee&&(0,M.jsx)(o.Ay,{onClick:()=>{Re&&null!==Te&&void 0!==Te&&Te.is_mobile?(0,_.A)({type:"decline"}):te()},className:"cancelButton",id:"decline-doc",type:"text",children:(0,M.jsx)(f.A,{id:"common.decline"})}),!("form"===oe.type&&_e)&&(0,M.jsx)(o.Ay,{onClick:async()=>{je&&e?le(tt):wn(e?Ee?"submitForm":"finish":"")},className:"doneBtn",type:"primary",id:"finish-doc",disabled:!ri,children:(0,M.jsx)(f.A,{id:e?Ee?"submit":"common.finish":"settings.next"})})]})}return(0,M.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[zn(),Ce||_e||!(0,Vi.s)(ae.privilege_type,ae.permission,N.$P,ae.role)?(0,M.jsxs)(M.Fragment,{children:[Z.write&&!_e&&(0,M.jsx)(s.A,{placement:"bottom",title:!Re&&!ze&&(0,M.jsx)(f.A,{id:"document.saveChanges"}),children:(0,M.jsx)(o.Ay,{loading:"draft"===Z.saving,onClick:()=>dn("draft"),className:"doneBtn",id:"save-doc",type:"primary",disabled:ze||JSON.stringify(tt)==JSON.stringify(Qe),children:(0,M.jsx)(f.A,{id:"common.save"})})}),(tt.some((e=>"mask"===e.type))||(null===(t=Z.file)||void 0===t||null===(i=t.tags)||void 0===i?void 0:i.some((e=>"Top secret"===e.name))))&&_e&&(0,M.jsx)(s.A,{placement:"bottom",title:!Re&&!ze&&(0,M.jsx)(f.A,{id:"document.saveChanges"}),children:(0,M.jsx)(o.Ay,{loading:"draft"===Z.saving,onClick:()=>dn("draft"),className:"doneBtn",id:"save-doc",type:"primary",disabled:JSON.stringify(tt)==JSON.stringify(Qe),children:(0,M.jsx)(f.A,{id:"common.save"})})})]}):(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(s.A,{placement:"bottom",title:!Re&&"This option will save the PDF file with all the layers for future edit/change",children:(0,M.jsx)(o.Ay,{onClick:()=>dn("finish"),className:"doneBtn send-button",id:"finish-doc",type:"primary",disabled:ze||(Se?tt.filter((e=>"sign"==e.type&&e.data)).length<1:(0,u.isEqual)(tt,Qe)&&(0,u.isEqual)(lt,nt)),children:Se&&De&&(0,Vi.s)(ae.privilege_type,ae.permission,N.$P,ae.role)?(0,M.jsx)(f.A,{id:"common.finish"}):(0,M.jsx)(f.A,{id:"common.save"})})}),!Se&&!ke&&(0,M.jsx)(s.A,{placement:"bottom",title:!Re&&"This option to send a sign request to other users, in case you have added a sign request fileds for other users; like signatures,text,date,etc.",children:(0,M.jsx)(o.Ay,{onClick:()=>{var e;dn("Form"===(null===Z||void 0===Z||null===(e=Z.file)||void 0===e?void 0:e.doc_type)?"preview":"send")},className:"doneBtn send-button",id:"finish-doc",type:"primary",disabled:vt||ze||tt.some((e=>"mask"===e.type))||tt.filter((e=>{var t;return("sign"==e.type||"initial"==e.initial)&&("Form"!==(null===Z||void 0===Z||null===(t=Z.file)||void 0===t?void 0:t.doc_type)&&null==e.signer&&!e.data)})).length>0||tt.find((e=>{if("setting"===e.type)return!e.recipients.length})),children:(0,M.jsx)(f.A,{id:"Form"===(null===Z||void 0===Z||null===(e=Z.file)||void 0===e?void 0:e.doc_type)?"common.preview":"common.send"})})}),(0,M.jsx)(ln,{id:"action-btn",rowData:Z.file,appendJson:on(tt),dData:Zt,className:"more-drop-down"})]}),Ce&&(0,Vi.s)(ae.privilege_type,ae.permission,N.$P,ae.role)&&(0,M.jsx)(s.A,{placement:"bottom",title:!Re&&(0,M.jsx)(f.A,{id:"document.createDoc"}),children:(0,M.jsx)(o.Ay,{onClick:()=>dn("create-doc"),className:"doneBtn",id:"create-doc",type:"primary",children:(0,M.jsx)(f.A,{id:"common.create"})})})]})}()}),function(){var e,t;return(0,M.jsxs)(qi,{tRef:gi,activeTool:Ve,children:[(0,M.jsxs)(M.Fragment,{children:[tt&&tt.some((e=>"mask"===e.type))?Z.file.user_id==ve.sub&&(null===Z||void 0===Z?void 0:Z.user_json_version)&&(0,M.jsx)(s.A,{title:"Json Version",placement:"left",children:(0,M.jsx)(a.A,{style:{position:"absolute",left:210,minWidth:"50px",textAlign:"left",height:"auto"},value:qt||0,dropdownRender:e=>(0,M.jsx)(M.Fragment,{children:e}),options:null===Z||void 0===Z||null===(e=Z.user_json_version)||void 0===e?void 0:e.map((e=>({label:"v".concat(e.version),value:e.version}))),disabled:!qt||"Pending"!==Z.file.status,onChange:Sn})}):(null===Z||void 0===Z?void 0:Z.user_json_version)&&(0,M.jsx)(s.A,{title:"Json Version",placement:"left",children:(0,M.jsx)(a.A,{style:{position:"absolute",left:210,minWidth:"50px",textAlign:"left",height:"auto"},value:qt||0,dropdownRender:e=>(0,M.jsx)(M.Fragment,{children:e}),options:null===Z||void 0===Z||null===(t=Z.user_json_version)||void 0===t?void 0:t.map((e=>({label:"v".concat(e.version),value:e.version}))),disabled:!qt||"Pending"!==Z.file.status,onChange:Sn})}),!we&&Dn.map((e=>{var t,i,n;const a="Template"===(null===Z||void 0===Z||null===(t=Z.file)||void 0===t?void 0:t.doc_type),o="Document"===(null===Z||void 0===Z||null===(i=Z.file)||void 0===i?void 0:i.doc_type),c=Se&&"sign"!==e.type&&"initial"!==e.type,d=e.disabled&&e.disabled.indexOf(null===Z||void 0===Z||null===(n=Z.file)||void 0===n?void 0:n.doc_type)>-1,u=(c||d||ze)&&"comments"!==e.type;return"space"===e.type?(0,M.jsx)("div",{className:"separator"},e.type):e.page&&e.page.includes("template")&&!a||e.page&&e.page.includes("document")&&!o?(0,M.jsx)("div",{},e.type):(0,M.jsx)(en,{className:"tool-btn ".concat("team"===ae.role&&!(0,Vi.s)(ae.privilege_type,ae.permission,N.$P,ae.role)||u?"disabled":""),name:e.type,handleClick:()=>u||Fe.imgLoading?null:Mi(e.type),children:(0,M.jsx)(l.A,{spinning:Fe.imgLoading===e.type,children:(0,M.jsxs)(s.A,{className:"iconSpan icon-".concat(e.type),title:!e.label||u||Re?"select"===e.type?"Use this tool to select your Objects and your Drawings":"":(0,M.jsx)(f.A,{id:e.label}),placement:"select"===e.type?"right":"bottom",children:[(0,M.jsx)("span",{className:"toolIcon",children:(0,M.jsx)(Xi,{name:e.icon||e.type})}),"comments"===e.type&&(0,M.jsx)(r.A,{checked:Z.showComments,onChange:e=>$((t=>({...t,showComments:e}))),size:"small"}),"metaData"===e.type&&(0,M.jsx)(r.A,{checked:Z.showMetaData,onChange:e=>{!function(e){e?tt.forEach((e=>{(""===e.metaDataText||!e.metaDataText)&&e.type&&e.page&&e.id&&(e.metaDataText="".concat(e.type,"-").concat(e.page,"-").concat(e.id))})):tt.forEach((e=>{e.metaDataText=""})),it(tt)}(e),$((t=>({...t,showMetaData:e})))},size:"small"}),(0,M.jsx)("span",{className:"toolName",children:(0,M.jsx)(f.A,{id:e.title})})]})})},e.type)})),we&&!Ee&&!Ce&&(0,M.jsx)("div",{style:{fontSize:"1rem",fontWeight:"bold"},children:"Please read and sign the document below"})]}),(0,M.jsx)(Qi,{zoom:Ue,setZoom:Ge,setPageNumber:Je,pageNums:Ye,pageNumber:Ke,setDocData:$,signDoc:we}),(0,M.jsx)(M.Fragment,{children:!we&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(o.Ay,{icon:(0,M.jsx)(b.A,{}),onClick:An,disabled:!qe||ze,style:{":hover":{color:"#0097A7"}}}),(0,M.jsx)(o.Ay,{icon:(0,M.jsx)(j.A,{}),onClick:En,disabled:!gt||ze,style:{":hover":{color:"#0097A7"}}})]})}),(0,M.jsx)(M.Fragment,{children:!we&&(0,M.jsx)(en,{handleClick:()=>{He("file-info"),qe||We(!0),tt.forEach((e=>e.active=!1))},className:"tool-btn info-btn",children:(0,M.jsx)(s.A,{title:(0,M.jsx)(f.A,{id:"common.fInfo"}),placement:"bottom",children:(0,M.jsx)("span",{className:"iconSpan",children:(0,M.jsx)(w.A,{})})})})})]})}(),(0,M.jsx)(Wi,{visible:Nn(),totalHeaderHeight:Ti,view:Le,activeTool:Ve,activeSelection:qe,children:(0,M.jsxs)(h.Suspense,{fallback:(0,M.jsx)(l.A,{}),children:["roles"===Ve&&(0,M.jsx)(Pi,{setActiveTool:He,docData:Z,setDocData:$,canvasAry:ci}),["file-info","file-history"].includes(Ve)&&(0,M.jsx)(Yi,{activeTool:Ve,setActiveTool:He,docId:ge,fInfo:(null===Z||void 0===Z?void 0:Z.fInfo)||{},setDocData:$}),(0,M.jsx)(Nt,{undoRef:Kt,redoRef:Jt,activeTool:ei,activeSelection:ii,activeCanvas:li}),qe&&!_n&&!["file-info","file-history","roles"].includes(Ve)&&(0,M.jsx)(Ui,{zoom:Ue,activeSelection:qe,setActiveTool:He,appendData:tt,setAppendData:it,contacts:rt,setContacts:ot,signer:ct,setState:Be,isOnly:vt,isEditorDisabled:ze,signDoc:we,docData:Z,setDocData:$,template:Ce,form:Ee,checkFinish:kn,canvasActiveTool:ei,canvasActiveSelection:ii,activeCanvas:li,undoRef:Kt,pageSize:Ze,redoRef:Jt,viewDoc:jt,setSigner:e=>{dt(e)},textBoxRef:ui,pageNums:Ye,setDefaultTemp:zi,fileMetaData:Oi}),"stamp"===Ve&&!qe&&(0,M.jsx)(Ki,{title:(0,M.jsx)(f.A,{id:"tools.".concat(Ve)}),canvas:mi,mobile:Re,activeTool:Ve,DocListRef:pi,setActiveTool:He}),["shapes","symbols"].includes(Ve)&&!qe&&(0,M.jsx)(Gi,{title:(0,M.jsx)(f.A,{id:"tools.".concat(Ve)}),type:Ve,appendData:tt,setAppendData:it,pageNumber:Ke,template:Ce,viewDoc:jt}),"group"==Ve&&!qe&&(0,M.jsx)("div",{children:(0,M.jsx)("p",{className:"title",children:(0,M.jsx)("span",{className:"titleHeader",children:"Group Select"})})})]})}),ua?(0,M.jsxs)(d.A,{title:"Free plan limit reached!",visible:ua,onCancel:()=>Q(),destroyOnClose:!0,footer:!1,children:[(0,M.jsx)("h2",{className:"mainTitle",children:"Contact to the Form Admin."}),(0,M.jsxs)("p",{className:"contentOne",children:["Name:"," ",(0,M.jsxs)("span",{style:{fontWeight:"bold"},children:[" ",Z.creator_info.first_name+Z.creator_info.last_name," "]})," "]}),(0,M.jsxs)("p",{className:"contentOne",children:["Email:"," ",(0,M.jsxs)("span",{style:{fontWeight:"bold"},children:[" ",Z.creator_info.email," "]})," "]})]}):function(){var e;return"Original"==jt.name||"pdf"==jt.type?(0,M.jsxs)(Rt.A,{file:"".concat(zt.A.apiUrl,"files/get-pdf-data/").concat(jt.hash_url),onLoadSuccess:Ln,className:we?"document-view sign-view":"document-view",ref:yi,children:[!we&&(0,M.jsxs)("div",{className:"tools",children:[(0,M.jsx)("input",{type:"file",accept:"image/*",ref:bi,style:{display:"none"},onChangeCapture:rn}),(0,M.jsx)(Ji,{state:Fe,docData:Z,activeTool:Ve,onToolClick:Mi,type:"Dynamic",isAttachment:!1,isDisabledSection:!(0,Vi.s)(ae.privilege_type,ae.permission,N.$P,ae.role)})]}),"pdf-template"!==St&&"pdf-metadata"!==St?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("div",{className:"pagination visible",children:Bn(Ye)}),0!==tt.length&&(0,M.jsxs)(Tt.A,{loading:(0,M.jsx)("div",{className:"pdf-loader"}),pageNumber:Ke,className:"page-view",width:Ze.width*Ue,onLoadSuccess:Pn,renderAnnotationLayer:!1,renderTextLayer:!1,children:[(0,M.jsx)("div",{onClick:()=>{(0,u.isEmpty)(ii)&&"select"===ei&&ti(null)},children:(0,M.jsx)(_t,{id:Ke,activeTool:ei,setActiveTool:ti,activeSelection:ii,setActiveSelection:ni,activeCanvas:li,setActiveCanvas:si,size:Ze,canvasData:tt.find((e=>e.id===Ke)),setAppendData:it,appendData:tt,undoRef:Kt,redoRef:Jt,isCanvasActive:Boolean(_n)})}),(0,M.jsxs)("div",{id:"append-div",className:"append-layer",onClick:qn,onMouseDown:Wn,onMouseUp:Un,onMouseEnter:Vn,onMouseMove:Xn,onMouseLeave:Kn,onKeyDown:$n,tabIndex:0,style:{width:Ze.width*Ue,height:Ze.height*Ue,left:"calc( 50% - ".concat(Ze.width*Ue,"px / 2)")},children:[Z.showComments&&(0,M.jsx)(ai,{ref:xi,docId:null===Z||void 0===Z||null===(e=Z.file)||void 0===e?void 0:e.id,pageSize:Ze,pageNumber:Ke,comments:lt,setComments:st,uData:ae,setdImg:()=>console.log("setdimg..."),isMobile:Re,zoom:Ue}),oa,ca,pt&&(0,M.jsx)("div",{className:"select-div",style:pt}),!(0,u.isEmpty)(tt.filter((e=>e.group===Pt)))&&!ze&&(0,M.jsx)(da,{})]})]})]}):"pdf-template"===St?(0,M.jsx)(Ci,{initialValues:Ai,handleSubmit:Li,defaultTemp:ki,setDefaultTemp:Si}):(0,M.jsx)(fi,{initialValues:tt,handleSubmit:Li,defaultTemp:ki,fileMetaData:Oi,setDefaultTemp:zi})]}):cn.includes(jt.type)?""==At?(0,M.jsx)(l.A,{tip:"Loading attachment..."}):(0,M.jsx)("img",{src:At,alt:"File"}):""==At?(0,M.jsx)(l.A,{tip:"Loading attachment..."}):(0,M.jsx)(an,{url:"https://docs.google.com/viewerng/viewer?url=".concat(At,"&embedded=true")})}()]}),(0,M.jsx)(Zi,{docId:ge,visible:Fe.addQrVisible,handleSubmit:e=>{e&&$((t=>({...t,qrCode:e})))},onClose:()=>{Be((e=>({...e,addQrVisible:!1})))}}),0===be?(0,M.jsx)(S.default,{modal:!0,msg:"document.signUpgradeLimit",visible:!!Fe.signVisible,onClose:()=>Be((e=>({...e,signVisible:!1})))}):(0,M.jsx)($i,{className:"addSignModal",visible:!!Fe.signVisible,type:null===Fe||void 0===Fe?void 0:Fe.signVisible,user:ct,user_id:null===Z||void 0===Z||null===(q=Z.file)||void 0===q?void 0:q.user_id,onClose:()=>Be((e=>({...e,signVisible:!1}))),handleSubmit:e=>{var t;qe.data=e,(we||Se||Ce||vt||(null===(t=qe.signer)||void 0===t?void 0:t.email)==(null===ct||void 0===ct?void 0:ct.email))&&kn(),Be((e=>({...e,signVisible:!1})))},showSaved:!0}),(0,M.jsx)(Ot.default,{type:null===Fe||void 0===Fe||null===(W=Fe.classifiedVisible)||void 0===W?void 0:W.visible,visible:!(null===Fe||void 0===Fe||null===(U=Fe.classifiedVisible)||void 0===U||!U.visible),temporaryVerify:null===Fe||void 0===Fe||null===(G=Fe.classifiedVisible)||void 0===G?void 0:G.temporaryVerify,onClose:()=>Be((e=>({...e,classifiedVisible:{}}))),handleSubmit:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;console.log(e),Be((e=>({...e,verified:!0,classifiedVisible:{}})))},rowData:{security_type:null===Fe||void 0===Fe||null===(Y=Fe.classifiedVisible)||void 0===Y?void 0:Y.visible,user_id:Fe.user_id||"",sign_url:Z.sign_hash,voiceCode:Z.voiceCode},modalProps:{closable:!1,maskClosable:!1,cancelText:(0,M.jsx)(f.A,{id:"common.cancel"}),onCancel:()=>{Be((e=>({...e,classifiedVisible:{}})))},footer:["classified","two_factor","two_factor_microsoft"].indexOf(null===Fe||void 0===Fe||null===(X=Fe.classifiedVisible)||void 0===X?void 0:X.visible)>-1?void 0:null},docData:Z}),Fe.sec_not_enabled_for_file&&(0,M.jsx)(d.A,{visible:Fe.sec_not_enabled_for_file,onClose:()=>Be((e=>({...e,sec_not_enabled_for_file:!1}))),title:(0,M.jsx)(f.A,{id:"common.enable2fa"}),onCancel:()=>Be((e=>({...e,sec_not_enabled_for_file:!1}))),destroyOnClose:!0,footer:null,children:(0,M.jsxs)("p",{className:"contentOne",children:["Please, Enable your"," ","two_factor"===Z.security_not_enabled?"Google":"Mircrosoft"," ","2FA under"," ",(0,M.jsx)(Ft.N_,{to:"/dashboard/security-settings",children:"security setting"})," ","first in order to sign this document."]})}),ye.fileData&&(0,M.jsx)(Lt.default,{visible:"sendFile"===ye.type,type:"send",onClose:()=>re(sn()),rowData:ye.fileData,handleSubmit:()=>{re(sn()),(0,_.A)({type:"back",message:"fileManage.fileSaved"})}}),!we&&(null===Fe||void 0===Fe?void 0:Fe.attachVisible)&&(0,M.jsx)(nn,{visible:Fe.attachVisible,onClose:()=>Be((e=>({...e,attachVisible:!1}))),handleSubmit:e=>{const t=(0,u.cloneDeep)(tt),i=[jt,...e];t.forEach((e=>{"setting"==e.type&&(e.attachments=i)})),it(t.filter((e=>"setting"==e.type||i.map((e=>e.hash_url)).includes(e.hash)))),Ct([jt,...e]),Be((e=>({...e,attachVisible:!1})))},selectedAttachments:kt})]})},un=e=>{switch(e){case"textbox":case"textbox1":case"date1":case"refnumber":return"none";case"email":return"lowercase";default:return"capitalize"}},mn=(O.Ay.div(Ti||(Ti=(0,n.A)(["\n  position: absolute;\n  top: -20px;\n  left: -20px;\n  .anticon svg {\n    width: 20px;\n    height: 20px;\n  }\n"]))),O.Ay.div(Ri||(Ri=(0,n.A)(["\n  position: absolute;\n  left: -24px;\n  top: -24px;\n  cursor: pointer;\n  pointer-events: all;\n  border: none;\n  outline: none;\n  .anticon svg {\n    width: 20px;\n    height: 20px;\n  }\n"])))),pn=(0,O.Ay)(Mt.p)(Mi||(Mi=(0,n.A)(["\n  outline: "," !important;\n  line-height: 1.3;\n"])),(e=>e.outline))},23101:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>fa});var n,a=i(51400),l=i(33046),s=i(79378),r=i(20142),o=i(90421),c=i(44070),d=i(62298),u=i(2835),m=i(55067),p=i(46995),h=i(9950);function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},g.apply(this,arguments)}function f(e,t){let{title:i,titleId:a,...l}=e;return h.createElement("svg",g({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t,"aria-labelledby":a},l),i?h.createElement("title",{id:a},i):null,n||(n=h.createElement("g",null,h.createElement("g",null,h.createElement("path",{d:"M423.547,323.115l-320-320c-3.051-3.051-7.637-3.947-11.627-2.304s-6.592,5.547-6.592,9.856V480 c0,4.501,2.837,8.533,7.083,10.048c4.224,1.536,8.981,0.192,11.84-3.285l85.205-104.128l56.853,123.179 c1.792,3.883,5.653,6.187,9.685,6.187c1.408,0,2.837-0.277,4.203-0.875l74.667-32c2.645-1.131,4.736-3.285,5.76-5.973 c1.024-2.688,0.939-5.675-0.277-8.299l-57.024-123.52h132.672c4.309,0,8.213-2.603,9.856-6.592 C427.515,330.752,426.598,326.187,423.547,323.115z"})))))}const v=h.forwardRef(f);i.p;var x;function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},y.apply(this,arguments)}function b(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",y({viewBox:"0 0 24 24",id:"redesign--draw",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,x||(x=h.createElement("path",{fillRule:"evenodd",d:"M11.293 19.262c.198-.069.407-.137.676-.198.582-.195.582-.195 1.27-.372.326-.037.653-.07 1.03-.054.095.005.194.012.306.034.113.022.235.045.406.135a.921.921 0 0 1 .3.257c.11.136.187.367.18.549a1.03 1.03 0 0 1-.084.404 1.305 1.305 0 0 1-.123.225 2.213 2.213 0 0 1-.25.304l.424-.057a32.46 32.46 0 0 1 1.709-.185 18.879 18.879 0 0 1 1.545-.063c.48-.006.92.011 1.308.041.389.025.725.065 1.002.105.553.077 1.013.152 1.013.152s-.464.045-1.014.115l-.984.142c-.377.063-.802.133-1.261.216-.924.176-1.986.405-3.138.667l-.892.187a7.43 7.43 0 0 1-.484.078 3.355 3.355 0 0 1-.278.023c-.105 0-.203.01-.395-.038-.084-.028-.248-.063-.425-.286a.81.81 0 0 1-.154-.41.93.93 0 0 1 .029-.31c.083-.269.164-.346.232-.45.137-.179.26-.307.386-.435l.025-.025a7.862 7.862 0 0 0-.287.024c-.554.114-.6.122-1.182.273-.574.098-.878.19-1.406.29l-.567.103C9.258 21.525 7.93 22 6.526 22c-1.522-.01-3.033-.754-4.298-2.093a.834.834 0 0 1-.152-.922.83.83 0 0 1 .796-.484c1.467.075 1.584-.366 1.868-1.326.136-.46.29-.983.629-1.447.643-.881 1.593-1.4 2.55-1.474L19.287 2.26A.828.828 0 0 1 19.888 2c1.073 0 2.05.98 2.05 2.056a.838.838 0 0 1-.173.51L11.573 17.788a3.4 3.4 0 0 1-.28 1.475zM6.334 17.65c-.214.72-.502 1.692-1.54 2.194.565.317 1.142.485 1.7.49h.033c1.182 0 2.265-.448 2.904-1.202.339-.4.501-.846.49-1.279l-1.94-1.945c-.46.06-.94.351-1.269.804-.169.231-.271.575-.378.938zm3.133-2.61l1.197 1.2 9.534-12.368a.648.648 0 0 0-.072-.08L9.467 15.04z"})))}const j=h.forwardRef(b);i.p;var w,A,E;function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},k.apply(this,arguments)}function C(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",k({enableBackground:"new 0 0 285 285",viewBox:"0 0 285 285",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,w||(w=h.createElement("path",{d:"m216.818 271.424h-189.997v-189.997h61.713c3.748 0 6.788-3.04 6.788-6.788v-61.063h121.496v29.246c.3-.037.591-.115.903-.127 1.753-.068 5.165.019 9.708 1.237.909.235 1.917.572 2.965.934v-38.078c0-3.748-3.04-6.788-6.788-6.788h-135.712c-1.8 0-3.532.714-4.803 1.985l-67.86 67.861c-1.271 1.271-1.985 2.993-1.985 4.793v203.583c0 3.741 3.04 6.778 6.788 6.778h203.573c3.748 0 6.788-3.037 6.788-6.778v-105.212c-3.68 3.612-8.554 5.592-13.576 5.765z"})),A||(A=h.createElement("path",{d:"m267.485 46.164c-4.305-4.305-7.768-4.289-8.139-4.268-.52.016-1.015.235-1.379.597l-15.422 15.422c2.242 1.395 4.704 3.278 7.301 5.875 2.61 2.61 4.49 5.068 5.888 7.308l15.406-15.418c.377-.371.587-.857.612-1.376.019-.387.031-3.835-4.267-8.14z"})),E||(E=h.createElement("path",{d:"m254.571 110.462-7.465 7.465-4.966-4.96 13.347-13.347c1.15-1.15 1.831-2.703 1.905-4.323.049-1.206.111-12.088-13.421-25.621-13.529-13.539-24.412-13.467-25.621-13.427-1.63.081-3.17.761-4.32 1.911l-115.179 115.165c-.708.705-1.252 1.584-1.565 2.549l-16.124 48.372c-.779 2.338-.173 4.917 1.581 6.673 1.735 1.744 4.32 2.345 6.655 1.565l48.384-16.131c.959-.321 1.818-.865 2.533-1.552l97.032-97.035 4.958 4.96-30.996 30.986c-2.65 2.66-2.65 6.946 0 9.605 1.33 1.33 3.062 1.985 4.802 1.985 1.732 0 3.473-.655 4.793-1.985l43.267-43.263c2.647-2.647 2.647-6.939 0-9.593-2.654-2.652-6.953-2.652-9.6.001z"})))}const S=h.forwardRef(C);i.p;var _,N,D,z,O,L,P;function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},T.apply(this,arguments)}function R(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",T({enableBackground:"new 0 0 512.003 512.003",height:512,viewBox:"0 0 512.003 512.003",width:512,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,_||(_=h.createElement("path",{d:"m345 .001h-330c-8.284 0-15 6.716-15 15v482c0 8.284 6.716 15 15 15h330c8.284 0 15-6.716 15-15v-482c0-8.284-6.716-15-15-15zm-15 482h-300v-452h300z"})),N||(N=h.createElement("path",{d:"m277.68 354.521-30.893 20.596c-9.431 6.287-5.972 17.103-6.715 22.967l-38.624-15.057c-9.818-3.826-20.448 3.416-20.448 13.974v21.553l-7.434 4.508c-7.084 4.295-9.344 13.52-5.049 20.604 4.282 7.062 13.501 9.356 20.604 5.049l14.656-8.887c9.886-5.994 6.608-16.802 7.223-20.879l38.552 15.029c9.779 3.812 20.413-3.367 20.448-13.926l.081-24.409 24.239-16.16c6.894-4.595 8.756-13.908 4.16-20.801-4.594-6.894-13.909-8.755-20.8-4.161z"})),D||(D=h.createElement("path",{d:"m130 121.001h100c8.284 0 15-6.716 15-15s-6.716-15-15-15h-100c-8.284 0-15 6.716-15 15s6.716 15 15 15z"})),z||(z=h.createElement("path",{d:"m75 181.001h210c8.284 0 15-6.716 15-15s-6.716-15-15-15h-210c-8.284 0-15 6.716-15 15s6.716 15 15 15z"})),O||(O=h.createElement("path",{d:"m75 241.001h210c8.284 0 15-6.716 15-15s-6.716-15-15-15h-210c-8.284 0-15 6.716-15 15s6.716 15 15 15z"})),L||(L=h.createElement("path",{d:"m75 301.001h210c8.284 0 15-6.716 15-15s-6.716-15-15-15h-210c-8.284 0-15 6.716-15 15s6.716 15 15 15z"})),P||(P=h.createElement("path",{d:"m499.154 42.362c-.459-23.434-20.466-42.361-44.992-42.361-24.527 0-44.533 18.926-44.992 42.36-1.899 19.222-28.443 294.823.692 386.772 5.009 15.803 15.358 39.354 29.138 48.736v19.132c0 8.284 6.716 15 15 15s15-6.716 15-15v-18.861c13.99-9.245 24.412-33.026 29.465-49.018 29.06-91.968 2.581-367.57.689-386.76zm-59.992.823c0-7.27 6.729-13.184 15-13.184s15 5.914 15 13.184c0 2.738 5.898 58.045 9.929 137.816h-49.884c4.165-82.181 9.955-134.684 9.955-137.816zm15.033 408.43c-4.402-4.637-11.271-17.458-15.733-31.543-13.274-41.891-13.746-129.19-10.607-209.07h52.586c3.13 79.879 2.659 167.179-10.582 209.082-4.448 14.075-11.284 26.89-15.664 31.531z"})))}const M=h.forwardRef(R);i.p;var I,F,B,V;function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},H.apply(this,arguments)}function q(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",H({enableBackground:"new 0 0 512 512",height:512,viewBox:"0 0 512 512",width:512,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,I||(I=h.createElement("path",{d:"m420.263 422c1.706-47.779 11.458-73.007 19.438-93.641 7.468-19.308 13.917-35.983 8.009-59.999-6.452-26.23-28.461-49.087-57.71-54.888v-114.685l-98.787-98.787h-291.213v512h512v-90zm-1.684-146.472c3.65 14.84-.082 24.491-6.857 42.01-8.412 21.749-19.67 50.895-21.468 104.463h-30.509c-1.8-53.426-13.039-82.671-21.438-104.496-6.771-17.593-10.5-27.284-6.886-41.977 4.099-16.662 20.384-33.528 43.579-33.528s39.48 16.866 43.579 33.528zm-118.579-224.315 38.787 38.787h-38.787zm-270 430.787v-452h240v90h90v93.472c-28.914 5.73-51.177 28.329-57.71 54.889-5.865 23.841.568 40.56 8.019 59.918 7.975 20.722 17.72 46.056 19.428 93.721h-89.737v60zm452 0c-6.169 0-206.949 0-212 0v-30h212z"})),F||(F=h.createElement("path",{d:"m60 182h120v30h-120z"})),B||(B=h.createElement("path",{d:"m60 242h180v30h-180z"})),V||(V=h.createElement("path",{d:"m105 362c-24.813 0-45 20.187-45 45s20.187 45 45 45 45-20.187 45-45-20.187-45-45-45zm0 60c-8.271 0-15-6.729-15-15s6.729-15 15-15 15 6.729 15 15-6.729 15-15 15z"})))}const W=h.forwardRef(q);i.p;var U,G,Y,X,K,J,Z,$,Q,ee,te,ie,ne,ae;function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},le.apply(this,arguments)}function se(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",le({enableBackground:"new 0 0 513.37 513.37",height:512,viewBox:"0 0 513.37 513.37",width:512,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,U||(U=h.createElement("path",{d:"m497.691 0h-120.8c-8.284 0-15 6.716-15 15s6.716 15 15 15h105.801v114.818c0 8.284 6.716 15 15 15s15-6.716 15-15v-129.818c-.001-8.284-6.716-15-15.001-15z"})),G||(G=h.createElement("path",{d:"m15.77 150.801c8.284 0 15-6.716 15-15v-105.801h114.818c8.284 0 15-6.716 15-15s-6.716-15-15-15h-129.818c-8.284 0-15 6.716-15 15v120.801c0 8.284 6.715 15 15 15z"})),Y||(Y=h.createElement("path",{d:"m136.479 483.37h-105.8v-114.818c0-8.284-6.716-15-15-15s-15 6.716-15 15v129.818c0 8.284 6.716 15 15 15h120.801c8.284 0 15-6.716 15-15s-6.716-15-15.001-15z"})),X||(X=h.createElement("path",{d:"m497.601 362.569c-8.284 0-15 6.716-15 15v105.801h-114.819c-8.284 0-15 6.716-15 15s6.716 15 15 15h129.818c8.284 0 15-6.716 15-15v-120.801c.001-8.284-6.715-15-14.999-15z"})),K||(K=h.createElement("path",{d:"m196.857 297.962h-121.227c-8.284 0-15 6.716-15 15v124.008c0 8.284 6.716 15 15 15h121.228c8.284 0 15-6.716 15-15v-124.008c-.001-8.284-6.716-15-15.001-15zm-15 124.008h-91.227v-94.008h91.228v94.008z"})),J||(J=h.createElement("path",{d:"m196.857 240.915h-32.166c-8.284 0-15 6.716-15 15s6.716 15 15 15h32.166c8.284 0 15-6.716 15-15s-6.715-15-15-15z"})),Z||(Z=h.createElement("path",{d:"m75.63 270.915h31.848c8.284 0 15-6.716 15-15s-6.716-15-15-15h-31.848c-8.284 0-15 6.716-15 15s6.716 15 15 15z"})),$||($=h.createElement("path",{d:"m256.742 213.684c8.284 0 15-6.716 15-15v-124.008c0-8.284-6.716-15-15-15s-15 6.716-15 15v124.008c0 8.284 6.716 15 15 15z"})),Q||(Q=h.createElement("path",{d:"m453.074 436.97v-71.666c0-8.284-6.716-15-15-15h-73.677v-26.062c0-8.284-6.716-15-15-15h-77.655v-38.327h113.232v20.925c0 8.284 6.716 15 15 15s15-6.716 15-15v-20.925h23.1c8.284 0 15-6.716 15-15s-6.716-15-15-15h-181.332c-8.284 0-15 6.716-15 15v180.368c0 8.284 6.716 15 15 15s15-6.716 15-15v-37.81h24.283c8.284 0 15-6.716 15-15s-6.716-15-15-15h-24.283v-29.231h62.655v26.062c0 8.284 6.716 15 15 15h73.677v41.666h-112.912c-8.284 0-15 6.716-15 15s6.716 15 15 15h127.912c8.284 0 15-6.716 15-15z"})),ee||(ee=h.createElement("path",{d:"m196.857 59.676h-121.227c-8.284 0-15 6.716-15 15v124.008c0 8.284 6.716 15 15 15h121.228c8.284 0 15-6.716 15-15v-124.008c-.001-8.284-6.716-15-15.001-15zm-15 124.008h-91.227v-94.008h91.228v94.008z"})),te||(te=h.createElement("path",{d:"m316.848 213.684h121.227c8.284 0 15-6.716 15-15v-124.008c0-8.284-6.716-15-15-15h-121.227c-8.284 0-15 6.716-15 15v124.008c0 8.284 6.715 15 15 15zm15-124.008h91.227v94.008h-91.227z"})),ie||(ie=h.createElement("path",{d:"m124.692 394.927h23.104c4.397 0 7.962-3.565 7.962-7.962v-24c0-4.397-3.565-7.962-7.962-7.962h-23.104c-4.397 0-7.962 3.565-7.962 7.962v24c0 4.397 3.565 7.962 7.962 7.962z"})),ne||(ne=h.createElement("path",{d:"m124.692 156.641h23.104c4.397 0 7.962-3.565 7.962-7.962v-23.999c0-4.397-3.565-7.962-7.962-7.962h-23.104c-4.397 0-7.962 3.565-7.962 7.962v23.999c0 4.398 3.565 7.962 7.962 7.962z"})),ae||(ae=h.createElement("path",{d:"m389.013 117.359h-23.104c-4.397 0-7.962 3.565-7.962 7.962v23.999c0 4.397 3.565 7.962 7.962 7.962h23.104c4.397 0 7.962-3.565 7.962-7.962v-23.999c0-4.397-3.565-7.962-7.962-7.962z"})))}const re=h.forwardRef(se);i.p;var oe;function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ce.apply(this,arguments)}function de(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",ce({enableBackground:"new 0 0 64 64",height:512,viewBox:"0 0 64 64",width:512,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,oe||(oe=h.createElement("path",{d:"m50 8h-36c-3.309 0-6 2.691-6 6v36c0 3.309 2.691 6 6 6h36c3.309 0 6-2.691 6-6v-36c0-3.309-2.691-6-6-6zm-36 4h36c1.103 0 2 .897 2 2v8h-40v-8c0-1.103.897-2 2-2zm36 40h-36c-1.103 0-2-.897-2-2v-24h40v24c0 1.103-.897 2-2 2z"})))}const ue=h.forwardRef(de);i.p;var me,pe;function he(){return he=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},he.apply(this,arguments)}function ge(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",he({enableBackground:"new 0 0 35 35",height:35,viewBox:"0 0 35 35",width:35,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,me||(me=h.createElement("path",{d:"m0 0v25.366h35v-25.366zm32.879 23.245h-30.758v-21.124h30.758z"})),pe||(pe=h.createElement("path",{d:"m0 28.283h35v6.717h-35z"})))}const fe=h.forwardRef(ge);i.p;var ve,xe,ye;function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},be.apply(this,arguments)}function je(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",be({enableBackground:"new 0 0 512 512",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,ve||(ve=h.createElement("path",{d:"m464 0h-416c-26.51 0-48 21.49-48 48v416c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48v-416c0-26.51-21.49-48-48-48zm16 464c0 8.837-7.163 16-16 16h-416c-8.837 0-16-7.163-16-16v-416c0-8.837 7.163-16 16-16h416c8.837 0 16 7.163 16 16z"})),xe||(xe=h.createElement("path",{d:"m347.36 276.64c-6.241-6.204-16.319-6.204-22.56 0l-36.8 36.8-68.64-68.64c-6.241-6.204-16.319-6.204-22.56 0l-112 112c-6.186 6.31-6.087 16.44.223 22.626 2.935 2.878 6.866 4.516 10.977 4.574h320c8.836.051 16.041-7.07 16.093-15.907.025-4.299-1.681-8.426-4.733-11.453z"})),ye||(ye=h.createElement("circle",{cx:304,cy:176,r:48})))}const we=h.forwardRef(je);i.p;var Ae,Ee,ke,Ce,Se,_e,Ne,De,ze,Oe,Le,Pe,Te,Re,Me,Ie,Fe,Be,Ve,He;function qe(){return qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},qe.apply(this,arguments)}function We(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",qe({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,Ae||(Ae=h.createElement("g",null,h.createElement("g",null,h.createElement("path",{d:"M75.051,0H15.068C6.787,0,0.073,6.714,0.073,14.996v60.983c0,8.282,6.713,14.996,14.996,14.996 c8.282,0,14.996-6.714,14.996-14.996V29.992h44.987c8.282,0,14.996-6.714,14.996-14.996C90.047,6.714,83.333,0,75.051,0z"})))),Ee||(Ee=h.createElement("g",null,h.createElement("g",null,h.createElement("path",{d:"M496.932,0h-59.983c-8.282,0-14.996,6.714-14.996,14.996c0,8.282,6.713,14.996,14.996,14.996h44.987v45.987 c0,8.282,6.714,14.996,14.996,14.996c8.282,0,14.996-6.714,14.996-14.996V14.996C511.928,6.714,505.214,0,496.932,0z"})))),ke||(ke=h.createElement("g",null,h.createElement("g",null,h.createElement("path",{d:"M75.051,481.864H30.064v-45.987c0-8.282-6.714-14.996-14.996-14.996s-14.996,6.714-14.996,14.996v60.983 c0,8.282,6.713,14.996,14.996,14.996h59.983c8.282,0,14.996-6.714,14.996-14.996C90.047,488.578,83.333,481.864,75.051,481.864z"})))),Ce||(Ce=h.createElement("g",null,h.createElement("g",null,h.createElement("path",{d:"M496.932,420.881c-8.282,0-14.996,6.714-14.996,14.996v45.987h-44.987c-8.282,0-14.996,6.714-14.996,14.996 c0,8.282,6.714,14.996,14.996,14.996h59.983c8.282,0,14.996-6.714,14.996-14.996v-60.983 C511.928,427.595,505.214,420.881,496.932,420.881z"})))),Se||(Se=h.createElement("g",null,h.createElement("g",null,h.createElement("path",{d:"M472.37,123.023L263.517,2.021c-4.649-2.694-10.386-2.694-15.035,0L39.544,123.022c-4.606,2.669-7.481,7.638-7.481,12.966 c0,0.03,0.003,0.06,0.003,0.089v239.924c0,5.379,2.923,10.413,7.63,13.063L248.483,509.98c2.249,1.303,4.925,2.02,7.518,2.02 c2.707,0,5.352-0.766,7.518-2.02l208.702-120.917c0.035-0.02,0.069-0.04,0.104-0.06c4.837-3.49,7.444-6.423,7.517-12.821 c0.001-0.06,0.006-0.119,0.006-0.179V136.079c0-0.03,0.003-0.06,0.003-0.089C479.851,130.657,476.974,125.687,472.37,123.023z  M241.004,470.986L77.178,376.069l126.299-72.429c7.185-4.12,9.669-13.284,5.548-20.468c-4.119-7.185-13.283-9.668-20.468-5.548 L62.055,350.116V161.909l178.949,102.77V470.986z M256,238.706L77.156,135.945L256,32.327l178.844,103.618L256,238.706z  M449.954,350.116l-126.511-72.493c-7.184-4.119-16.348-1.637-20.468,5.548c-4.121,7.185-1.637,16.348,5.548,20.468 l126.299,72.428l-163.827,94.917V264.679l178.958-102.77V350.116z"})))),_e||(_e=h.createElement("g",null)),Ne||(Ne=h.createElement("g",null)),De||(De=h.createElement("g",null)),ze||(ze=h.createElement("g",null)),Oe||(Oe=h.createElement("g",null)),Le||(Le=h.createElement("g",null)),Pe||(Pe=h.createElement("g",null)),Te||(Te=h.createElement("g",null)),Re||(Re=h.createElement("g",null)),Me||(Me=h.createElement("g",null)),Ie||(Ie=h.createElement("g",null)),Fe||(Fe=h.createElement("g",null)),Be||(Be=h.createElement("g",null)),Ve||(Ve=h.createElement("g",null)),He||(He=h.createElement("g",null)))}const Ue=h.forwardRef(We);i.p;var Ge,Ye;function Xe(){return Xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Xe.apply(this,arguments)}function Ke(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",Xe({enableBackground:"new 0 0 512 512",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,Ge||(Ge=h.createElement("path",{d:"m497 90c8.284 0 15-6.716 15-15v-60c0-8.284-6.716-15-15-15h-60c-8.284 0-15 6.716-15 15v15h-332v-15c0-8.284-6.716-15-15-15h-60c-8.284 0-15 6.716-15 15v60c0 8.284 6.716 15 15 15h15v332h-15c-8.284 0-15 6.716-15 15v60c0 8.284 6.716 15 15 15h60c8.284 0 15-6.716 15-15v-15h332v15c0 8.284 6.716 15 15 15h60c8.284 0 15-6.716 15-15v-60c0-8.284-6.716-15-15-15h-15v-332zm-467-60h30v30h-30zm30 452h-30v-30h30zm362-45v15h-332v-15c0-8.284-6.716-15-15-15h-15v-332h15c8.284 0 15-6.716 15-15v-15h332v15c0 8.284 6.716 15 15 15h15v332h-15c-8.284 0-15 6.716-15 15zm60 45h-30v-30h30zm-30-422v-30h30v30z"})),Ye||(Ye=h.createElement("path",{d:"m376 90h-240c-8.284 0-15 6.716-15 15v90c0 13.302 16.165 20.051 25.606 10.607l25.607-25.607h38.787v177.458l-27.48 41.221c-6.641 9.961.53 23.321 12.48 23.321h120c11.971 0 19.109-13.377 12.48-23.32l-27.48-41.222v-177.458h38.783l25.611 25.607c9.406 9.406 25.606 2.748 25.606-10.607v-90c0-8.284-6.716-15-15-15zm-15 68.79-4.398-4.397c-2.813-2.813-6.628-4.393-10.605-4.393h-59.997c-8.284 0-15 6.716-15 15v197c0 2.961.877 5.856 2.52 8.32l14.453 21.68h-63.945l14.453-21.68c1.643-2.464 2.52-5.359 2.52-8.32v-197c0-8.284-6.716-15-15-15h-60c-3.979 0-7.794 1.58-10.606 4.393l-4.395 4.394v-38.787h210z"})))}const Je=h.forwardRef(Ke);i.p;var Ze,$e;function Qe(){return Qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Qe.apply(this,arguments)}function et(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",Qe({enableBackground:"new 0 0 479 479",viewBox:"0 0 479 479",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,Ze||(Ze=h.createElement("path",{d:"m158.4 196.8c-5.3 5.3-5.3 13.8 0 19.1l71.6 71.6c2.6 2.6 6.1 4 9.5 4s6.9-1.3 9.5-4l71.6-71.6c5.3-5.3 5.3-13.8 0-19.1s-13.8-5.3-19.1 0l-48.5 48.5v-231.8c0-7.5-6-13.5-13.5-13.5s-13.5 6-13.5 13.5v231.8l-48.5-48.5c-5.3-5.3-13.9-5.3-19.1 0z"})),$e||($e=h.createElement("path",{d:"m460.2 307.4-47-170c-1.1-3.9-3.8-7-7.4-8.7l-1.3-.6c-1.8-.8-3.7-1.2-5.6-1.2h-84.7c-7.5 0-13.5 6-13.5 13.5s6 13.5 13.5 13.5h75.6l39.7 143.8h-105c-7.5 0-13.5 6-13.5 13.5v12.2c0 17.9-14.5 32.4-32.4 32.4h-82.4c-17.9 0-32.4-14.5-32.4-32.4v-12.2c0-7.5-6-13.5-13.5-13.5h-100.9l39.9-144.1h75.6c7.5 0 13.5-6 13.5-13.5s-6-13.5-13.5-13.5h-84.8c-1.9 0-3.8.4-5.6 1.2l-1.3.6c-3.6 1.7-6.4 4.8-7.4 8.7l-47 170c-.3 1.2-.5 2.4-.5 3.6v70.9c0 53.7 43.7 97.4 97.4 97.4h247.6c53.7 0 97.4-43.7 97.4-97.4v-70.6c0-1.3-.1-2.5-.5-3.6zm-26.5 74.2c0 38.8-31.6 70.4-70.4 70.4h-247.6c-38.8 0-70.4-31.6-70.4-70.4v-56.9h91.7c.7 32.1 27.1 58 59.4 58h82.4c32.3 0 58.7-25.9 59.4-58h95.7v56.9z"})))}const tt=h.forwardRef(et);i.p;var it,nt,at,lt,st,rt,ot,ct,dt,ut,mt,pt,ht,gt,ft,vt;function xt(){return xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},xt.apply(this,arguments)}function yt(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",xt({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,it||(it=h.createElement("g",null,h.createElement("g",null,h.createElement("path",{d:"M497,0h-60c-8.291,0-15,6.709-15,15v53.789L70.789,420H15c-8.291,0-15,6.709-15,15v62c0,8.291,6.709,15,15,15h62 c8.291,0,15-6.709,15-15v-55.789L443.211,90H497c8.291,0,15-6.709,15-15V15C512,6.709,505.291,0,497,0z"})))),nt||(nt=h.createElement("g",null)),at||(at=h.createElement("g",null)),lt||(lt=h.createElement("g",null)),st||(st=h.createElement("g",null)),rt||(rt=h.createElement("g",null)),ot||(ot=h.createElement("g",null)),ct||(ct=h.createElement("g",null)),dt||(dt=h.createElement("g",null)),ut||(ut=h.createElement("g",null)),mt||(mt=h.createElement("g",null)),pt||(pt=h.createElement("g",null)),ht||(ht=h.createElement("g",null)),gt||(gt=h.createElement("g",null)),ft||(ft=h.createElement("g",null)),vt||(vt=h.createElement("g",null)))}const bt=h.forwardRef(yt);i.p;var jt,wt,At,Et,kt,Ct,St,_t,Nt,Dt,zt,Ot,Lt,Pt,Tt,Rt;function Mt(){return Mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Mt.apply(this,arguments)}function It(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",Mt({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,jt||(jt=h.createElement("g",null,h.createElement("g",null,h.createElement("path",{d:"M496.941,331.294h-15.758c-5.154-76.325-48.957-143.704-112.957-180.706h56.195c6.237,17.49,22.796,30.118,42.403,30.118 c24.911,0,45.176-20.265,45.176-45.176s-20.265-45.176-45.176-45.176c-19.607,0-36.165,12.627-42.403,30.118H301.177v-15.059 c0-8.323-6.735-15.059-15.059-15.059h-60.235c-8.324,0-15.059,6.735-15.059,15.059v15.059H87.579 c-6.237-17.49-22.796-30.118-42.403-30.118C20.265,90.353,0,110.618,0,135.529s20.265,45.176,45.176,45.176 c19.607,0,36.165-12.627,42.403-30.118h56.197c-64,37.002-107.805,104.381-112.959,180.706H15.059 C6.735,331.294,0,338.029,0,346.353v60.235c0,8.324,6.735,15.059,15.059,15.059h60.235c8.323,0,15.059-6.735,15.059-15.059 v-60.235c0-8.324-6.735-15.059-15.059-15.059H61.627c6.638-84.266,67.287-155.061,149.197-174.614v8.967 c0,8.323,6.735,15.059,15.059,15.059h60.235c8.324,0,15.059-6.735,15.059-15.059v-8.967 c81.91,19.553,142.559,90.348,149.197,174.614h-13.667c-8.324,0-15.059,6.735-15.059,15.059v60.235 c0,8.324,6.735,15.059,15.059,15.059h60.235c8.323,0,15.059-6.735,15.059-15.059v-60.235 C512,338.029,505.265,331.294,496.941,331.294z"})))),wt||(wt=h.createElement("g",null)),At||(At=h.createElement("g",null)),Et||(Et=h.createElement("g",null)),kt||(kt=h.createElement("g",null)),Ct||(Ct=h.createElement("g",null)),St||(St=h.createElement("g",null)),_t||(_t=h.createElement("g",null)),Nt||(Nt=h.createElement("g",null)),Dt||(Dt=h.createElement("g",null)),zt||(zt=h.createElement("g",null)),Ot||(Ot=h.createElement("g",null)),Lt||(Lt=h.createElement("g",null)),Pt||(Pt=h.createElement("g",null)),Tt||(Tt=h.createElement("g",null)),Rt||(Rt=h.createElement("g",null)))}const Ft=h.forwardRef(It);i.p;var Bt,Vt;function Ht(){return Ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ht.apply(this,arguments)}function qt(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",Ht({enableBackground:"new 0 0 512 512",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,Bt||(Bt=h.createElement("path",{d:"m497.36 69.995c-7.532-7.545-19.753-7.558-27.285-.032l-231.493 230.882-83.522-90.713c-7.217-7.834-19.419-8.342-27.266-1.126-7.841 7.217-8.343 19.425-1.126 27.266l97.126 105.481c3.557 3.866 8.535 6.111 13.784 6.22.141.006.277.006.412.006 5.101 0 10.008-2.026 13.623-5.628l245.709-245.065c7.551-7.525 7.564-19.746.038-27.291z"})),Vt||(Vt=h.createElement("path",{d:"m492.703 236.703c-10.658 0-19.296 8.638-19.296 19.297 0 119.883-97.524 217.407-217.407 217.407-119.876 0-217.407-97.524-217.407-217.407 0-119.876 97.531-217.407 217.407-217.407 10.658 0 19.297-8.638 19.297-19.296 0-10.659-8.639-19.297-19.297-19.297-141.16 0-256 114.84-256 256 0 141.154 114.84 256 256 256 141.154 0 256-114.846 256-256 0-10.658-8.638-19.297-19.297-19.297z"})))}const Wt=h.forwardRef(qt);i.p;var Ut,Gt,Yt,Xt,Kt,Jt,Zt,$t,Qt,ei,ti,ii,ni,ai,li,si,ri,oi,ci,di,ui,mi,pi,hi,gi;function fi(){return fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},fi.apply(this,arguments)}function vi(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",fi({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 477.867 477.867",style:{enableBackground:"new 0 0 477.867 477.867"},xmlSpace:"preserve",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,Ut||(Ut=h.createElement("g",null,h.createElement("g",null,h.createElement("path",{d:"M426.667,51.2h-51.2V17.067C375.467,7.641,367.826,0,358.4,0s-17.067,7.641-17.067,17.067V51.2h-204.8V17.067 C136.533,7.641,128.892,0,119.467,0S102.4,7.641,102.4,17.067V51.2H51.2C22.923,51.2,0,74.123,0,102.4v324.267 c0,28.277,22.923,51.2,51.2,51.2h375.467c28.277,0,51.2-22.923,51.2-51.2V102.4C477.867,74.123,454.944,51.2,426.667,51.2z  M443.733,426.667c0,9.426-7.641,17.067-17.067,17.067H51.2c-9.426,0-17.067-7.641-17.067-17.067V204.8h409.6V426.667z  M443.733,170.667h-409.6V102.4c0-9.426,7.641-17.067,17.067-17.067h51.2v34.133c0,9.426,7.641,17.067,17.067,17.067 s17.067-7.641,17.067-17.067V85.333h204.8v34.133c0,9.426,7.641,17.067,17.067,17.067s17.067-7.641,17.067-17.067V85.333h51.2 c9.426,0,17.067,7.641,17.067,17.067V170.667z"})))),Gt||(Gt=h.createElement("g",null,h.createElement("g",null,h.createElement("path",{d:"M136.533,238.933H102.4c-9.426,0-17.067,7.641-17.067,17.067c0,9.426,7.641,17.067,17.067,17.067h34.133 c9.426,0,17.067-7.641,17.067-17.067C153.6,246.574,145.959,238.933,136.533,238.933z"})))),Yt||(Yt=h.createElement("g",null,h.createElement("g",null,h.createElement("path",{d:"M256,238.933h-34.133c-9.426,0-17.067,7.641-17.067,17.067c0,9.426,7.641,17.067,17.067,17.067H256 c9.426,0,17.067-7.641,17.067-17.067C273.067,246.574,265.426,238.933,256,238.933z"})))),Xt||(Xt=h.createElement("g",null,h.createElement("g",null,h.createElement("path",{d:"M375.467,238.933h-34.133c-9.426,0-17.067,7.641-17.067,17.067c0,9.426,7.641,17.067,17.067,17.067h34.133 c9.426,0,17.067-7.641,17.067-17.067C392.533,246.574,384.892,238.933,375.467,238.933z"})))),Kt||(Kt=h.createElement("g",null,h.createElement("g",null,h.createElement("path",{d:"M136.533,307.2H102.4c-9.426,0-17.067,7.641-17.067,17.067c0,9.426,7.641,17.067,17.067,17.067h34.133 c9.426,0,17.067-7.641,17.067-17.067C153.6,314.841,145.959,307.2,136.533,307.2z"})))),Jt||(Jt=h.createElement("g",null,h.createElement("g",null,h.createElement("path",{d:"M256,307.2h-34.133c-9.426,0-17.067,7.641-17.067,17.067c0,9.426,7.641,17.067,17.067,17.067H256 c9.426,0,17.067-7.641,17.067-17.067C273.067,314.841,265.426,307.2,256,307.2z"})))),Zt||(Zt=h.createElement("g",null,h.createElement("g",null,h.createElement("path",{d:"M375.467,307.2h-34.133c-9.426,0-17.067,7.641-17.067,17.067c0,9.426,7.641,17.067,17.067,17.067h34.133 c9.426,0,17.067-7.641,17.067-17.067C392.533,314.841,384.892,307.2,375.467,307.2z"})))),$t||($t=h.createElement("g",null,h.createElement("g",null,h.createElement("path",{d:"M136.533,375.467H102.4c-9.426,0-17.067,7.641-17.067,17.067S92.974,409.6,102.4,409.6h34.133 c9.426,0,17.067-7.641,17.067-17.067S145.959,375.467,136.533,375.467z"})))),Qt||(Qt=h.createElement("g",null,h.createElement("g",null,h.createElement("path",{d:"M256,375.467h-34.133c-9.426,0-17.067,7.641-17.067,17.067s7.641,17.067,17.067,17.067H256 c9.426,0,17.067-7.641,17.067-17.067S265.426,375.467,256,375.467z"})))),ei||(ei=h.createElement("g",null,h.createElement("g",null,h.createElement("path",{d:"M375.467,375.467h-34.133c-9.426,0-17.067,7.641-17.067,17.067s7.641,17.067,17.067,17.067h34.133 c9.426,0,17.067-7.641,17.067-17.067S384.892,375.467,375.467,375.467z"})))),ti||(ti=h.createElement("g",null)),ii||(ii=h.createElement("g",null)),ni||(ni=h.createElement("g",null)),ai||(ai=h.createElement("g",null)),li||(li=h.createElement("g",null)),si||(si=h.createElement("g",null)),ri||(ri=h.createElement("g",null)),oi||(oi=h.createElement("g",null)),ci||(ci=h.createElement("g",null)),di||(di=h.createElement("g",null)),ui||(ui=h.createElement("g",null)),mi||(mi=h.createElement("g",null)),pi||(pi=h.createElement("g",null)),hi||(hi=h.createElement("g",null)),gi||(gi=h.createElement("g",null)))}const xi=h.forwardRef(vi);i.p;var yi,bi,ji,wi,Ai,Ei,ki,Ci,Si,_i,Ni,Di,zi,Oi,Li,Pi;function Ti(){return Ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ti.apply(this,arguments)}function Ri(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",Ti({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"459px",height:"459px",viewBox:"0 0 459 459",style:{enableBackground:"new 0 0 459 459"},xmlSpace:"preserve",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,yi||(yi=h.createElement("g",null,h.createElement("g",{id:"check-box-outline"},h.createElement("path",{d:"M124.95,181.05l-35.7,35.7L204,331.5l255-255l-35.7-35.7L204,260.1L124.95,181.05z M408,408H51V51h255V0H51 C22.95,0,0,22.95,0,51v357c0,28.05,22.95,51,51,51h357c28.05,0,51-22.95,51-51V204h-51V408z"})))),bi||(bi=h.createElement("g",null)),ji||(ji=h.createElement("g",null)),wi||(wi=h.createElement("g",null)),Ai||(Ai=h.createElement("g",null)),Ei||(Ei=h.createElement("g",null)),ki||(ki=h.createElement("g",null)),Ci||(Ci=h.createElement("g",null)),Si||(Si=h.createElement("g",null)),_i||(_i=h.createElement("g",null)),Ni||(Ni=h.createElement("g",null)),Di||(Di=h.createElement("g",null)),zi||(zi=h.createElement("g",null)),Oi||(Oi=h.createElement("g",null)),Li||(Li=h.createElement("g",null)),Pi||(Pi=h.createElement("g",null)))}const Mi=h.forwardRef(Ri);i.p;var Ii,Fi;function Bi(){return Bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Bi.apply(this,arguments)}function Vi(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",Bi({enableBackground:"new 0 0 438.533 438.533",height:438.533,viewBox:"0 0 438.533 438.533",width:438.533,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,Ii||(Ii=h.createElement("path",{d:"m409.133 109.203c-19.608-33.592-46.205-60.189-79.798-79.796-33.599-19.606-70.277-29.407-110.062-29.407-39.781 0-76.47 9.801-110.063 29.407-33.595 19.604-60.192 46.201-79.8 79.796-19.609 33.597-29.41 70.286-29.41 110.064 0 39.78 9.804 76.463 29.407 110.062 19.607 33.592 46.204 60.189 79.799 79.798 33.597 19.605 70.283 29.407 110.063 29.407s76.47-9.802 110.065-29.407c33.593-19.602 60.189-46.206 79.795-79.798 19.603-33.596 29.403-70.284 29.403-110.062.001-39.782-9.8-76.472-29.399-110.064zm-55.391 188.005c-13.894 23.791-32.736 42.633-56.527 56.534-23.791 13.894-49.771 20.834-77.945 20.834-28.167 0-54.149-6.94-77.943-20.834-23.791-13.901-42.633-32.743-56.527-56.534-13.897-23.791-20.843-49.772-20.843-77.941 0-28.171 6.949-54.152 20.843-77.943 13.891-23.791 32.738-42.637 56.527-56.53 23.791-13.895 49.772-20.84 77.943-20.84 28.173 0 54.154 6.945 77.945 20.84 23.791 13.894 42.634 32.739 56.527 56.53 13.895 23.791 20.838 49.772 20.838 77.943 0 28.169-6.943 54.15-20.838 77.941z"})),Fi||(Fi=h.createElement("path",{d:"m219.27 146.178c-20.177 0-37.401 7.139-51.678 21.411-14.272 14.277-21.411 31.501-21.411 51.678 0 20.175 7.135 37.402 21.411 51.673 14.277 14.277 31.504 21.416 51.678 21.416 20.179 0 37.406-7.139 51.676-21.416 14.274-14.271 21.413-31.498 21.413-51.673 0-20.177-7.139-37.401-21.413-51.678-14.27-14.273-31.497-21.411-51.676-21.411z"})))}const Hi=h.forwardRef(Vi);i.p;var qi,Wi,Ui,Gi,Yi,Xi,Ki,Ji,Zi,$i,Qi,en,tn,nn,an,ln;function sn(){return sn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},sn.apply(this,arguments)}function rn(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",sn({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 469.333 469.333",style:{enableBackground:"new 0 0 469.333 469.333"},xmlSpace:"preserve",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,qi||(qi=h.createElement("g",null,h.createElement("g",null,h.createElement("g",null,h.createElement("path",{d:"M341.333,256v-32c0-17.707-14.293-32-32-32c17.707,0,32-14.293,32-32v-32c0-23.573-19.093-42.667-42.667-42.667h-85.333 V128h85.333v42.667H256v42.667h42.667V256h-85.333v42.667h85.333C322.24,298.667,341.333,279.573,341.333,256z"}),h.createElement("path",{d:"M42.667,85.333H0v341.333c0,23.573,19.093,42.667,42.667,42.667H384v-42.667H42.667V85.333z"}),h.createElement("path",{d:"M426.667,0H128c-23.573,0-42.667,19.093-42.667,42.667v298.667C85.333,364.907,104.427,384,128,384h298.667 c23.573,0,42.667-19.093,42.667-42.667V42.667C469.333,19.093,450.24,0,426.667,0z M426.667,341.333H128V42.667h298.667V341.333z "}))))),Wi||(Wi=h.createElement("g",null)),Ui||(Ui=h.createElement("g",null)),Gi||(Gi=h.createElement("g",null)),Yi||(Yi=h.createElement("g",null)),Xi||(Xi=h.createElement("g",null)),Ki||(Ki=h.createElement("g",null)),Ji||(Ji=h.createElement("g",null)),Zi||(Zi=h.createElement("g",null)),$i||($i=h.createElement("g",null)),Qi||(Qi=h.createElement("g",null)),en||(en=h.createElement("g",null)),tn||(tn=h.createElement("g",null)),nn||(nn=h.createElement("g",null)),an||(an=h.createElement("g",null)),ln||(ln=h.createElement("g",null)))}const on=h.forwardRef(rn);i.p;var cn,dn,un,mn;function pn(){return pn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},pn.apply(this,arguments)}function hn(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",pn({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,cn||(cn=h.createElement("g",null,h.createElement("g",null,h.createElement("path",{d:"M425.298,51.358h-91.455V16.696c0-9.22-7.475-16.696-16.696-16.696H194.855c-9.22,0-16.696,7.475-16.696,16.696v34.662 H86.704c-9.22,0-16.696,7.475-16.696,16.696v51.357c0,9.22,7.475,16.696,16.696,16.696h5.072l15.26,359.906 c0.378,8.937,7.735,15.988,16.68,15.988h264.568c8.946,0,16.302-7.051,16.68-15.989l15.259-359.906h5.073 c9.22,0,16.696-7.475,16.696-16.696V68.054C441.994,58.832,434.519,51.358,425.298,51.358z M211.551,33.391h88.9v17.967h-88.9 V33.391z M372.283,478.609H139.719l-14.522-342.502h261.606L372.283,478.609z M408.602,102.715c-15.17,0-296.114,0-305.202,0 V84.749h305.202V102.715z"})))),dn||(dn=h.createElement("g",null,h.createElement("g",null,h.createElement("path",{d:"M188.835,187.304c-9.22,0-16.696,7.475-16.696,16.696v206.714c0,9.22,7.475,16.696,16.696,16.696 c9.22,0,16.696-7.475,16.696-16.696V204C205.53,194.779,198.055,187.304,188.835,187.304z"})))),un||(un=h.createElement("g",null,h.createElement("g",null,h.createElement("path",{d:"M255.998,187.304c-9.22,0-16.696,7.475-16.696,16.696v206.714c0,9.22,7.474,16.696,16.696,16.696 c9.22,0,16.696-7.475,16.696-16.696V204C272.693,194.779,265.218,187.304,255.998,187.304z"})))),mn||(mn=h.createElement("g",null,h.createElement("g",null,h.createElement("path",{d:"M323.161,187.304c-9.22,0-16.696,7.475-16.696,16.696v206.714c0,9.22,7.475,16.696,16.696,16.696 s16.696-7.475,16.696-16.696V204C339.857,194.779,332.382,187.304,323.161,187.304z"})))))}const gn=h.forwardRef(hn);i.p;var fn;function vn(){return vn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},vn.apply(this,arguments)}function xn(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",vn({viewBox:"0 0 24 24",id:"redesign--watermark-24",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,fn||(fn=h.createElement("g",{fillRule:"evenodd"},h.createElement("path",{d:"M17.707 8.293c.63.63.184 1.707-.707 1.707h-6a1 1 0 0 1-1-1V3c0-.89 1.077-1.337 1.707-.707l6 6zM14.586 8L12 5.414V8h2.586zM6.5 13a.5.5 0 1 1 0-1h5a.5.5 0 1 1 0 1h-5zm0 2a.5.5 0 1 1 0-1h4a.5.5 0 1 1 0 1h-4zm0 2a.5.5 0 1 1 0-1h3a.5.5 0 1 1 0 1h-3zm9.366 1h2.268L17 16.016 15.866 18zm3.411 2h-4.554l-.855 1.496a1 1 0 1 1-1.736-.992l4-7a1 1 0 0 1 1.736 0l4 7a1 1 0 0 1-1.736.992L19.277 20z"}),h.createElement("path",{d:"M16 9a1 1 0 1 1 2 0v1a1 1 0 1 1-2 0V9zM9 20a1 1 0 1 1 0 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h7a1 1 0 1 1 0 2H4v16h5z"}))))}const yn=h.forwardRef(xn);i.p;var bn,jn,wn;function An(){return An=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},An.apply(this,arguments)}function En(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",An({enableBackground:"new 0 0 512.087 512.087",height:512,viewBox:"0 0 512.087 512.087",width:512,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,bn||(bn=h.createElement("path",{d:"m496.702 273.375c-60.27 1.545-119.826 9.228-176.397 22.586-42.392-23.895-88.559-43.608-137.348-58.609-52.722-16.209-108.788-27.009-166.641-32.099-8.259-.724-15.531 5.376-16.257 13.628-.726 8.252 5.375 15.531 13.628 16.257 96.732 8.51 185.356 32.742 264.016 72.122-23.074 6.817-45.519 14.616-67.164 23.365-84.458 34.138-155.916 82.25-206.648 139.134-2.451 2.748-3.805 6.302-3.805 9.984v17.299c0 3.978 1.581 7.793 4.394 10.606s6.628 4.394 10.606 4.394l482-.005c8.284 0 15-6.716 15-15v-208.667c0-4.045-1.634-7.918-4.53-10.742s-6.816-4.362-10.854-4.253zm-14.616 208.662-448.769.005c98.018-104.304 263.995-170.168 448.769-178.147z"})),jn||(jn=h.createElement("path",{d:"m316.447 123.091-4.8 27.703c-1.237 7.14 2.806 14.143 9.607 16.641l26.391 9.694 14.131 24.307c2.749 4.729 7.751 7.463 12.971 7.463 1.696 0 3.414-.289 5.085-.892l26.447-9.537 26.45 9.537c6.815 2.46 14.415-.307 18.056-6.572l14.13-24.306 26.392-9.695c6.801-2.499 10.844-9.502 9.607-16.641l-4.8-27.702 13.985-24.391c3.604-6.286 2.2-14.249-3.337-18.923l-21.483-18.136-4.965-27.674c-1.279-7.132-7.474-12.33-14.72-12.351l-28.114-.083-21.592-18.007c-5.564-4.642-13.65-4.642-19.215 0l-21.591 18.008-28.115.083c-7.246.021-13.44 5.22-14.72 12.352l-4.964 27.673-21.484 18.136c-5.537 4.674-6.941 12.638-3.337 18.923zm34.32-42.014c2.671-2.255 4.471-5.373 5.088-8.813l3.71-20.683 21.014-.063c3.496-.01 6.878-1.242 9.563-3.481l16.138-13.459 16.138 13.459c2.685 2.239 6.067 3.471 9.563 3.481l21.013.063 3.711 20.684c.617 3.441 2.417 6.558 5.088 8.813l16.057 13.555-10.453 18.23c-1.739 3.033-2.364 6.578-1.767 10.022l3.588 20.705-19.726 7.246c-3.281 1.206-6.039 3.52-7.795 6.542l-10.561 18.167-19.769-7.128c-1.645-.593-3.366-.89-5.088-.89s-3.444.296-5.088.89l-19.767 7.128-10.562-18.167c-1.757-3.022-4.514-5.336-7.795-6.542l-19.725-7.246 3.588-20.706c.597-3.445-.028-6.99-1.767-10.022l-10.453-18.23z"})),wn||(wn=h.createElement("path",{d:"m406.28 149.472c24.813 0 45-20.187 45-45s-20.187-45-45-45-45 20.187-45 45 20.187 45 45 45zm0-60.001c8.271 0 15 6.729 15 15s-6.729 15-15 15-15-6.729-15-15 6.729-15 15-15z"})))}const kn=h.forwardRef(En);i.p;var Cn;function Sn(){return Sn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Sn.apply(this,arguments)}function _n(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",Sn({viewBox:"0 0 24 24",id:"redesign--highlight",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,Cn||(Cn=h.createElement("g",{fill:"none",fillRule:"evenodd"},h.createElement("path",{fill:"#FAD239",d:"M4 7h7.519l-.215 1.749-.56 2.17L9.665 12l1.855 1.666L14 12.325V18H4z"}),h.createElement("path",{fill:"#414141",d:"M11.06 6.547L15.607 2a2 2 0 0 1 2.828 0l3.028 3.028a2 2 0 0 1 0 2.828l-4.555 4.555-.01-.01-3.795.876-1.56 1.562-.517-.516-.007.007.033.033-.637.637H17.5a.5.5 0 1 1 0 1h-11a.5.5 0 1 1 0-1h1.922l-.654-.327a.5.5 0 0 1-.13-.8L8.511 13H6.5a.5.5 0 1 1 0-1h2.204l-.09-.09 1.561-1.561.08-.349H6.5a.5.5 0 0 1 0-1h3.987l.567-2.458.005.005zm4.646 4.237l4.343-4.342-3.028-3.028-4.338 4.338 3.024 3.032zM21 11a1 1 0 0 1 1 1v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h7a1 1 0 1 1 0 2H4v16h16v-8a1 1 0 0 1 1-1zm-9.15-1.682l-.4 1.737-.856.855.948.949.855-.856 1.736-.4-2.283-2.285z"}))))}const Nn=h.forwardRef(_n);i.p;var Dn;function zn(){return zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},zn.apply(this,arguments)}function On(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",zn({id:"Layer_1",enableBackground:"new 0 0 512.028 512.028",height:512,viewBox:"0 0 512.028 512.028",width:512,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,Dn||(Dn=h.createElement("g",null,h.createElement("g",null,h.createElement("path",{d:"m512.028 142.949h-30v-45.004h-45.033v-30h75.033z"})),h.createElement("g",null,h.createElement("path",{d:"m30 142.949h-30v-75.004h75.034v30h-45.034z"})),h.createElement("g",null,h.createElement("path",{d:"m512.028 444.083h-75.033v-30h45.033v-45.003h30z"})),h.createElement("g",null,h.createElement("path",{d:"m75.034 444.083h-75.034v-75.003h30v45.003h45.034z"})),h.createElement("g",null,h.createElement("path",{d:"m64.264 125.792h30v260.443h-30z"})),h.createElement("g",null,h.createElement("path",{d:"m123.179 125.792h30v200.439h-30z"})),h.createElement("g",null,h.createElement("path",{d:"m182.095 125.792h30v200.439h-30z"})),h.createElement("g",null,h.createElement("path",{d:"m241.01 125.792h30v260.443h-30z"})),h.createElement("g",null,h.createElement("path",{d:"m299.926 125.792h30v260.443h-30z"})),h.createElement("g",null,h.createElement("path",{d:"m417.757 125.792h30v260.443h-30z"})),h.createElement("g",null,h.createElement("path",{d:"m358.841 125.792h30v200.439h-30z"})),h.createElement("g",null,h.createElement("path",{d:"m123.179 356.234h30v30.002h-30z"})),h.createElement("g",null,h.createElement("path",{d:"m182.095 356.234h30v30.002h-30z"})),h.createElement("g",null,h.createElement("path",{d:"m358.841 356.234h30v30.002h-30z"})))))}const Ln=h.forwardRef(On);i.p;var Pn;function Tn(){return Tn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Tn.apply(this,arguments)}function Rn(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",Tn({width:"15px",height:"15px",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,Pn||(Pn=h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.49999 3.09998C7.27907 3.09998 7.09999 3.27906 7.09999 3.49998C7.09999 3.72089 7.27907 3.89998 7.49999 3.89998H14.5C14.7209 3.89998 14.9 3.72089 14.9 3.49998C14.9 3.27906 14.7209 3.09998 14.5 3.09998H7.49999ZM7.49998 5.1C7.27907 5.1 7.09998 5.27908 7.09998 5.5C7.09998 5.72091 7.27907 5.9 7.49998 5.9H14.5C14.7209 5.9 14.9 5.72091 14.9 5.5C14.9 5.27908 14.7209 5.1 14.5 5.1H7.49998ZM7.1 7.5C7.1 7.27908 7.27909 7.1 7.5 7.1H14.5C14.7209 7.1 14.9 7.27908 14.9 7.5C14.9 7.72091 14.7209 7.9 14.5 7.9H7.5C7.27909 7.9 7.1 7.72091 7.1 7.5ZM7.49998 9.1C7.27907 9.1 7.09998 9.27908 7.09998 9.5C7.09998 9.72091 7.27907 9.9 7.49998 9.9H14.5C14.7209 9.9 14.9 9.72091 14.9 9.5C14.9 9.27908 14.7209 9.1 14.5 9.1H7.49998ZM7.09998 11.5C7.09998 11.2791 7.27907 11.1 7.49998 11.1H14.5C14.7209 11.1 14.9 11.2791 14.9 11.5C14.9 11.7209 14.7209 11.9 14.5 11.9H7.49998C7.27907 11.9 7.09998 11.7209 7.09998 11.5ZM2.5 9.25003L5 6.00003H0L2.5 9.25003Z",fill:"currentColor"})))}const Mn=h.forwardRef(Rn);i.p;var In,Fn,Bn,Vn,Hn,qn,Wn,Un,Gn,Yn,Xn,Kn,Jn,Zn,$n,Qn;function ea(){return ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ea.apply(this,arguments)}function ta(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",ea({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,In||(In=h.createElement("g",null,h.createElement("g",null,h.createElement("path",{d:"M467.076,68.86c-59.902-59.902-156.846-59.896-216.741,0L34.919,284.276c-46.558,46.557-46.558,122.312,0,168.87 c46.57,46.571,122.326,46.544,168.87,0L419.205,237.73c33.36-33.36,33.36-87.64,0-121c-33.359-33.361-87.64-33.361-121,0 L114.478,300.457c-6.975,6.975-6.975,18.285,0,25.259c6.975,6.975,18.285,6.975,25.259,0l183.727-183.727 c19.432-19.432,51.05-19.432,70.481,0c19.431,19.432,19.431,51.05,0,70.481L178.53,427.887c-32.71,32.71-85.646,32.706-118.352,0 c-15.806-15.806-24.511-36.821-24.511-59.175s8.706-43.369,24.511-59.176L275.594,94.119c45.94-45.94,120.287-45.934,166.222,0 c45.827,45.828,45.827,120.395,0,166.222l-95.741,95.741c-6.975,6.975-6.975,18.284,0,25.259s18.285,6.975,25.259,0l95.741-95.741 C526.978,225.7,526.971,128.754,467.076,68.86z"})))),Fn||(Fn=h.createElement("g",null)),Bn||(Bn=h.createElement("g",null)),Vn||(Vn=h.createElement("g",null)),Hn||(Hn=h.createElement("g",null)),qn||(qn=h.createElement("g",null)),Wn||(Wn=h.createElement("g",null)),Un||(Un=h.createElement("g",null)),Gn||(Gn=h.createElement("g",null)),Yn||(Yn=h.createElement("g",null)),Xn||(Xn=h.createElement("g",null)),Kn||(Kn=h.createElement("g",null)),Jn||(Jn=h.createElement("g",null)),Zn||(Zn=h.createElement("g",null)),$n||($n=h.createElement("g",null)),Qn||(Qn=h.createElement("g",null)))}const ia=h.forwardRef(ta);i.p;var na;function aa(){return aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},aa.apply(this,arguments)}function la(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",aa({width:"24px",height:"24px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,na||(na=h.createElement("path",{fillRule:"evenodd",d:"M11,4 L4,4 L4,20 L11,20 L11,10 L4,10 L4,8 L11,8 L11,4 Z M13,4 L13,14 L20,14 L20,16 L13,16 L13,20 L20,20 L20,4 L13,4 Z M4,2 L20,2 C21.1045695,2 22,2.8954305 22,4 L22,20 C22,21.1045695 21.1045695,22 20,22 L4,22 C2.8954305,22 2,21.1045695 2,20 L2,4 C2,2.8954305 2.8954305,2 4,2 Z"})))}const sa=h.forwardRef(la);i.p;var ra;function oa(){return oa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},oa.apply(this,arguments)}function ca(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",oa({width:24,height:24,xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,ra||(ra=h.createElement("path",{d:"M12 0c6.623 0 12 5.377 12 12s-5.377 12-12 12-12-5.377-12-12 5.377-12 12-12zm0 1c6.071 0 11 4.929 11 11s-4.929 11-11 11-11-4.929-11-11 4.929-11 11-11zm0 11h6v1h-7v-9h1v8z"})))}const da=h.forwardRef(ca);i.p;var ua;function ma(){return ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ma.apply(this,arguments)}function pa(e,t){let{title:i,titleId:n,...a}=e;return h.createElement("svg",ma({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",ref:t,"aria-labelledby":n},a),i?h.createElement("title",{id:n},i):null,ua||(ua=h.createElement("path",{d:"M512 32H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h448c35.35 0 64-28.65 64-64V96C576 60.65 547.3 32 512 32zM176 128c35.35 0 64 28.65 64 64s-28.65 64-64 64s-64-28.65-64-64S140.7 128 176 128zM272 384h-192C71.16 384 64 376.8 64 368C64 323.8 99.82 288 144 288h64c44.18 0 80 35.82 80 80C288 376.8 280.8 384 272 384zM496 320h-128C359.2 320 352 312.8 352 304S359.2 288 368 288h128C504.8 288 512 295.2 512 304S504.8 320 496 320zM496 256h-128C359.2 256 352 248.8 352 240S359.2 224 368 224h128C504.8 224 512 231.2 512 240S504.8 256 496 256zM496 192h-128C359.2 192 352 184.8 352 176S359.2 160 368 160h128C504.8 160 512 167.2 512 176S504.8 192 496 192z"})))}const ha=h.forwardRef(pa);i.p;var ga=i(44414);const fa=function(e){let{name:t=""}=e,i=null;return"cursor"===t&&(i=(0,ga.jsx)(v,{className:"editor-icon"})),"painting"===t&&(i=(0,ga.jsx)(j,{className:"editor-icon"})),"sign"===t&&(i=(0,ga.jsx)(S,{className:"editor-icon"})),"initial"===t&&(i=(0,ga.jsx)(M,{className:"editor-icon"})),"stamp"===t&&(i=(0,ga.jsx)(W,{className:"editor-icon"})),"qr"===t&&(i=(0,ga.jsx)(re,{className:"editor-icon"})),"header"===t&&(i=(0,ga.jsx)(ue,{className:"editor-icon"})),"footer"===t&&(i=(0,ga.jsx)(fe,{className:"editor-icon"})),"img"===t&&(i=(0,ga.jsx)(we,{className:"editor-icon"})),"text"===t&&(i=(0,ga.jsx)(Je,{className:"editor-icon"})),"inputs"===t&&(i=(0,ga.jsx)(tt,{className:"editor-icon"})),"shapes"===t&&(i=(0,ga.jsx)(Ue,{className:"editor-icon"})),"line"===t&&(i=(0,ga.jsx)(bt,{className:"editor-icon"})),"path"===t&&(i=(0,ga.jsx)(Ft,{className:"editor-icon"})),"symbols"===t&&(i=(0,ga.jsx)(Wt,{className:"editor-icon"})),"date"===t&&(i=(0,ga.jsx)(xi,{className:"editor-icon"})),"checkbox"===t&&(i=(0,ga.jsx)(Mi,{className:"editor-icon"})),"radio"===t&&(i=(0,ga.jsx)(Hi,{className:"editor-icon"})),"number"===t&&(i=(0,ga.jsx)(on,{className:"editor-icon"})),"remove"===t&&(i=(0,ga.jsx)(gn,{className:"editor-icon"})),"email"===t&&(i=(0,ga.jsx)(a.A,{className:"editor-icon"})),"company"===t&&(i=(0,ga.jsx)(l.A,{className:"editor-icon"})),"user"===t&&(i=(0,ga.jsx)(s.A,{className:"editor-icon"})),"title"===t&&(i=(0,ga.jsx)(r.A,{className:"editor-icon"})),"watermark"===t&&(i=(0,ga.jsx)(yn,{className:"editor-icon"})),"fields"===t&&(i=(0,ga.jsx)(kn,{className:"editor-icon"})),"highlight"===t&&(i=(0,ga.jsx)(Nn,{className:"editor-icon"})),"barcode"===t&&(i=(0,ga.jsx)(Ln,{className:"editor-icon"})),"addPage"===t&&(i=(0,ga.jsx)(o.A,{className:"editor-icon"})),"delete"===t&&(i=(0,ga.jsx)(c.A,{className:"editor-icon"})),"template-fields"===t&&(i=(0,ga.jsx)(tt,{className:"editor-icon"})),"comments"===t&&(i=(0,ga.jsx)(o.A,{className:"editor-icon"})),"edit-tools"===t&&(i=(0,ga.jsx)(d.A,{className:"editor-icon"})),"dropdown"===t&&(i=(0,ga.jsx)(Mn,{className:"editor-icon"})),"attachment"===t&&(i=(0,ga.jsx)(ia,{className:"editor-icon"})),"dynamic"===t&&(i=(0,ga.jsx)(sa,{className:"editor-icon"})),"image"===t&&(i=(0,ga.jsx)(u.A,{className:"editor-icon"})),"manage"===t&&(i=(0,ga.jsx)(m.A,{className:"editor-icon"})),"time"===t&&(i=(0,ga.jsx)(da,{className:"editor-icon"})),"address"===t&&(i=(0,ga.jsx)(ha,{className:"editor-icon"})),"FileZipOutlined"===t&&(i=(0,ga.jsx)(p.A,{className:"editor-icon"})),i}},41834:(e,t,i)=>{"use strict";i.d(t,{A:()=>d,M:()=>c});var n,a,l=i(57528),s=i(33753),r=i(73053);const o=(0,r.A)(s.Ay.div(n||(n=(0,l.A)(["\n  & .roleDropdown {\n    & .ant-select-item {\n      font-weight: 550;\n      vertical-align: middle;\n\n      & .ant-avatar {\n        text-transform: uppercase;\n      }\n    }\n  }\n"])))),c=(0,r.A)(s.Ay.div(a||(a=(0,l.A)(["\n  & .fieldHeader {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    & .anticon-plus {\n      font-size: 15px;\n      padding: 4px;\n    }\n  }\n\n  & .rolesList {\n    margin-top: 10px;\n\n    & .ant-list-item {\n      padding: 10px 0;\n\n      & .ant-list-item-meta {\n        align-items: center;\n\n        & .ant-list-item-meta-title {\n          margin-bottom: 0px;\n        }\n      }\n\n      & .ant-list-item-action {\n        margin-left: 10px;\n\n        & > li {\n          padding: 0 3px;\n        }\n      }\n    }\n  }\n"])))),d=o},40663:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=(e,t)=>{const i=document.getElementById(e);let n=!1;const a=()=>{n=!!(e=>{const t=e.style.overflow;t&&"visible"!==t||(e.style.overflow="hidden");const i=e.clientWidth+10<e.scrollWidth||e.clientHeight+10<e.scrollHeight;return e.style.overflow=t,i})(i)};return i&&("ResizeObserver"in window&&new ResizeObserver(a).observe(i),a()),n}},51865:(e,t,i)=>{"use strict";i.d(t,{dY:()=>a,pm:()=>s,wf:()=>r,z8:()=>l});var n=i(41397);function a(e,t,i){const n=new Image;n.crossOrigin="Anonymous",n.onload=function(){const e=document.createElement("canvas"),n=e.getContext("2d");let a;e.height=this.naturalHeight,e.width=this.naturalWidth,n.drawImage(this,0,0),a=e.toDataURL(i),t(a)},n.src=e,(n.complete||void 0===n.complete)&&(n.src="data:image/gif;base64, R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",n.src=e)}function l(e,t){const i=t?e.length:0;for(let a=0;a<i;a+=1){const i=e[a]&&e[a].getObjects()||[],l=t?(0,n.find)(i,t):{};if(l)return l}return{}}function s(e,t){const i=t?e.length:0;let n=null;for(let a=0;a<i;a+=1){const i=e[a];if(t(i)&&i){n=i;break}}return n}function r(e){return[5,10,25,50,75,100,...e?[]:[150]]}},53144:(e,t,i)=>{"use strict";i.d(t,{Yl:()=>l});var n=i(23101),a=i(44414);const l=[{title:"tools.textbox",type:"textbox",icon:"text",loc:["sidebar"],catgegory:"Dynamic",sep:"a"},{label:"tools.signLabel",title:"tools.sign",type:"sign",loc:["sidebar"],catgegory:"Dynamic",sep:"a"},{label:"tools.initialLabel",title:"tools.initial",type:"initial",loc:["sidebar"],catgegory:"Dynamic",sep:"a"},{title:"common.date",type:"date",icon:"date",loc:["sidebar"],catgegory:"Dynamic",sep:"a"},{label:"tools.maskLable",title:"tools.mask",icon:"text",type:"mask",page:["document"],loc:["sidebar"],catgegory:"Dynamic",sep:"a"},{title:"tools.highlight",type:"highlight",loc:["sidebar"],catgegory:"Dynamic",sep:"a"},{title:"tools.watermark",type:"watermark",loc:["sidebar"],catgegory:"Dynamic",sep:"a"},{title:"tools.refnumber",type:"refnumber",icon:"text",loc:["sidebar"],catgegory:"Dynamic"},{label:"tools.qrLabel",title:"tools.qr",type:"qr",loc:["sidebar"],catgegory:"Dynamic"},{label:"tools.barLabel",title:"tools.barcode",type:"barcode",loc:["sidebar"],catgegory:"Dynamic"},{title:"Image",type:"image",loc:["sidebar"],catgegory:"Dynamic",sep:"c"},{title:"tools.shapes",type:"shapes",loc:["sidebar"],catgegory:"Dynamic",sep:"c"},{title:"tools.symbols",type:"symbols",loc:["sidebar"],catgegory:"Dynamic",sep:"c"},{title:"tools.checkbox",type:"checkbox",icon:"checkbox",loc:["sidebar"],catgegory:"Dynamic",sep:"d"},{title:"tools.radio",type:"radio",icon:"radio",loc:["sidebar"],catgegory:"Dynamic",sep:"d"},{title:"tools.dropdown",type:"dropdown",icon:"dropdown",loc:["sidebar"],catgegory:"Dynamic",sep:"d"},{title:"tools.email",type:"email",icon:"email",loc:["sidebar"],catgegory:"Dynamic",sep:"e"},{title:"tools.attachment",type:"attachment",icon:"attachment",loc:["sidebar"],catgegory:"Dynamic",sep:"e"},{title:"sidebar.manageWorkFlow",type:"workflow",icon:"addPage",loc:["sidebar"],catgegory:"Dynamic",sep:"e"},{label:"common.addComments",title:"common.comments",type:"comments",page:["document","form"],loc:["topbar"]},{type:"space",loc:["topbar"]},{title:"reminderSignDoc",type:"type2",icon:"dynamic",loc:["sidebar"],catgegory:"PDF Template",children:[{title:"sub type1",type:"type2",icon:"dynamic",loc:["sidebar"],catgegory:"PDF Template"},{title:"sub type2",type:"type3",icon:"dynamic",loc:["sidebar"],catgegory:"PDF Template"}]},{title:"signDoc",type:"type3",icon:"dynamic",loc:["sidebar"],catgegory:"PDF Template",children:[{title:"sub type1",type:"type2",icon:"dynamic",loc:["sidebar"],catgegory:"PDF Template"},{title:"sub type2",type:"type3",icon:"dynamic",loc:["sidebar"],catgegory:"PDF Template"}]},{title:"shareDoc",type:"type4",icon:"dynamic",loc:["sidebar"],catgegory:"PDF Template",children:[{title:"sub type1",type:"type2",icon:"dynamic",loc:["sidebar"],catgegory:"PDF Template"},{title:"sub type2",type:"type3",icon:"dynamic",loc:["sidebar"],catgegory:"PDF Template"}]}];n.default,n.default,n.default,n.default,n.default,n.default,n.default,"radio_".concat((new Date).getTime()),n.default,n.default,n.default,n.default,n.default,n.default,n.default},27543:(e,t,i)=>{"use strict";i.d(t,{A:()=>l,m:()=>a});var n=i(41397);const a=e=>{const t=e.filter((e=>!(0,n.isEmpty)(e.signer))).filter((e=>{var t;return(0,n.isEmpty)(null===(t=e.signer)||void 0===t?void 0:t.members)})).map((e=>({email:e.signer.email,first_name:e.signer.first_name,last_name:e.signer.last_name,isTermAccepted:!1}))),i=[];return e.filter((e=>{var t;return!(0,n.isEmpty)(null===(t=e.signer)||void 0===t?void 0:t.members)})).forEach((e=>{e.signer.members.forEach((e=>{i.push({email:e.contact_email,first_name:e.first_name,last_name:e.last_name,isTermAccepted:!1})}))})),(0,n.uniqBy)([...t,...i],"email")},l=e=>e.map((t=>"setting"===t.type?{...t,recipients:a(e)}:t))},39389:(e,t,i)=>{"use strict";i.d(t,{A:()=>o,s:()=>r});var n=i(9950),a=i(31407);const l={isRecording:!1,recorder:null,data:null,error:null},s=(e,t)=>{switch(t.type){case"start":case"stop":return{...e,isRecording:!1};case"startRecording":return{...e,isRecording:!0,recorder:t.payload.recorder};case"hasError":return{...e,isRecording:!1,error:t.payload.error};default:return e}},r=(e,t)=>{const[i,r]=(0,n.useReducer)(s,l),[o,c]=(0,n.useState)(0),d=t=>{let{data:i}=t;e(i)};return(0,n.useEffect)((()=>()=>{i.recorder&&i.recorder.removeEventListener("dataavailable",(()=>{}))}),[i.recorder]),{start:async()=>{try{if(i.isRecording)return;r({type:"start"}),c(0);const e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=new a.VW(e,{mimeType:"audio/wav"});r({type:"startRecording",payload:{recorder:t}}),t.start(),t.addEventListener("dataavailable",d),i.error&&r({type:"hasError",payload:{error:null}})}catch(e){console.log("\ud83d\ude80 ~ state.error",e),t(e),r({type:"hasError",payload:{error:e}})}},stop:()=>{try{const{recorder:e}=i;r({type:"stop"}),e&&("inactive"!==e.state&&e.stop(),e.removeEventListener("dataavailable",d))}catch(e){t(e),r({type:"hasError",payload:{error:e}})}},recorder:i.recorder,isRecording:i.isRecording,error:i.error,countdown:o}},o=r},66574:()=>{},2748:()=>{},52246:()=>{},17640:()=>{},23237:()=>{},97492:()=>{},31815:()=>{},66671:()=>{},82787:()=>{}}]);