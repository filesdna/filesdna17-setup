"use strict";(self.webpackChunkfilesdna=self.webpackChunkfilesdna||[]).push([[1799],{10597:(n,e,t)=>{t.d(e,{Ox:()=>u,YV:()=>b,_H:()=>f,az:()=>y,ou:()=>g});var i,a,o,s,r,l,d=t(57528),p=t(48755),m=t(73053),x=t(33753),c=t(1868);const g=(0,m.A)(x.Ay.div(i||(i=(0,d.A)(["\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  border-top: 1px solid #e9e9e9;\n  padding: 15px 20px;\n  background: #fff;\n  text-align: right;\n  display: flex;\n  justify-content: flex-end;\n\n  & > .ant-form-item {\n    &:first-child {\n      button {\n        margin-left: ",";\n      }\n    }\n  }\n"])),(n=>"rtl"===n["data-rtl"]?"8px":"0px"))),h=(0,x.Ay)(p.A)(a||(a=(0,d.A)(["\n  .fileManagerBtn {\n    margin-right: 10px;\n    @media (max-width: 425px) {\n      margin-right: 0px;\n    }\n  }\n\n  & .settingsGrid {\n    margin-bottom: 10px;\n  }\n\n  .isoInvoiceTableBtn {\n    display: flex;\n    justify-content: flex-end;\n    margin-bottom: 20px;\n  }\n  .isoInvoiceTableBtn.searchInputsWrapper {\n    display: flex;\n    justify-content: flex-end;\n    // margin-bottom: 20px;\n    @media (max-width: 768px) {\n      justify-content: space-between !important;\n      &.patientWrapper {\n        width: 100%;\n        justify-content: space-between;\n      }\n    }\n  }\n  .isoInvoiceTableBtn.searchInputsWrapper.newSearch {\n    display: none;\n    justify-content: flex-end;\n    margin-bottom: 20px;\n    @media (max-width: 768px) {\n      display: flex;\n      justify-content: space-between !important;\n    }\n  }\n  .isoInvoiceTableBtn.searchInputsWrapper > .ant-btn-icon-only {\n    display: none;\n    @media (max-width: 768px) {\n      display: flex;\n    }\n    @media (max-width: 320px) {\n      padding: 0px 15px;\n    }\n  }\n  .isoInvoiceTableBtn.hideResponsive {\n    display: block;\n    @media (max-width: 768px) {\n      display: none;\n    }\n  }\n  .appointmentFilterMain.invoiceFilter {\n    margin-bottom: 10px;\n    // justify-content: flex-start;\n\n    & .filterWrapper {\n      @media (min-width: 768px) {\n        margin-left: 10px;\n      }\n    }\n    & .isoInvoiceTableBtn.searchInputsWrapper {\n      display: none;\n    }\n    @media (max-width: 1220px) {\n      flex-direction: row;\n    }\n    @media (max-width: 768px) {\n      & .filterDesktop {\n        display: none;\n      }\n      & .isoInvoiceTableBtn.searchInputsWrapper {\n        display: block;\n      }\n    }\n  }\n  .searchInputWrapper {\n    display: none;\n    @media (max-width: 768px) {\n      display: inline-block;\n      justify-content: space-between;\n      width: 100%;\n      & > div {\n        padding-bottom: 15px;\n      }\n    }\n  }\n  .fileManagerTable {\n    table {\n      tbody {\n        tr {\n          cursor: pointer;\n        }\n      }\n    }\n  }\n  .appointmentFilterMain {\n    margin-bottom: 20px;\n    align-items: center;\n    & > div {\n      display: flex;\n      margin-bottom: 10px;\n      & > div {\n        margin-right: 10px;\n        & .ant-select {\n          min-width: 200px;\n        }\n      }\n    }\n    .filterBtnWrapper {\n      & .radioWrapper {\n        display: none;\n      }\n      @media (max-width: 768px) {\n        display: flex;\n        justify-content: space-between;\n        width: 100%;\n        align-items: center;\n        & .radioWrapper {\n          width: 33%;\n          margin-top: 5px;\n          justify-content: flex-end;\n          display: flex;\n          margin-bottom: 0px !important;\n        }\n      }\n    }\n    .filterBtnWrapper.fileFilter {\n      & .radioWrapper {\n        display: none;\n      }\n      & > div {\n        @media (max-width: 768px) {\n          display: flex;\n          justify-content: space-between;\n          width: 100%;\n          align-items: center;\n          & .radioWrapper {\n            width: auto;\n            justify-content: flex-end;\n            display: flex;\n            margin-bottom: 0px !important;\n          }\n        }\n\n        @media (max-width: 425px) {\n          display: block;\n          & > button {\n            margin-right: 15px;\n            padding: 0px 13px;\n          }\n          & .radioWrapper {\n            margin-top: 15px;\n            display: flex;\n            // justify-content: center;\n          }\n\n          & .fileManagerBtn {\n            margin-right: 5px;\n            padding: 0px 10px;\n          }\n          & .mateAddInvoiceBtn {\n            padding: 0px 10px;\n          }\n        }\n      }\n    }\n    & .searchInput {\n      width: 60%;\n    }\n    & .isoInvoiceTableBtn {\n      @media only screen and (max-width: 580px) {\n        margin-bottom: 10px;\n        margin-top: 0px;\n      }\n    }\n\n    @media only screen and (max-width: 1250px) {\n      flex-direction: column-reverse;\n      align-items: flex-start;\n      &.patient {\n        flex-direction: row;\n      }\n    }\n    @media only screen and (max-width: 1024px) {\n      & > div {\n        & > div {\n          & .ant-select {\n            min-width: 150px;\n          }\n        }\n      }\n    }\n    @media only screen and (max-width: 768px) {\n      &.patient {\n        flex-direction: column-reverse;\n      }\n    }\n\n    @media only screen and (max-width: 650px) {\n      & > div {\n        flex-wrap: wrap;\n        & > div {\n          width: 100%;\n          margin: 0px 0px 5px 0px;\n          & .ant-select {\n            min-width: 100%;\n          }\n        }\n      }\n    }\n  }\n  @media (max-width: 768px) {\n    .appointmentFilterMain.allWordsFilter {\n      & .searchInput {\n        margin-bottom: 15px;\n        width: auto;\n        & > div {\n          margin-left: 0px !important;\n          margin-bottom: 10px;\n        }\n        & > span {\n          margin-bottom: 12px;\n        }\n      }\n    }\n  }\n  @media (max-width: 768px) {\n    .appointmentFilterMain.appoinmentSearchFilter {\n      & .filterWrapper {\n        display: block;\n        width: 100%;\n        & > div {\n          padding-bottom: 10px;\n        }\n      }\n    }\n  }\n  @media (max-width: 768px) {\n    .appointmentFilterMain.feedbackFilter {\n      & .feedbackWrapper {\n        width: 100%;\n      }\n    }\n    .appointmentFilterMain.fileFilterMain {\n      & .fileFilterInput {\n        width: 100%;\n      }\n      &.patient {\n        margin-bottom: 10px;\n      }\n    }\n  }\n  @media (max-width: 580px) {\n    .ant-row-flex.ant-row-flex-space-between.appointmentFilterMain.feedbackFilter\n      > .feedbackWrapper {\n      width: 100%;\n    }\n  }\n"]))),u=(0,m.A)(x.Ay.div(o||(o=(0,d.A)(["\n  width: auto;\n  overflow: inherit;\n  position: relative;\n\n  .isoInvoiceTable {\n    table {\n      tbody {\n        tr {\n          td {\n            .isoInvoiceBtnView {\n              display: flex;\n              flex-direction: row;\n              // justify-content: center;\n              > a {\n                margin: ",";\n              }\n              & > button {\n                margin: ",";\n              }\n              & > button.deleteCircleBtn {\n                color: red;\n              }\n            }\n            & a.MoreInfoValue.videoLink {\n              margin-left: 10px;\n              display: block;\n              text-overflow: ellipsis;\n              white-space: nowrap;\n              overflow: hidden;\n              width: 110px;\n              margin-left: 10px;\n            }\n          }\n        }\n      }\n    }\n  }\n  .invoiceListTable {\n    .patientInfo {\n      max-width: 70%;\n      & .normalWhiteSpace {\n        white-space: normal;\n      }\n      @media only screen and (max-width: 1600px) {\n        max-width: 100%;\n      }\n      & .MoreInfoValue {\n        margin-left: 10px;\n        @media (max-width: 375px) {\n          white-space: nowrap !important;\n          width: 110px !important;\n          overflow: hidden !important;\n          text-overflow: ellipsis !important;\n        }\n      }\n    }\n    .protocolsInfo.patientInfo {\n      & .MoreInfoValue {\n        @media (max-width: 375px) {\n          white-space: normal !important;\n          width: auto !important;\n          overflow: auto !important;\n          text-overflow: initial !important;\n        }\n      }\n    }\n    .invoiceDltBtn {\n      font-size: 18px;\n      display: inline-block;\n\n      & button,\n      & button:hover {\n        border: 0;\n        color: ",";\n      }\n    }\n  }\n"])),(n=>"rtl"===n["data-rtl"]?"0 0 0 15px":"0 15px 0 0"),(n=>"rtl"===n["data-rtl"]?"0 0 0 10px":"0 10px 0 0"),(0,c.palette)("error",0))),f=x.Ay.div(s||(s=(0,d.A)(["\n  .livenessDetectionSystem {\n    margin-top: 80px;\n    text-align: center;\n    font-weight: 800;\n    font-size: 35px;\n    margin-bottom: 30px;\n  }\n\n  .scanActions {\n    width: 640px;\n  }\n\n  .avatar-uploader {\n    margin: 0px 0px 20px;\n    cursor: pointer;\n  }\n  .otpLabel {\n    text-align: center;\n    padding-bottom: 25px;\n\n    & > h3 {\n      color: rgb(68, 68, 68);\n      font-weight: bold;\n    }\n\n    & > div {\n      & .numberWrap {\n        font-weight: bold;\n      }\n    }\n  }\n  .otpWrapper {\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    align-items: center;\n    padding-top: 20px;\n    .timerWrapper {\n      & .ant-statistic {\n        display: flex;\n        justify-content: center;\n\n        & .ant-statistic-title {\n          color: ",";\n          font-size: 14px;\n          text-decoration: underline;\n        }\n\n        & .ant-statistic-content {\n          padding: 0px 4px;\n          font-size: 14px;\n        }\n      }\n    }\n    .timerWrapperDisabled {\n      & .ant-statistic {\n        display: flex;\n        justify-content: center;\n\n        & .ant-statistic-title {\n          color: #d10d10d10;\n          font-size: 14px;\n          text-decoration: underline;\n        }\n\n        & .ant-statistic-content {\n          padding: 0px 4px;\n          font-size: 14px;\n        }\n      }\n    }\n  }\n\n  .proofWrapper {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    & > div {\n      display: flex;\n      align-items: center;\n      padding: 10px 0;\n    }\n  }\n  .phoneWrapper {\n    padding: 16px;\n    background: #f4f4f4;\n    border-radius: 5px;\n\n    & .phonoNumber {\n      font-weight: 600;\n    }\n  }\n  .uploadTitleWrap {\n    font-weight: 550;\n    font-size: 16px;\n    color: ",";\n  }\n  .imageWrap {\n    padding: 20px;\n    border: 2px dashed #ddd;\n    margin-top: 15px;\n    background: #f4f4f4;\n    text-align: center;\n    border-radius: 5px;\n\n    & > img {\n      width: 130px;\n    }\n    & > div {\n      text-align: center;\n      color: #666;\n      padding-top: 10px;\n    }\n  }\n\n  .signatureList,\n  .chooseList {\n    width: 100%;\n  }\n\n  & .signatureList {\n    margin-top: 15px;\n\n    & ul.ant-list-items {\n      & li.ant-list-item {\n        padding: 15px 0;\n        margin-bottom: 5px;\n      }\n    }\n\n    & .sign-main {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n\n      & .ant-tag {\n        margin-right: 20px;\n      }\n\n      img {\n        max-width: 190px;\n        max-height: 100px;\n        width: auto;\n      }\n    }\n  }\n\n  .settingList {\n    & .settingTitleWrap {\n      flex-direction: column;\n      display: flex;\n\n      & .settingTitle {\n        font-size: 16px;\n        font-weight: 550;\n      }\n\n      & .settingDesc {\n        padding-top: 2px;\n        color: #908c8c;\n      }\n    }\n  }\n\n  .chooseList {\n    cursor: pointer;\n    & .chooseFormItem {\n      margin-bottom: 0px !important;\n      border-bottom: 1px solid #ddd !important;\n    }\n\n    & ul.ant-list-items {\n      & li.ant-list-item {\n        & .ant-list-item-meta-title {\n          margin-bottom: 0px;\n        }\n\n        padding: 15px 0 10px;\n      }\n    }\n  }\n\n  .createBtn {\n    color: ",";\n    margin-top: 15px;\n    border: none;\n  }\n\n  & .createSignBtn {\n    color: ",";\n    margin: 10px 0 15px;\n    border-color: ",";\n  }\n\n  .createBtn.modifyBtn {\n    margin-top: 0px;\n  }\n\n  & .modifyBtn.ant-btn-sm {\n    display: block;\n    margin: 2px auto 0px;\n  }\n\n  .toggleSwitch {\n    margin: 0 23px;\n  }\n\n  .absolute-remove {\n    position: absolute;\n    top: -11px;\n    right: -9px;\n    font-size: 19px;\n  }\n\n  .phoneCodePicker > div:first-child {\n    border: none;\n    box-shadow: none !important;\n  }\n  .perCheckbox {\n    margin-left: 10px;\n    margin-top: 15px;\n  }\n  .userAvtarOrdered {\n    order: 2;\n    @media only screen and (max-width: 768px) {\n      order: 1;\n      & + div {\n        order: 2;\n      }\n    }\n  }\n  .userSettingsTitle {\n    margin-bottom: 20px;\n    font-size: 18px;\n    color: ",";\n  }\n\n  .dynamicInputs {\n    padding: 20px;\n    margin: 5px 0 10px;\n    border: 1px dashed #ddd;\n    background: #f5f5f5;\n\n    & > div {\n      & > .ant-row.ant-form-item {\n        margin-bottom: 0px;\n      }\n    }\n\n    & .removeInputBtn {\n      padding-left: 5px;\n      font-size: 20px;\n      color: ",";\n      margin-top: 6px;\n    }\n  }\n\n  & .invoiceInfo {\n    & .ant-descriptions {\n      & .ant-descriptions-title {\n        margin-bottom: 10px;\n        font-weight: 500;\n        color: ",";\n      }\n    }\n  }\n\n  & .basicDetailForm {\n    & .countryFormItem {\n      margin-bottom: 0px;\n\n      & .ant-form-item-control-input {\n        min-height: auto;\n\n        & .ant-select-selector {\n          height: 31px;\n        }\n      }\n    }\n  }\n\n  @media only screen and (max-width: 768px) {\n    & .signHint {\n      font-size: 12px;\n    }\n    & .signatureList {\n      & .ant-list-items {\n        padding: 10px 0 7px;\n      }\n    }\n  }\n"])),(0,c.palette)("primary",0),(0,c.palette)("secondary",0),(0,c.palette)("primary",0),(0,c.palette)("primary",0),(0,c.palette)("primary",0),(0,c.palette)("secondary",0),(0,c.palette)("error",0),(0,c.palette)("secondary",0)),b=x.Ay.div(r||(r=(0,d.A)(["\n  //border-left: 2px solid ",";\n  border-left: ","",";\n  border-radius: 8px;\n  display: block;\n  // height: 55px;\n  margin: 4px 0;\n  overflow: visible;\n  position: relative;\n\n  &::before {\n    border-top-left-radius: 8px;\n    border-top-width: 2px;\n    top: -2px;\n  }\n\n  &::after {\n    border-bottom-left-radius: 8px;\n    border-bottom-width: 2px;\n    bottom: -2px;\n  }\n\n  &::before,\n  &::after {\n    border: 0px solid ",";\n    content: '';\n    display: block;\n    height: 38px;\n    left: -1px;\n    position: absolute;\n    width: 20px;\n  }\n\n  & .title-top {\n    font-weight: 700;\n    top: -8px;\n  }\n  & .title-bottom {\n    bottom: -7px;\n  }\n  & .title-bottom,\n  & .title-top {\n    font-size: 10px;\n    left: 21px;\n    position: absolute;\n  }\n\n  & .extraInfo {\n    margin-left: 15px;\n\n    & > span {\n      display: block;\n      font-size: 12px;\n    }\n  }\n\n  & .sign-container {\n    display: flex;\n    align-items: center;\n    height: 55px;\n    white-space: nowrap;\n    width: 100%;\n    padding: 10px;\n    justify-content: space-between;\n    padding-left: 15px;\n\n    & > img {\n      max-width: 100%;\n      max-height: 100%;\n    }\n\n    & .sign {\n      font-size: 22px;\n      line-height: 22px;\n      margin-top: 8px;\n\n      &.default {\n        font-size: 20px;\n        margin-left: 2px;\n      }\n    }\n\n    @media (max-width: 768px) {\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    @media (max-width: 580px) {\n      padding-left: 5px;\n      min-width: 100px;\n\n      & .sign {\n        font-size: 18px;\n\n        &.default {\n          font-size: 15px;\n        }\n      }\n    }\n  }\n  @media (max-width: 580px) {\n    & .title-top {\n      left: 10px;\n    }\n  }\n"])),(0,c.palette)("primary",0),(n=>n.noDesign?"0px solid":"2px solid"),(0,c.palette)("primary",0),(0,c.palette)("primary",0)),y=(x.Ay.div(l||(l=(0,d.A)(["\n  .ant-drawer-body {\n    // padding-bottom: 140px;\n  }\n"]))),(0,m.A)(h))},48755:(n,e,t)=>{t.d(e,{A:()=>u});var i,a,o,s=t(57528),r=t(33753),l=t(1868);const d=r.Ay.h3(i||(i=(0,s.A)(["\n  font-size: 17px;\n  font-weight: 500;\n  color: ",";\n  margin: 0;\n  margin-bottom: 5px;\n"])),(0,l.palette)("secondary",0)),p=r.Ay.p(a||(a=(0,s.A)(["\n  font-size: 14px;\n  font-weight: 400;\n  color: ",";\n  line-height: 24px;\n"])),(0,l.palette)("text",3)),m=r.Ay.div(o||(o=(0,s.A)(["\n  display: flex;\n\n  & .boxTitleMain {\n    flex: 1;\n  }\n"])));var x,c=t(44414);function g(n){let{title:e,subtitle:t,rightBtns:i}=n;return e?(0,c.jsxs)(m,{className:"boxHeader",children:[(0,c.jsxs)("div",{className:"boxTitleMain",children:[e?(0,c.jsxs)(d,{className:"isoBoxTitle",children:[" ",e," "]}):"",t?(0,c.jsxs)(p,{className:"isoBoxSubTitle",children:[" ",t," "]}):""]}),i]}):null}const h=r.Ay.div(x||(x=(0,s.A)(["\n  width: 100%;\n  height: 100%;\n  background-color: #ffffff;\n  margin: 0 0 30px;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n\n  @media only screen and (max-width: 767px) {\n    padding: 20px;\n    ",";\n  }\n\n  &.half {\n    width: calc(50% - 34px);\n    @media (max-width: 767px) {\n      width: 100%;\n    }\n  }\n"])),"");function u(n){let{className:e,title:t,subtitle:i,children:a,style:o,rightBtns:s}=n;return(0,c.jsxs)(h,{className:"".concat(e||""," isoBoxWrapper"),style:o,children:[(0,c.jsx)(g,{title:t,subtitle:i,rightBtns:s}),a]})}},21270:(n,e,t)=>{t.d(e,{A:()=>o});var i=t(69466),a=t(44414);function o(n){let{id:e,style:t,children:o,className:s,autoHide:r=!0,autoHeight:l,autoHeightMin:d=0,autoHeightMax:p=200,sRef:m,...x}=n;return(0,a.jsx)(i.ur,{ref:m,id:e,className:s,style:t,autoHide:r,autoHideTimeout:1e3,autoHideDuration:200,thumbMinSize:30,universal:!0,autoHeight:l,autoHeightMin:d,autoHeightMax:p,...x,children:o})}},4574:(n,e,t)=>{t.r(e),t.d(e,{default:()=>_});var i=t(9950),a=t(41135),o=t(37734),s=t(68265),r=t(72612),l=t(35398),d=t(87094),p=t(41988),m=t(1203),x=t(55902),c=t(23072),g=t(68902),h=t(41397),u=t(41893),f=t(6819),b=t(10597),y=t(96272),w=t(8187),v=t(35676),j=t(19726),A=t(25884),I=t(21367),k=t(19929),S=t(13239),B=t(98341),U=t(93347),W=t(9941),F=t(44414);function T(n,e){const{visible:t,type:a,handleSubmit:T=(()=>{}),user:L={},showSaved:_=!1,setDisable:z=(()=>{}),submitLoading:D=!1,setSubmitLoader:M=(()=>{}),user_id:R}=n,N="initial"===a,H="sign"===a,{userData:O}=(0,B.useSelector)((n=>n.Auth)),C=(0,h.isObject)(L)&&!(0,h.isEmpty)(L)?L:O||{},V=(0,w.dS)(C.first_name,C.last_name)||"";let E=V.match(/\b\w/g)||[];E=((E.shift()||"")+(E.pop()||"")).toUpperCase();const P={full_name:V,initial_name:E},[K,Y]=i.useState({trimmedSignURL:null,trimmedInitURL:null,signs:[]}),[G]=s.A.useForm(),[q,J]=(0,i.useState)({}),[Q,X]=(0,i.useState)("choose"),[Z,$]=(0,i.useState)({signImageUrl:"",initialsImageUrl:""}),{signImageUrl:nn,initialsImageUrl:en}=Z;(0,i.useEffect)((()=>{t&&X(_&&C.email&&"public"!==C.email?"saved":"choose")}),[t]),(0,i.useEffect)((()=>{t&&"saved"===Q&&C.email&&"public"!==C.email&&(!K.signs||(0,h.isEmpty)(K.signs))&&async function(){Y((n=>({...n,loading:!0})));try{const n=await(0,f.Ay)("user/get-signature");if("Unauthorized"===n.message)return void(0,u.A)("error","common.sessionExpired");n.success&&(0,h.isArray)(n.data)?Y((e=>({...e,loading:!1,signs:n.data}))):Y((n=>({...n,loading:!1})))}catch(n){Y((n=>({...n,loading:!1})))}}()}),[Q]),(0,v.A)({form:G,visible:t,initVal:P});const tn=n=>{const e={...n};e.type=Q,"upload"===Q?(e.signature=null===Z||void 0===Z?void 0:Z.signImageUrl,e.initial=null===Z||void 0===Z?void 0:Z.initialsImageUrl):"draw"===Q?(e.signature=null===K||void 0===K?void 0:K.trimmedSignURL,e.initial=null===K||void 0===K?void 0:K.trimmedInitURL):"saved"===Q?e.sign_id=null===q||void 0===q?void 0:q.id:e.signature_font=(null===q||void 0===q?void 0:q.signature_font)||"roboto",e.date=K.signDate,e.sign_by=K.signBy,e.reason=K.signReason,e.no_design=K.noDesign,async function(n){M(!0);try{const e=new FormData;e.append("pType","sign"===a?"full":a),e.append("user_id",R),Object.entries(n).forEach((n=>{let[t,i]=n;void 0!==i&&e.append(t,i)}));const t=await(0,f.Ay)("add-sign",e,"POST",void 0,!0);t.success&&t.data?(M(!1),T(t.data)):(M(!1),(0,u.A)("error",t.message))}catch(e){M(!1),(0,u.A)("error")}}(e)};function an(n,e){const t=e("full_name"),i=e("initial_name"),o=H&&!t||N&&!i;return"saved"===n?(0,F.jsx)(r.A,{spinning:K.loading||!1,children:(0,F.jsx)("div",{className:"signatureList",children:(0,F.jsx)(j.A,{state:K,dataSource:K.signs||[],renderItem:e=>{const t=e.id===q.id;return(0,F.jsx)(l.A.Item,{onClick:()=>{J({...e,type:n})},children:(0,F.jsx)(l.A.Item.Meta,{title:(0,F.jsxs)(d.A,{style:{alignItems:"center"},children:[(0,F.jsx)(p.A,{xs:4,sm:3,children:(0,F.jsx)(k.jl,{children:t&&(0,F.jsx)(S.A,{})})}),(0,F.jsx)(p.A,{xs:20,sm:17,children:(0,F.jsx)("div",{className:"sign-main",children:(0,F.jsx)("img",{alt:N?e.initial_name:e.full_name,src:N?e.initial_signature:e.full_signature})})})]})})})}})})}):"choose"===n?o?(0,F.jsx)(m.A,{}):(0,F.jsx)(j.A,{state:K,selectedSign:q,setSelectedSign:e=>{J({...e,type:n})},pType:a,name:t,initials:i}):"draw"===n?(0,F.jsxs)(F.Fragment,{children:[on(K.trimmedSignURL,t),(0,F.jsx)(A.A,{setState:n=>{Y(n)},trimmedInitURL:K.trimmedInitURL,trimmedSignURL:K.trimmedSignURL,pType:a})]}):"upload"===n?(0,F.jsxs)(F.Fragment,{children:[on(nn,t),(0,F.jsx)(I.A,{beforeUpload:(n,e)=>{((n,e)=>{const t=(0,w.cd)(n,"custom");t.status?(0,w.In)(n,(n=>{$("sign"===e?e=>({...e,signImageUrl:n,loading:!1}):e=>({...e,initialsImageUrl:n,loading:!1}))})):(0,u.A)("error",t.message)})(n,e)},signImageUrl:nn,initialsImageUrl:en,setUploadData:n=>{$(n)},pType:a})]}):null}function on(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;return(0,F.jsx)(y.pO,{children:(0,F.jsx)("div",{className:"signForm mb20",children:(0,F.jsxs)(b.YV,{noDesign:K.noDesign,children:[(0,F.jsx)("span",{className:"title-top",children:K.signBy&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(o.A,{id:"signature.signedBy"}),":"," ",(0,F.jsx)("span",{children:e||""})," "]})}),(0,F.jsx)("div",{className:"sign-container",children:n&&(0,F.jsx)("img",{src:n,alt:"sign"})}),(0,F.jsxs)("div",{className:"extraInfo",children:[K.signDate&&(0,F.jsxs)("span",{children:[K.signDate," (UTC)"]}),K.signReason&&(0,F.jsx)("span",{children:K.signReason})]})]})})})}return(0,i.useEffect)((()=>{const n=(()=>{let n=!1;return"choose"===Q||"saved"===Q?n=(0,h.isEmpty)(q)||q.type!==Q:"draw"===Q?n=N&&!K.trimmedInitURL||H&&!K.trimmedSignURL:"upload"===Q&&(n=H&&!Z.signImageUrl||N&&!Z.initialsImageUrl),n})();z(n)}),[Q,K,Z,q,t]),(0,i.useImperativeHandle)(e,(()=>({onOk(){G.validateFields().then((n=>{tn(n)})).catch((n=>{console.log("Validate Failed:",n)}))}}))),(0,F.jsx)("div",{className:"w100",children:(0,F.jsx)(r.A,{spinning:D||!1,children:(0,F.jsx)(b._H,{children:(0,F.jsxs)(s.A,{form:G,layout:"horizontal",children:[(0,F.jsxs)(d.A,{gutter:[20],children:[H&&(0,F.jsx)(p.A,{xs:24,sm:12,children:(0,F.jsx)(s.A.Item,{name:"full_name",label:(0,F.jsx)(o.A,{id:"signature.name"}),rules:[{max:50,message:(0,F.jsx)(o.A,{id:"err.max.50char"})},{whitespace:!0,message:(0,F.jsx)(o.A,{id:"err.blankSpace"})}],children:(0,F.jsx)(x.A,{})})}),N&&(0,F.jsx)(p.A,{xs:24,sm:12,children:(0,F.jsx)(s.A.Item,{name:"initial_name",label:(0,F.jsx)(o.A,{id:"signature.initials"}),rules:[{max:20,message:(0,F.jsx)(o.A,{id:"err.max.20char"})},{whitespace:!0,message:(0,F.jsx)(o.A,{id:"err.blankSpace"})}],children:(0,F.jsx)(x.A,{})})})]}),(0,F.jsx)(c.A,{style:{margin:"15px 0px"}}),(0,F.jsx)(W.A,{setState:Y,state:K}),(0,F.jsx)(c.A,{style:{margin:"10px 0px"}}),(0,F.jsx)(g.A,{defaultActiveKey:Q,activeKey:Q,onChange:n=>{X(n)},children:U.gV.map((n=>"saved"===n.type&&(!_||"public"===C.email)?null:(0,F.jsx)(g.A.TabPane,{tab:(0,F.jsx)(o.A,{id:n.title}),children:(0,F.jsx)(s.A.Item,{noStyle:!0,shouldUpdate:(n,e)=>n.full_name!==e.full_name||n.initial_name!==e.initial_name,children:e=>{let{getFieldValue:t}=e;return an(n.type,t)}})},n.type)))})]})})})})}const L=(0,i.forwardRef)(T);const _=function(n){const{visible:e,type:t,handleSubmit:s=(()=>{}),user:r={},showSaved:l=!0,className:d,user_id:p}=n,m=(0,i.useRef)(null),x="initial"===t,[c,g]=i.useState({trimmedSignURL:null,trimmedInitURL:null,signs:[],isOkDisabled:!1}),[h,u]=(0,i.useState)(!1),f=()=>!h&&(n.onClose(),!0);return(0,F.jsx)(a.A,{className:d,style:{top:50},open:e,onClose:f,title:(0,F.jsx)(o.A,{id:x?"common.addInitial":"common.addSign"}),onOk:()=>{null!==m&&void 0!==m&&m.current&&m.current.onOk()},onCancel:f,destroyOnClose:!0,closable:!0,width:600,okText:(0,F.jsx)(o.A,{id:"common.add"}),cancelButtonProps:{key:"back"},okButtonProps:{id:"sign-ok",key:"submit",loading:h,disabled:c.isOkDisabled},children:(0,F.jsx)(L,{ref:m,visible:e,type:t,handleSubmit:n=>s(n),setDisable:n=>g((e=>({...e,isOkDisabled:n}))),user:r,showSaved:l,submitLoading:h,setSubmitLoader:u,user_id:p})})}},35676:(n,e,t)=>{t.d(e,{A:()=>o});var i=t(9950),a=t(41397);const o=function(n){let{form:e,visible:t,initVal:o}=n;const s=(0,i.useRef)();(0,i.useEffect)((()=>{s.current=t,t&&(0,a.isObject)(o)&&!(0,a.isEmpty)(o)&&setTimeout((()=>{e.setFieldsValue(o)}),100)}),[t]);const r=s.current;(0,i.useEffect)((()=>{!t&&r&&e.resetFields()}),[t])}}}]);