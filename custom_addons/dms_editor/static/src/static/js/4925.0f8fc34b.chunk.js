"use strict";(self.webpackChunkfilesdna=self.webpackChunkfilesdna||[]).push([[4925],{626:(e,a,t)=>{t.d(a,{A:()=>p});var n=t(37734),l=t(6819),s=t(99386),c=t(52160),i=t(72612),r=t(41397),o=t(9950),d=t(44414);const{Option:h}=s.A;const p=function(e){const{onChange:a=(()=>{}),onSelect:t=(()=>{}),onDeselect:p=(()=>{}),placeholder:x,apiData:u={},initVal:f,fullData:A=!1,allowClear:m=!0,disabled:j=!1,mode:g,vKey:y="",lKey:v="",value:C,refSelect:b,renderOption:w=null,addNew:k=!1,onClear:S=(()=>{}),onClick:M=(()=>{}),open:N,onFocus:z=(()=>{}),onBlur:D=(()=>{})}=e,[V,B]=(0,o.useState)({data:[],fetching:!1}),[O,E]=(0,o.useState)(!1);let T=0;const{fetching:P,data:F}=V,R=O?F:F.slice(0,10);(0,o.useEffect)((()=>{(0,r.isObject)(f)&&!(0,r.isEmpty)(f)&&B((e=>({...e,value:f})))}),[f]);const L=async()=>{const e=(0,r.isObject)(u)?u:{};try{const a=await(0,l.Ay)(e.apiUrl,{}),t=a&&(0,r.isArray)(a.data)?a.data:[];B((e=>({...e,data:t,fetching:!1})))}catch(a){B((e=>({...e,data:[],fetching:!1})))}};(0,o.useEffect)((()=>{L()}),[(0,r.isEmpty)(C)]);const H=(0,r.debounce)((async e=>{T+=1;const a=T,t=e?e.trim():"",n=t.length,s=(0,r.isObject)(u)?u:{};if(n>1&&!(0,r.isEmpty)(s)){B((e=>({...e,data:[],fetching:!0})));try{const e=await(0,l.Ay)(s.apiUrl,{[s.apiParam]:t,fullData:A||null}),n=e&&(0,r.isArray)(e.data)?e.data:[];if(a!==T)return;B((e=>({...e,data:n,fetching:!1})))}catch(c){B((e=>({...e,data:[],fetching:!1})))}}else B((e=>({...e,data:[]})))}),800),I=y||"id",K=v||"name",U=()=>E(!0),W=w||function(e){return(0,d.jsx)(h,{value:e[I],obj:e,children:e[K]},e[I])};return(0,d.jsxs)(s.A,{onChange:a,placeholder:x,ref:b,notFoundContent:P?(0,d.jsx)("div",{className:"flexCenter",children:(0,d.jsx)(i.A,{size:"small"})}):null,filterOption:!1,onSearch:H,style:{width:"100%"},allowClear:m,showSearch:!0,disabled:j,mode:g,onSelect:e=>{t(e),L()},onDeselect:p,value:C,onClear:S,onClick:M,open:N,onFocus:z,onBlur:D,children:[R.map(W),k?(0,d.jsx)(h,{children:(0,d.jsx)("p",{style:{fontWeight:550},children:(0,d.jsx)(n.A,{id:"common.addNew"})})},"new"):null,F.map(W).length>10&&!O&&(0,d.jsx)(h,{style:{direction:"rtl"},children:(0,d.jsx)(c.Ay,{type:"text",size:"small",onClick:U,children:(0,d.jsx)(n.A,{id:"common.showMore"})})},"show-more")]})}},48151:(e,a,t)=>{t.d(a,{A:()=>h});var n,l=t(55327),s=t(57528),c=t(33753),i=t(1868),r=t(85908);const o=e=>(0,c.Ay)(e)(n||(n=(0,s.A)(["\n  .ant-input {\n    padding: 4px 10px;\n    width: 100%;\n    height: 35px;\n    cursor: text;\n    font-size: 13px;\n    line-height: 1.5;\n    color: ",";\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid ",";\n    ",";\n    ",";\n\n    &:focus {\n      border-color: ",";\n    }\n\n    &::-webkit-input-placeholder {\n      color: ",";\n    }\n\n    &:-moz-placeholder {\n      color: ",";\n    }\n\n    &::-moz-placeholder {\n      color: ",";\n    }\n    &:-ms-input-placeholder {\n      color: ",";\n    }\n  }\n"])),(0,i.palette)("text",1),(0,i.palette)("border",0),(0,r.Vq)("4px"),(0,r.kY)(),(0,i.palette)("primary",0),(0,i.palette)("grayscale",0),(0,i.palette)("grayscale",0),(0,i.palette)("grayscale",0),(0,i.palette)("grayscale",0)),d=o(l.A),h=(o(l.A.RangePicker),d)},64925:(e,a,t)=>{t.r(a),t.d(a,{default:()=>T});t(59051);var n=t(77484),l=t(9251),s=t(10597),c=(t(626),t(19392)),i=(t(48151),t(37734)),r=t(8187),o=t(93347),d=t(99386),h=t(55327),p=t(55902),x=t(87094),u=t(41988),f=(t(41397),t(9950)),A=t(30135),m=t(98341),j=t(4159),g=t.n(j),y=(t(96860),t(41404),t(48213),t(41893)),v=t(90923),C=t.n(v),b=t(36049),w=t.n(b),k=t(43978),S=t.n(k),M=t(7776),N=t.n(M),z=t(43540),D=t.n(z),V=t(64085),B=t.n(V),O=t(44414);g().extend(C()),g().extend(w()),g().extend(N()),g().extend(S()),g().extend(D()),g().extend(B()),g().extend(C());const{Option:E}=d.A;(0,r.Wk)(),o.ME;const T=(0,A.j4)((function(e){const{filters:a={},onChange:t,intl:r,resetFlt:o=(()=>{}),displayFlt:A,dData:j={},advancedSearch:g,setAdvancedSearch:v=(()=>{})}=e,[C,b]=(0,f.useState)(""),[w,k]=(0,f.useState)("Complete Match"),[S,M]=(0,f.useState)([{type:"match",value:"",boolean:"AND"}]),N=(0,m.useSelector)((e=>e.App.view)),z="MobileView"===N||"TabView"===N,D=(e,a,t)=>{const n=S.map(((n,l)=>l===e?{...n,[a]:t}:n));M(n)},V=()=>{t({searchTerm:C,searchType:w,conditions:S,type:"elastic"})},B=e=>{const{RangePicker:a}=h.A;return"range"===e.type?(0,O.jsx)(a,{onChange:(a,t)=>e.value=t,style:{width:"100%"}}):(0,O.jsx)(p.A,{placeholder:r.formatMessage({id:"filters.searchBoxInputText"}),onChange:a=>e.value=a.target.value,style:{width:"100%"}})};return(0,O.jsx)("div",{className:"filterBox",children:!z&&A?(0,O.jsx)(s.az,{className:"filterBox",title:(0,O.jsx)(i.A,{id:"filters.searchBoxTitle"}),children:(0,O.jsx)(x.A,{justify:"space-between",type:"flex",className:"filterMain",children:(0,O.jsxs)(u.A,{span:24,children:[(0,O.jsxs)(x.A,{style:{gap:"8px"},children:[(0,O.jsx)(u.A,{span:12,children:(0,O.jsx)(p.A.Search,{allowClear:!0,value:C,onChange:e=>b(e.target.value),onSearch:V,placeholder:r.formatMessage({id:"filters.searchBoxInputText"}),style:{width:"100%"}})}),(0,O.jsx)(u.A,{span:4,children:(0,O.jsx)(c.A,{type:"primary",onClick:V,children:(0,O.jsx)(i.A,{id:"common.submit"})})})]}),g&&(0,O.jsx)(x.A,{style:{gap:"8px",margin:"10px"},children:(0,O.jsx)(u.A,{span:4,children:(0,O.jsxs)(d.A,{defaultValue:"Complete Match",value:w,onChange:e=>k(e),style:{width:"100%"},children:[(0,O.jsx)(E,{value:"Partial Match",children:(0,O.jsx)(i.A,{id:"elastic.partialMatch"})}),(0,O.jsx)(E,{value:"Complete Match",children:(0,O.jsx)(i.A,{id:"elastic.completeMatch"})})]})})},"contains"),(0,O.jsx)("hr",{style:{border:"solid 1px #f1f3f6",margin:"10px"}}),g&&S.map(((e,a)=>(0,O.jsxs)(x.A,{style:{gap:"8px",margin:"10px"},children:[(0,O.jsx)(u.A,{span:4,children:(0,O.jsxs)(d.A,{defaultValue:"AND",value:e.boolean,onChange:e=>D(a,"boolean",e),style:{width:"100%"},children:[(0,O.jsx)(E,{value:"AND",children:(0,O.jsx)(i.A,{id:"elastic.and"})}),(0,O.jsx)(E,{value:"OR",children:(0,O.jsx)(i.A,{id:"elastic.or"})}),(0,O.jsx)(E,{value:"NOT",children:(0,O.jsx)(i.A,{id:"elastic.not"})})]})}),(0,O.jsx)(u.A,{span:4,children:(0,O.jsxs)(d.A,{defaultValue:"match",value:e.type,onChange:e=>D(a,"type",e),style:{width:"100%"},children:[(0,O.jsx)(E,{value:"match",children:(0,O.jsx)(i.A,{id:"elastic.match"})}),(0,O.jsx)(E,{value:"range",children:(0,O.jsx)(i.A,{id:"elastic.range"})})]})}),(0,O.jsx)(u.A,{span:8,children:B(e)}),0!==a&&(0,O.jsx)(n.A,{onClick:()=>(e=>{const a=S.filter(((a,t)=>t!==e));M(a)})(a)})]},a))),(0,O.jsxs)(x.A,{style:{gap:"8px"},children:[g&&(0,O.jsxs)(c.A,{onClick:()=>{const e=S[S.length-1];"match"===e.type?""!==e.value.trim()?M([...S,{type:"match",value:"",boolean:"AND"}]):(0,y.A)("error","Please fill all the fields before adding more."):e.value.length>0?M([...S,{type:"match",value:"",boolean:"AND"}]):(0,y.A)("error","Please fill all the fields before adding more.")},children:[" ",(0,O.jsx)(i.A,{id:"elastic.addCondition"})," "]}),(0,O.jsx)(c.A,{type:"primary",onClick:()=>v(!g),children:g?(0,O.jsx)(i.A,{id:"elastic.simpleSearch"}):(0,O.jsx)(i.A,{id:"elastic.advancedSearch"})}),(0,O.jsx)(c.A,{icon:(0,O.jsx)(l.A,{}),onClick:()=>{v(!1),b(""),k(""),M([{type:"match",value:"",boolean:"AND"}]),o()},children:(0,O.jsx)(i.A,{id:"common.reset"})})]})]})})}):null})}))},9251:(e,a,t)=>{t.d(a,{A:()=>r});var n=t(58168),l=t(9950);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"}}]},name:"filter",theme:"outlined"};var c=t(25085),i=function(e,a){return l.createElement(c.A,(0,n.A)({},e,{ref:a,icon:s}))};const r=l.forwardRef(i)},77484:(e,a,t)=>{t.d(a,{A:()=>r});var n=t(58168),l=t(9950);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"};var c=t(25085),i=function(e,a){return l.createElement(c.A,(0,n.A)({},e,{ref:a,icon:s}))};const r=l.forwardRef(i)}}]);