(self.webpackChunkfilesdna=self.webpackChunkfilesdna||[]).push([[760],{626:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var l=a(37734),r=a(6819),n=a(99386),o=a(52160),s=a(72612),i=a(41397),c=a(9950),d=a(44414);const{Option:u}=n.A;const m=function(e){const{onChange:t=(()=>{}),onSelect:a=(()=>{}),onDeselect:m=(()=>{}),placeholder:h,apiData:p={},initVal:f,fullData:g=!1,allowClear:x=!0,disabled:v=!1,mode:b,vKey:y="",lKey:w="",value:j,refSelect:C,renderOption:S=null,addNew:P=!1,onClear:A=(()=>{}),onClick:_=(()=>{}),open:$,onFocus:k=(()=>{}),onBlur:M=(()=>{})}=e,[Y,D]=(0,c.useState)({data:[],fetching:!1}),[N,F]=(0,c.useState)(!1);let T=0;const{fetching:E,data:O}=Y,U=N?O:O.slice(0,10);(0,c.useEffect)((()=>{(0,i.isObject)(f)&&!(0,i.isEmpty)(f)&&D((e=>({...e,value:f})))}),[f]);const z=async()=>{const e=(0,i.isObject)(p)?p:{};try{const t=await(0,r.Ay)(e.apiUrl,{}),a=t&&(0,i.isArray)(t.data)?t.data:[];D((e=>({...e,data:a,fetching:!1})))}catch(t){D((e=>({...e,data:[],fetching:!1})))}};(0,c.useEffect)((()=>{z()}),[(0,i.isEmpty)(j)]);const R=(0,i.debounce)((async e=>{T+=1;const t=T,a=e?e.trim():"",l=a.length,n=(0,i.isObject)(p)?p:{};if(l>1&&!(0,i.isEmpty)(n)){D((e=>({...e,data:[],fetching:!0})));try{const e=await(0,r.Ay)(n.apiUrl,{[n.apiParam]:a,fullData:g||null}),l=e&&(0,i.isArray)(e.data)?e.data:[];if(t!==T)return;D((e=>({...e,data:l,fetching:!1})))}catch(o){D((e=>({...e,data:[],fetching:!1})))}}else D((e=>({...e,data:[]})))}),800),L=y||"id",V=w||"name",K=()=>F(!0),W=S||function(e){return(0,d.jsx)(u,{value:e[L],obj:e,children:e[V]},e[L])};return(0,d.jsxs)(n.A,{onChange:t,placeholder:h,ref:C,notFoundContent:E?(0,d.jsx)("div",{className:"flexCenter",children:(0,d.jsx)(s.A,{size:"small"})}):null,filterOption:!1,onSearch:R,style:{width:"100%"},allowClear:x,showSearch:!0,disabled:v,mode:b,onSelect:e=>{a(e),z()},onDeselect:m,value:j,onClear:A,onClick:_,open:$,onFocus:k,onBlur:M,children:[U.map(W),P?(0,d.jsx)(u,{children:(0,d.jsx)("p",{style:{fontWeight:550},children:(0,d.jsx)(l.A,{id:"common.addNew"})})},"new"):null,O.map(W).length>10&&!N&&(0,d.jsx)(u,{style:{direction:"rtl"},children:(0,d.jsx)(o.Ay,{type:"text",size:"small",onClick:K,children:(0,d.jsx)(l.A,{id:"common.showMore"})})},"show-more")]})}},48151:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var l,r=a(55327),n=a(57528),o=a(33753),s=a(1868),i=a(85908);const c=e=>(0,o.Ay)(e)(l||(l=(0,n.A)(["\n  .ant-input {\n    padding: 4px 10px;\n    width: 100%;\n    height: 35px;\n    cursor: text;\n    font-size: 13px;\n    line-height: 1.5;\n    color: ",";\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid ",";\n    ",";\n    ",";\n\n    &:focus {\n      border-color: ",";\n    }\n\n    &::-webkit-input-placeholder {\n      color: ",";\n    }\n\n    &:-moz-placeholder {\n      color: ",";\n    }\n\n    &::-moz-placeholder {\n      color: ",";\n    }\n    &:-ms-input-placeholder {\n      color: ",";\n    }\n  }\n"])),(0,s.palette)("text",1),(0,s.palette)("border",0),(0,i.Vq)("4px"),(0,i.kY)(),(0,s.palette)("primary",0),(0,s.palette)("grayscale",0),(0,s.palette)("grayscale",0),(0,s.palette)("grayscale",0),(0,s.palette)("grayscale",0)),d=c(r.A),u=(c(r.A.RangePicker),d)},760:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>L});a(59051);var l=a(9251),r=a(10597),n=a(626),o=a(19392),s=a(48151),i=a(37734),c=a(8187),d=a(93347),u=a(99386),m=a(87094),h=a(55902),p=a(32077),f=a(41397),g=a(9950),x=a(30135),v=a(98341),b=a(4159),y=a.n(b),w=a(14671),j=a(96860),C=a(41404),S=(a(48213),a(90923)),P=a.n(S),A=a(36049),_=a.n(A),$=a(43978),k=a.n($),M=a(7776),Y=a.n(M),D=a(43540),N=a.n(D),F=a(64085),T=a.n(F),E=a(44414);y().extend(P()),y().extend(_()),y().extend(Y()),y().extend(k()),y().extend(N()),y().extend(T()),y().extend(P());const{Option:O}=u.A,U=(0,c.Wk)();let z=null;const R=[...d.ME,{id:"classified",name:"Classified",color:"blue"}];const L=(0,x.j4)((function(e){var t;const{filters:a={},onChange:c,intl:d,resetFlt:x=(()=>{}),displayFlt:b,dData:S={}}=e,P=(0,v.useDispatch)(),A=(0,v.useSelector)((e=>e.Auth.userData)),{setUserGuide:_}=C.A,{width:$}=(0,j.A)(),k=(0,v.useSelector)((e=>e.Auth.userGuide)),[M,Y]=(0,g.useState)(-1),[,D]=(0,g.useState)(!1),[N,F]=(0,g.useState)(!1);(0,g.useEffect)((()=>{const e=$>=992&&k.user_guide_visible>=1&&"smart-search-with-tag"===k.user_guide_step&&1===A.user_guide_allowed?1:0;Y(e),D(1===e)}),[k]);const[T,L]=(0,g.useState)({}),V=(0,v.useSelector)((e=>e.App.view)),K="MobileView"===V||"TabView"===V;if((0,g.useEffect)((()=>{L({...a})}),[a]),!b)return null;const W=(0,f.isArray)(a.tags)?[...a.tags]:[],q=(null===S||void 0===S?void 0:S.filters)||{},B=(null===q||void 0===q?void 0:q.hiddenFilters)||[],I="Form"===(null===S||void 0===S||null===(t=S.apiData)||void 0===t?void 0:t.doc_type);return(0,E.jsx)(r.az,{className:"filterBox",title:(0,E.jsx)(i.A,{id:"common.filters"}),children:(0,E.jsx)(m.A,{justify:"space-between",type:"flex",className:"filterMain",children:!K||b?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("div",{style:{gap:"8px"},className:"filterWrapper",children:[(0,E.jsx)("div",{children:(0,E.jsx)(h.A.Search,{allowClear:!0,value:T.tmpName||T.name||void 0,defaultValue:T.name||"",onChange:e=>{const{value:t}=e.target;L((e=>({...e,tmpName:t}))),t?(clearTimeout(z),z=setTimeout((()=>{c(t,"name")}),500)):c(t,"name")},onSearch:e=>c(e,"name"),style:{minWidth:320},placeholder:I?"Search by Form or Folder name":d.formatMessage({id:q.searchPlaceholder||"filters.searchDocName"})})}),!I&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("div",{children:(0,E.jsx)(s.A,{locale:w.default,style:{minWidth:200},format:"DD-MM-YYYY",onChange:e=>{const t=e?e.format("YYYY-MM-DD"):"";c(t,"date")},value:null!==T&&void 0!==T&&T.date?y()(null===T||void 0===T?void 0:T.date,"YYYY-MM-DD"):null,placeholder:d.formatMessage({id:"filters.searchDate"})})}),(0,E.jsx)("div",{children:(0,E.jsx)(u.A,{style:{minWidth:200},value:T.file_type,onChange:e=>c(e,"file_type",!0),placeholder:d.formatMessage({id:"antTable.title.type"}),allowClear:!0,children:(0,f.map)(U,(e=>(0,E.jsx)(O,{value:e,children:e.toUpperCase()},e)))})}),B.indexOf("status")>-1?null:(0,E.jsx)("div",{children:(0,E.jsx)(u.A,{style:{minWidth:200},value:T.status,onChange:e=>c(e,"status",!0),placeholder:d.formatMessage({id:"common.status"}),allowClear:!0,children:R.map((e=>{const t=e.name?e.name.toLowerCase():"";return(0,E.jsxs)(O,{value:e.name,children:[(0,E.jsx)(p.A,{color:e.color,status:e.color?void 0:"default"})," ",t&&(0,E.jsx)(i.A,{id:e.name.toLowerCase()})]},e.id)}))})}),B.indexOf("tags")>-1?null:(0,E.jsx)("div",{className:M?"step-smart-search-with-tag search-tag-dropdown":"search-tag-dropdown",children:(0,E.jsx)(n.A,{apiData:{apiParam:"keyword",apiUrl:"file/get-tags"},placeholder:(0,E.jsx)(i.A,{id:"documents.searchTag"}),vKey:"name",onClick:()=>{if(M){P(_({user_guide_step:"welcome",user_guide_visible:0}))}},value:W,onSelect:e=>{if("show-more"!==e){const t=[...W];t.push(e),c(t,"tags")}},onClear:x,onDeselect:e=>{const t=[...W];if(t.length){const a=t.filter((t=>t!==e));c(a,"tags")}else x()},open:N,onFocus:()=>F(!0),onBlur:()=>F(!1),mode:"tags"})})]})]}),(0,E.jsx)("div",{className:"resetFlt",children:(0,E.jsx)(o.A,{icon:(0,E.jsx)(l.A,{}),onClick:x,children:(0,E.jsx)("span",{className:"upperCase",children:(0,E.jsx)(i.A,{id:"common.reset"})})})})]}):null})})}))},9251:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var l=a(58168),r=a(9950);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"}}]},name:"filter",theme:"outlined"};var o=a(25085),s=function(e,t){return r.createElement(o.A,(0,l.A)({},e,{ref:t,icon:n}))};const i=r.forwardRef(s)},71522:(e,t,a)=>{"use strict";var l=a(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a(73721));t.default=r.default},73721:(e,t,a)=>{"use strict";var l=a(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a(24152)),n=l(a(4840));const o={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},r.default),timePickerLocale:Object.assign({},n.default)};t.default=o},14671:(e,t,a)=>{"use strict";var l=a(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a(38314)),n=l(a(71522)),o=l(a(73721)),s=l(a(4840));const i="${label} is not a valid ${type}",c={locale:"en",Pagination:r.default,DatePicker:o.default,TimePicker:s.default,Calendar:n.default,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:i,method:i,array:i,object:i,number:i,date:i,boolean:i,integer:i,float:i,regexp:i,email:i,url:i,hex:i},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty"}};t.default=c},4840:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},38314:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"}},24152:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}},24994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}}]);