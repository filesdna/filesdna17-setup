"use strict";(self.webpackChunkfilesdna=self.webpackChunkfilesdna||[]).push([[5076],{35076:(s,e,i)=>{i.r(e),i.d(e,{default:()=>E});var a=i(67376),t=i(54209),n=i(79843),l=i(41893),c=i(37734),o=i(6819),d=i(93347),r=i(85827),m=i(22748),h=i(35621),f=i(72612),x=i(52160),j=i(41397),u=i(59051),v=i.n(u),p=i(9950),A=i(56076),N=i(1203),y=i(44414);const g=function(s){const{activities:e=[]}=s;function i(s){return(0,y.jsxs)(A.A.Item,{children:[s.message?(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("p",{children:[s.message," ",s.name]})}):"-",s.ip_address?(0,y.jsxs)("p",{className:"date mb5",children:["[",s.ip_address,"]"]}):null,s.location?(0,y.jsxs)("p",{className:"date mb5",children:["[",s.location,"]"]}):null,(0,y.jsx)("p",{className:"date",children:v()(s.createdat).format("lll")})]},s.id)}return e.length,(0,j.isArray)(e)&&!(0,j.isEmpty)(e)?(0,y.jsx)("div",{className:"historyTimeline",style:{paddingTop:"15px"},children:(0,y.jsx)(A.A,{children:e.map((s=>i(s)))})}):(0,y.jsx)(N.A,{image:N.A.PRESENTED_IMAGE_SIMPLE})};const b=function(s){const{activities:e=[],setActiveTool:i=(()=>{})}=s;return(0,y.jsxs)("div",{className:"fileInfoMain",children:[(0,y.jsx)("div",{className:"wTitle",children:(0,y.jsxs)("p",{className:"title",children:[(0,y.jsx)(c.A,{id:"common.history"}),(0,y.jsx)(x.Ay,{type:"link",onClick:()=>i("file-info"),children:(0,y.jsxs)("span",{children:[(0,y.jsx)(c.A,{id:"common.fInfo"})," ",(0,y.jsx)(n.A,{})]})})]})}),(0,y.jsx)(g,{activities:e})]})};const E=function(s){let{fInfo:e={},setDocData:i=(()=>{}),activeTool:u,setActiveTool:A,docId:N}=s;const[g,E]=(0,p.useState)({loading:(0,j.isEmpty)(e)}),{loading:I}=g,[T,k]=(0,r.A)(3e3);(0,p.useEffect)((()=>{(0,j.isEmpty)(e)?async function(){try{const s=await(0,o.Ay)("file/get-details",{document_id:N},"post");s.success&&s.data?i((e=>({...e,fInfo:s.data||e.fInfo}))):((0,l.A)("error",s.message),E((s=>({...s,loading:!1}))))}catch(s){(0,l.A)("error"),E((s=>({...s,loading:!1})))}}():E((s=>({...s,loading:!1})))}),[e]);const C=(0,p.useMemo)((()=>d.ME.find((s=>s.name===e.status))),[e.status]),S=(null===C||void 0===C?void 0:C.color)||"";return"file-history"===u?(0,y.jsx)(b,{setActiveTool:A,activities:(null===e||void 0===e?void 0:e.activities)||[]}):(0,y.jsx)(f.A,{spinning:I,children:(0,y.jsxs)("div",{className:"fileInfoMain",children:[(0,y.jsx)("div",{className:"wTitle",children:(0,y.jsxs)("p",{className:"title",children:[(0,y.jsx)(c.A,{id:"common.fInfo"}),(0,y.jsx)(x.Ay,{type:"link",onClick:()=>A("file-history"),style:{color:"#0097A7"},children:(0,y.jsxs)("span",{children:[(0,y.jsx)(c.A,{id:"common.history"})," ",(0,y.jsx)(n.A,{})]})})]})}),(0,y.jsxs)("div",{className:"wContent",children:[(0,y.jsxs)("div",{className:"fSetting",children:[(0,y.jsx)("div",{className:"fLabel",children:(0,y.jsx)(c.A,{id:"common.filename"})}),(0,y.jsx)("div",{className:"fvalue fName",children:(0,y.jsx)(m.A,{placement:"topLeft",title:e.name,children:e.name||"-"})})]}),(0,y.jsxs)("div",{className:"fSetting",children:[(0,y.jsx)("div",{className:"fLabel",children:(0,y.jsx)(c.A,{id:"common.createdat"})}),(0,y.jsx)("div",{className:"fvalue",children:e.createdat?v()(e.createdat).format("lll"):"-"})]}),(0,y.jsxs)("div",{className:"fSetting",children:[(0,y.jsx)("div",{className:"label",children:(0,y.jsx)(c.A,{id:"documents.hash"})}),(0,y.jsxs)("div",{className:"fvalue hash",children:[(0,y.jsx)(m.A,{className:"fvalue hashCode",placement:"topLeft",title:e.hash,children:e.hash||"-"}),e.hash&&(0,y.jsx)(m.A,{className:"ml5",title:(0,y.jsx)(c.A,{id:"common.".concat(T?"copied":"copy")}),children:(0,y.jsx)(a.A,{onClick:()=>k(e.hash)})})]})]}),(0,y.jsxs)("div",{className:"fSetting",children:[(0,y.jsx)("div",{className:"fLabel",children:(0,y.jsx)(c.A,{id:"common.status"})}),(0,y.jsx)("div",{className:"fvalue",children:(0,y.jsx)(h.A,{color:S,icon:"Preparing"===e.status&&(0,y.jsx)(t.A,{spin:!0}),children:e.status&&(0,y.jsx)(c.A,{id:e.status.toLowerCase()})})})]})]})]})})}},85827:(s,e,i)=>{i.d(e,{A:()=>l});var a=i(9950),t=i(67243),n=i.n(t);function l(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const[e,i]=a.useState(!1),t=a.useCallback((s=>{"string"===typeof s||"number"===typeof s?(n()(s.toString()),i(!0)):(i(!1),console.error("Cannot copy typeof ".concat(typeof s," to clipboard, must be a string or number.")))}),[]);return a.useEffect((()=>{let a;return e&&s&&(a=setTimeout((()=>i(!1)),s)),()=>{clearTimeout(a)}}),[e,s]),[e,t]}}}]);