"use strict";(self.webpackChunkfilesdna=self.webpackChunkfilesdna||[]).push([[533],{68533:(e,t,l)=>{l.r(t),l.d(t,{default:()=>F});var a=l(9950),n=l(98341),o=l(68902),i=l(52160),s=l(94118),c=l(8750),r=l(28278),p=l(69466),d=l(41397),m=l(62298),y=l(51400),u=l(24513),h=l(44806),f=l(60974),g=l(8203),v=l(19841),b=l(60716),x=l(38900),A=l(15306),k=l(31840),j=l(58168);const w={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};var E=l(25085),B=function(e,t){return a.createElement(E.A,(0,j.A)({},e,{ref:t,icon:w}))};const C=a.forwardRef(B);var S=l(44414);const N=[{icon:(0,S.jsx)(m.A,{}),title:"Source",key:"form",type:"basic"},{icon:(0,S.jsx)(y.A,{}),title:"Email",key:"email",type:"basic"},{icon:(0,S.jsx)(u.A,{}),title:"Approve & Sign",key:"approveSign",type:"basic"},{icon:(0,S.jsx)(h.A,{}),title:"Approval",key:"approval",type:"basic"},{icon:(0,S.jsx)(f.A,{}),title:"Team Approval",key:"teamApproval",type:"basic"},{icon:(0,S.jsx)(g.A,{}),title:"Approval Report",key:"approvalReport",type:"basic"},{icon:(0,S.jsx)(v.A,{}),title:"Sign Document",key:"signDocument",type:"basic"},{icon:(0,S.jsx)(b.A,{}),title:"If/Else Condition",key:"ifElseCondition",type:"logic"},{icon:(0,S.jsx)(x.A,{}),title:"Conditional Branch",key:"conditionalBranch",type:"logic"},{icon:(0,S.jsx)(A.A,{}),title:"Split Branch",key:"splitBranch",type:"logic"},{icon:(0,S.jsx)(k.A,{}),title:"Merge Branches",key:"mergeBranch",type:"logic"},{icon:(0,S.jsx)(C,{}),title:"End Flow",key:"endFlow",type:"logic"}],D=[{type:"form",data:{label:"Form",form:null}},{type:"email",data:{label:"Email",email:null}},{type:"approveSign",data:{label:"Approve & Sign",outcomes:[{no:0,title:"Approve",color:"rgb(0, 151, 167)"},{no:1,title:"Deny",color:"rgb(213, 48, 73)"}],email:null}},{type:"approval",data:{label:"Approval",outcomes:[{no:0,title:"Approve",color:"rgb(0, 151, 167)"},{no:1,title:"Deny",color:"rgb(213, 48, 73)"}],email:null}},{type:"teamApproval",data:{label:"Team Approval",outcomes:[{no:0,title:"Approve",color:"rgb(0, 151, 167)"},{no:1,title:"Deny",color:"rgb(213, 48, 73)"}],team:null}},{type:"approvalReport",data:{label:"Approval Report",team:null}},{type:"pdf",data:{label:"PDF",doc:null}},{type:"signDocument",data:{label:"Sign Document",doc:null}},{type:"ifElseCondition",data:{label:"If/Else Condition"}},{type:"conditionalBranch",data:{label:"Conditional Branch"}},{type:"splitBranch",data:{label:"Split Branch"}},{type:"mergeBranch",data:{label:"Merge Branches"}},{type:"endFlow",data:{label:"End",endOption:1}}];function F(e){var t,l;const{nodes:m,setNodes:y,getNodes:u,deleteNode:h,onChange:f,forms:g,templates:v,quizs:b,selectedForms:x}=e,A=(0,n.useSelector)((e=>e.Auth.userData)),k=(null===A||void 0===A||null===(t=A.plan)||void 0===t||null===(l=t.currentPlan)||void 0===l?void 0:l.name.includes("Business"))||"team"===(null===A||void 0===A?void 0:A.role),[j,w]=(0,a.useState)(!0),[E,B]=(0,a.useState)(window.pageYOffset>65?57:122-window.pageYOffset),C=()=>{B(window.pageYOffset>65?57:122-window.pageYOffset)};(0,a.useEffect)((()=>(window.addEventListener("scroll",C),()=>{window.removeEventListener("scroll",C)})),[]);const F=e=>N.filter((t=>k?t.type===e:t.type===e&&"teamApproval"!==t.key)).map((e=>(0,S.jsxs)("div",{className:"element-list",onClick:()=>(e=>{const t=(0,d.cloneDeep)(D.filter((t=>t.type===e))[0]),l=Math.max(...m.map((e=>e.position.y))),a=Math.max(...m.map((e=>parseInt(e.id,10))));t.position={x:100,y:l+150},t.id="".concat(a+1),t.data.id="".concat(a+1),["form","ifElseCondition","conditionalBranch"].includes(t.type)&&(t.data.forms=g,t.data.quizs=b,t.data.templates=v,t.data.selectedForms=x),t.data.onChange=f,t.data.getNodes=u,t.data.setNodes=y,t.data.deleteNode=h,y((e=>e.concat(t)))})(e.key),children:[e.icon,(0,S.jsx)("span",{className:"title",children:e.title})]})));return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(p.ur,{className:"elements-bar",style:{position:"fixed",top:E,width:300,height:"calc( 100vh - ".concat(E,"px )"),left:j?0:"-300px"},children:[j&&(0,S.jsx)("style",{children:"\n            .react-flow__controls{\n              left: 300px !important;\n            }\n          "}),(0,S.jsxs)(a.Suspense,{fallback:(0,S.jsx)(r.A,{}),children:[(0,S.jsxs)("h3",{className:"elements-title",children:["Elements",(0,S.jsx)(s.A,{onClick:()=>w(!1)})]}),(0,S.jsx)(o.A,{items:[{label:"Basic Elements",key:0,children:F("basic")},{label:"Logic Elements",key:1,children:F("logic")}],className:"elements-tab",centered:!0})]})]}),(0,S.jsx)(i.Ay,{type:"primary",shape:"round",icon:(0,S.jsx)(c.A,{}),onClick:()=>w(!0),className:"toggleElement",style:{left:j?"-150px":"-15px"},children:"Add Elements"})]})}}}]);