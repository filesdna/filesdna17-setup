"use strict";(self.webpackChunkfilesdna=self.webpackChunkfilesdna||[]).push([[580],{8580:(e,a,t)=>{t.r(a),t.d(a,{default:()=>q});var s=t(9950),n=t(35398),i=t(96157),l=t(77645),o=t(52160),r=t(23072),c=t(10495),d=t(99386),h=t(35621),m=t(16895),p=t(62634),x=t(85333),u=t(45259),j=t(68902),v=t(40851),g=t(94118),A=t(53387),f=t(28278),y=t(69466),b=t(41397),C=t(4159),w=t.n(C),k=t(90923),N=t.n(k),F=(t(57871),t(44414));const E=e=>(e.charAt(0).toUpperCase()+e.slice(1)).replace(/([A-Z])/g," $1").trim();var S=t(6819),R=t(99901);function q(e){const{active:a,setActive:t,onChange:C}=e,[k,N]=(0,s.useState)([]),[q,O]=(0,s.useState)(window.pageYOffset>65?57:122-window.pageYOffset),D=()=>{O(window.pageYOffset>65?57:122-window.pageYOffset)};(0,s.useEffect)((()=>(window.addEventListener("scroll",D),()=>{window.removeEventListener("scroll",D)})),[]);const T=(e,s)=>{t({...a,data:{...a.data,[e]:s}}),C(a.id,[e],s)},L=e=>{T("approvers","undefined"===typeof a.data.approvers?[e]:(0,b.uniq)(a.data.approvers.concat(e)))},B=(0,F.jsxs)("div",{className:"property-container",children:[(0,F.jsx)("h3",{children:"Split branches"}),(0,F.jsx)("small",{children:"The Split element allows you to create parallel branches. Each branch will execute tasks concurrently."})]});return(0,F.jsx)(y.ur,{className:"elements-bar",style:{position:"fixed",top:q,width:a&&!["form","email","signDocument","pdf","ifElseCondition","conditionalBranch","outcome","empty"].includes(a.type)?320:0,height:"calc( 100vh - ".concat(q,"PX )"),right:0},children:a&&(0,F.jsxs)(s.Suspense,{fallback:(0,F.jsx)(f.A,{}),children:[(0,F.jsxs)("h3",{className:"elements-title",children:[E(a.type)," Properties",(0,F.jsx)(g.A,{onClick:()=>t(!1)})]}),"approvalReport"===a.type&&(e=>(0,F.jsxs)("div",{className:"property-container",children:[(0,F.jsx)("h3",{children:"Recipient Email Address"}),(0,F.jsx)(R.A,{email:e.data.recipientEmail,setEmail:e=>T("recipientEmail",e)}),(0,F.jsx)(r.A,{}),(0,F.jsx)("h3",{children:"Report Name"}),(0,F.jsx)(l.A,{value:e.data.reportName,onChange:e=>T("reportName",e.target.value)}),(0,F.jsx)(r.A,{}),(0,F.jsx)("h3",{children:"Report Comment"}),(0,F.jsx)(l.A.TextArea,{value:e.data.reportComment,onChange:e=>T("reportComment",e.target.value)})]}))(a),["approval","approveSign","teamApproval"].includes(a.type)&&(0,F.jsx)(j.A,{items:(e=>{var a,t;return[{key:"approve-sign-node-1",label:"General",children:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("h3",{children:"Outcomes"}),(0,F.jsx)(n.A,{itemLayout:"horizontal",dataSource:e.data.outcomes,renderItem:a=>(0,F.jsx)(n.A.Item,{actions:[(0,F.jsx)(i.A,{value:a.color,onChange:t=>T("outcomes",e.data.outcomes.map((e=>e.no!==a.no?e:{...e,color:t.toHexString()}))),children:(0,F.jsx)(v.A,{})}),(0,F.jsx)(g.A,{onClick:()=>T("outcomes",e.data.outcomes.filter((e=>e.no!==a.no)))})],className:"outcome-list",style:{background:a.color},children:(0,F.jsx)(n.A.Item.Meta,{title:(0,F.jsx)(l.A,{value:a.title,bordered:!1,onChange:t=>T("outcomes",e.data.outcomes.map((e=>e.no!==a.no?e:{...e,title:t.target.value})))})})})}),(0,F.jsx)(o.Ay,{icon:(0,F.jsx)(A.A,{}),type:"text",onClick:()=>T("outcomes",e.data.outcomes.concat({no:Math.max(...e.data.outcomes.map((e=>e.no)))+1,title:"New",color:"gray"})),children:"Add new outcome"}),(0,F.jsx)(r.A,{}),"approveSign"===e.type&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("h3",{children:"Require signature for:"}),(0,F.jsx)(c.A.Group,{options:void 0===e.data.outcomes?[]:e.data.outcomes.map((e=>e.title)),value:e.data.requireSignature,onChange:e=>T("requireSignature",e)}),(0,F.jsx)(r.A,{})]}),(0,F.jsxs)("h3",{children:["approval"===e.type?"Approvers":"approveSign"===e.type?"Signers":"Team",(0,F.jsx)("br",{}),(0,F.jsx)("small",{children:"You can select from contacts or team."})]}),"teamApproval"===e.type?(0,F.jsx)(d.A,{onFocus:()=>async function(){if(k.length<1){const e=await(0,S.Ay)("department/index");e.data&&N(e.data)}}(),style:{width:"100%"},options:k.map((e=>({label:e.name,value:"".concat(e.name," #").concat(e.id)}))),value:e.data.team,onChange:e=>T("team",e)}):(0,F.jsxs)(F.Fragment,{children:[null===(a=e.data.approvers)||void 0===a?void 0:a.map((a=>(0,F.jsx)(h.A,{closable:!0,onClose:t=>{t.preventDefault();const s=e.data.approvers.filter((e=>e!==a));T("approvers",s)},children:a}))),(null===(t=e.data.approvers)||void 0===t?void 0:t.length)>0&&(0,F.jsx)("div",{style:{marginBottom:"10px"}}),(0,F.jsx)(R.A,{setEmail:L})]}),(0,F.jsx)(r.A,{}),(0,F.jsx)("h3",{children:"Completion Rule"}),(0,F.jsx)(d.A,{options:[{label:"Require response from majority",value:"m"},{label:"Require response from all",value:"a"},{label:"Require response from one person",value:"o"}],style:{width:"100%"},value:e.data.completionRule,onChange:e=>T("completionRule",e)}),(0,F.jsx)(r.A,{}),(0,F.jsxs)("div",{className:"flex",children:[(0,F.jsx)("div",{children:(0,F.jsxs)("h3",{children:["Notification Email",(0,F.jsx)("br",{}),(0,F.jsx)("small",{children:"Notify signers via email"})]})}),(0,F.jsx)(m.A,{checked:e.data.notiify,onChange:e=>T("notify",e)})]}),(0,F.jsx)(r.A,{}),(0,F.jsxs)("div",{className:"flex",children:[(0,F.jsx)("div",{children:(0,F.jsx)("h3",{children:"Require Login for Signer"})}),(0,F.jsx)(m.A,{checked:e.data.requireLogin,onChange:e=>T("requireLogin",e)})]})]})},{key:"approve-sign-node-3",label:"Advanced",children:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)("div",{className:"flex",children:[(0,F.jsx)("div",{children:(0,F.jsxs)("h3",{children:["Reassign",(0,F.jsx)("br",{}),(0,F.jsx)("small",{children:"Allow your assignee to reassign this task to another person."})]})}),(0,F.jsx)(m.A,{checked:e.data.reassign,onChange:e=>T("reassign",e)})]}),e.data.reassign&&(0,F.jsx)(c.A,{checked:e.data.reassignNotify,onChange:e=>T("reassignNotify",e),children:"Send me a notificaiotn email when the task is reassigned."}),(0,F.jsx)(r.A,{}),(0,F.jsxs)("div",{className:"flex",children:[(0,F.jsx)("div",{children:(0,F.jsxs)("h3",{children:["Require Comments",(0,F.jsx)("br",{}),(0,F.jsx)("small",{children:"Prevant task completion if the comments section is empty."})]})}),(0,F.jsx)(m.A,{checked:e.data.requireComments,onChange:e=>T("requireComments",e)})]}),(0,F.jsx)(r.A,{}),(0,F.jsxs)("div",{className:"flex",children:[(0,F.jsx)("div",{children:(0,F.jsxs)("h3",{children:["Escalation",(0,F.jsx)("br",{}),(0,F.jsx)("small",{children:"After a specified time period, escalate the task to someone else."})]})}),(0,F.jsx)(m.A,{checked:e.data.escalation,onChange:e=>T("escalation",e)})]}),e.data.escalation&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("h3",{children:"Due Date for Escalation"}),(0,F.jsx)(p.A,{value:e.data.escalateDate?w()(e.data.escalateDate):null,onChange:e=>T("escalateDate",e)}),(0,F.jsx)(r.A,{}),(0,F.jsx)("h3",{children:"Escalate Task"}),(0,F.jsx)(R.A,{email:e.data.escalateEmail,setEmail:e=>T("escalateEmail",e)})]}),(0,F.jsx)(r.A,{}),(0,F.jsxs)("div",{className:"flex",children:[(0,F.jsx)("div",{children:(0,F.jsxs)("h3",{children:["Automatically Finish the Task",(0,F.jsx)("br",{}),(0,F.jsx)("small",{children:"After the specified time period, automatically finish the task with the slected outome."})]})}),(0,F.jsx)(m.A,{checked:e.data.autoFinish,onChange:e=>T("autoFinish",e)})]}),e.data.autoFinish&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("h3",{children:"AutoFinish Date"}),(0,F.jsx)(p.A,{value:e.data.autoFinishDate?w()(e.data.autoFinishDate):null,onChange:e=>T("autoFinishDate",e)}),(0,F.jsx)("h3",{style:{marginTop:"5px"},children:"AutoFinish Outcome"}),(0,F.jsx)(d.A,{style:{width:"100%"},value:e.autoFinishOutcome,options:e.data.outcomes.map((e=>({label:e.title,value:e.title}))),onChange:e=>T("autoFinishOutcome",e)})]}),(0,F.jsx)(r.A,{})]})}]})(a),centered:!0}),"splitBranch"===a.type&&B,"mergeBranch"===a.type&&(e=>(0,F.jsx)("div",{className:"property-container",children:(0,F.jsx)(x.Ay.Group,{onChange:e=>T("mergeOption",e.target.value),value:e.data.mergeOption,className:"custom-radio-group",children:(0,F.jsxs)(u.A,{direction:"vertical",children:[(0,F.jsxs)(x.Ay,{value:1,children:["Wait for all branches to be completed",(0,F.jsx)("br",{}),(0,F.jsx)("small",{children:"Wait until all branches are completed then move to the next step."})]}),(0,F.jsxs)(x.Ay,{value:2,children:["Wait for any branch to be completed.",(0,F.jsx)("br",{}),(0,F.jsx)("small",{children:"Wait for any of the branches to complete then move to the next step. Other remaining active branches will expire."})]})]})})}))(a),"endFlow"===a.type&&(e=>(0,F.jsx)("div",{className:"property-container",children:(0,F.jsx)(x.Ay.Group,{onChange:e=>T("endOption",e.target.value),value:e.data.endOption,className:"custom-radio-group",children:(0,F.jsxs)(u.A,{direction:"vertical",children:[(0,F.jsxs)(x.Ay,{value:1,children:["End Branch",(0,F.jsx)("br",{}),(0,F.jsx)("small",{children:"Visually indicates that the branch path is completed. All other active branches remain active."})]}),(0,F.jsxs)(x.Ay,{value:2,children:["Terminate Flow",(0,F.jsx)("br",{}),(0,F.jsx)("small",{children:"Flow is terminated when this step is readed and all active branches gets expired."})]})]})})}))(a)]})})}w().extend(N())}}]);